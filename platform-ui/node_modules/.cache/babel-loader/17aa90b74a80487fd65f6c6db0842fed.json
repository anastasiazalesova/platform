{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { throttle } from 'lodash';\n\nfunction useDocumentScrollThrottled(callback) {\n  const [, setScrollPosition] = useState(0);\n  let previousScrollTop = 0;\n\n  function handleDocumentScroll() {\n    const {\n      scrollTop: currentScrollTop\n    } = document.documentElement || document.body;\n    setScrollPosition(previousPosition => {\n      previousScrollTop = previousPosition;\n      return currentScrollTop;\n    });\n    callback({\n      previousScrollTop,\n      currentScrollTop\n    });\n  }\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleDocumentScrollThrottled);\n    return () => window.removeEventListener('scroll', handleDocumentScrollThrottled);\n  }, []);\n}\n\nexport default useDocumentScrollThrottled;","map":{"version":3,"sources":["/Users/a17839534/jsProjects/platform-ui/src/useDocumentScrollThrottled.js"],"names":["useEffect","useState","throttle","useDocumentScrollThrottled","callback","setScrollPosition","previousScrollTop","handleDocumentScroll","scrollTop","currentScrollTop","document","documentElement","body","previousPosition","window","addEventListener","handleDocumentScrollThrottled","removeEventListener"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,QAAT,QAAyB,QAAzB;;AAEA,SAASC,0BAAT,CAAoCC,QAApC,EAA8C;AAC5C,QAAM,GAAGC,iBAAH,IAAwBJ,QAAQ,CAAC,CAAD,CAAtC;AACA,MAAIK,iBAAiB,GAAG,CAAxB;;AAIA,WAASC,oBAAT,GAAgC;AAC9B,UAAM;AAAEC,MAAAA,SAAS,EAAEC;AAAb,QAAkCC,QAAQ,CAACC,eAAT,IAA4BD,QAAQ,CAACE,IAA7E;AAEAP,IAAAA,iBAAiB,CAACQ,gBAAgB,IAAI;AACpCP,MAAAA,iBAAiB,GAAGO,gBAApB;AACA,aAAOJ,gBAAP;AACD,KAHgB,CAAjB;AAKAL,IAAAA,QAAQ,CAAC;AAAEE,MAAAA,iBAAF;AAAqBG,MAAAA;AAArB,KAAD,CAAR;AACD;;AAEDT,EAAAA,SAAS,CAAC,MAAM;AACdc,IAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkCC,6BAAlC;AAEA,WAAO,MACLF,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqCD,6BAArC,CADF;AAED,GALQ,EAKN,EALM,CAAT;AAMD;;AAED,eAAeb,0BAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport { throttle } from 'lodash';\n\nfunction useDocumentScrollThrottled(callback) {\n  const [, setScrollPosition] = useState(0);\n  let previousScrollTop = 0;\n\n  \n\n  function handleDocumentScroll() {\n    const { scrollTop: currentScrollTop } = document.documentElement || document.body;\n\n    setScrollPosition(previousPosition => {\n      previousScrollTop = previousPosition;\n      return currentScrollTop;\n    });\n\n    callback({ previousScrollTop, currentScrollTop });\n  }\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleDocumentScrollThrottled);\n\n    return () =>\n      window.removeEventListener('scroll', handleDocumentScrollThrottled);\n  }, []);\n}\n\nexport default useDocumentScrollThrottled;"]},"metadata":{},"sourceType":"module"}