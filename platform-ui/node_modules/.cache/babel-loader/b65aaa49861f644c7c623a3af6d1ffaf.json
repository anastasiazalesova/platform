{"ast":null,"code":"import _slicedToArray from\"/Users/a17839534/jsProjects/platform-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{throttle}from'lodash';function useDocumentScrollThrottled(callback){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),setScrollPosition=_useState2[1];var previousScrollTop=0;var handleDocumentScrollThrottled=throttle(handleDocumentScroll,250);function handleDocumentScroll(){var _ref=document.documentElement||document.body,currentScrollTop=_ref.scrollTop;setScrollPosition(function(previousPosition){previousScrollTop=previousPosition;return currentScrollTop;});callback({previousScrollTop:previousScrollTop,currentScrollTop:currentScrollTop});}useEffect(function(){window.addEventListener('scroll',handleDocumentScrollThrottled);return function(){return window.removeEventListener('scroll',handleDocumentScrollThrottled);};},[]);}export default useDocumentScrollThrottled;","map":{"version":3,"sources":["/Users/a17839534/jsProjects/platform-ui/src/js/useDocumentScrollThrottled.js"],"names":["useEffect","useState","throttle","useDocumentScrollThrottled","callback","setScrollPosition","previousScrollTop","handleDocumentScrollThrottled","handleDocumentScroll","document","documentElement","body","currentScrollTop","scrollTop","previousPosition","window","addEventListener","removeEventListener"],"mappings":"8JAAA,OAASA,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,QAAT,KAAyB,QAAzB,CAEA,QAASC,CAAAA,0BAAT,CAAoCC,QAApC,CAA8C,eACdH,QAAQ,CAAC,CAAD,CADM,wCACnCI,iBADmC,eAE5C,GAAIC,CAAAA,iBAAiB,CAAG,CAAxB,CAEA,GAAMC,CAAAA,6BAA6B,CAAGL,QAAQ,CAACM,oBAAD,CAAuB,GAAvB,CAA9C,CAEA,QAASA,CAAAA,oBAAT,EAAgC,UACUC,QAAQ,CAACC,eAAT,EAA4BD,QAAQ,CAACE,IAD/C,CACXC,gBADW,MACtBC,SADsB,CAG9BR,iBAAiB,CAAC,SAAAS,gBAAgB,CAAI,CACpCR,iBAAiB,CAAGQ,gBAApB,CACA,MAAOF,CAAAA,gBAAP,CACD,CAHgB,CAAjB,CAKAR,QAAQ,CAAC,CAAEE,iBAAiB,CAAjBA,iBAAF,CAAqBM,gBAAgB,CAAhBA,gBAArB,CAAD,CAAR,CACD,CAEDZ,SAAS,CAAC,UAAM,CACde,MAAM,CAACC,gBAAP,CAAwB,QAAxB,CAAkCT,6BAAlC,EAEA,MAAO,kBACLQ,CAAAA,MAAM,CAACE,mBAAP,CAA2B,QAA3B,CAAqCV,6BAArC,CADK,EAAP,CAED,CALQ,CAKN,EALM,CAAT,CAMD,CAED,cAAeJ,CAAAA,0BAAf","sourcesContent":["import { useEffect, useState } from 'react';\nimport { throttle } from 'lodash';\n\nfunction useDocumentScrollThrottled(callback) {\n  const [, setScrollPosition] = useState(0);\n  let previousScrollTop = 0;\n\n  const handleDocumentScrollThrottled = throttle(handleDocumentScroll, 250);\n\n  function handleDocumentScroll() {\n    const { scrollTop: currentScrollTop } = document.documentElement || document.body;\n\n    setScrollPosition(previousPosition => {\n      previousScrollTop = previousPosition;\n      return currentScrollTop;\n    });\n\n    callback({ previousScrollTop, currentScrollTop });\n  }\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleDocumentScrollThrottled);\n\n    return () =>\n      window.removeEventListener('scroll', handleDocumentScrollThrottled);\n  }, []);\n}\n\nexport default useDocumentScrollThrottled;"]},"metadata":{},"sourceType":"module"}