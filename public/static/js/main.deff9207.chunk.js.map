{"version":3,"sources":["js/useDocumentScrollThrottled.js","js/header.js","js/news/news_piece.js","js/events/event.js","js/email/email.js","js/data-loader.js","js/body.js","js/data-utils.js","js/courses-body.js","js/data_mock/email-data-mock.js","js/email/email-scroll.js","js/email-body.js","js/email/email-send-scroll.js","js/email-send-body.js","js/data_mock/student-book-data-mock.js","js/student-book-body.js","js/choose-minor.js","js/choose-course.js","js/point-your-courses.js","js/point-colleagues.js","js/bkp-kp.js","js/login.js","js/signup.js","js/exit.js","index.js"],"names":["useDocumentScrollThrottled","callback","useState","setScrollPosition","previousScrollTop","handleDocumentScrollThrottled","throttle","currentScrollTop","document","documentElement","body","scrollTop","previousPosition","useEffect","window","addEventListener","removeEventListener","Header","props","shouldHideHeader","setShouldHideHeader","shouldShowShadow","setShouldShowShadow","shoundShowAllSections","setShoundShowAllSections","callbackData","isScrolledDown","isMinimumScrolled","setTimeout","shadowStyle","hiddenStyle","allSectionsStyle","console","log","className","onMouseLeave","href","type","placeholder","required","path","children","match","id","onMouseEnter","style","color","src","to","NewsPiece","title","time","dangerouslySetInnerHTML","__html","content","Event","typeValue","typeColor","image","header","background","Email","author","status","loadAllDisciplines","handleResult","coursesMap","Map","axios","get","withCredentials","then","response","data","map","it","set","courseId","courseName","name","modsMap","course","course_id","modId","modName","disciplinesMap","r","Array","from","values","val","d","mod","mod_id","disciplineId","disciplineName","marks","handleError","promise","catch","error","loadUsersById","userIds","usersMap","push","all","spread","responses","forEach","a","fetch","json","timeSince","Date","description","date","seconds","Math","floor","interval","Body","state","news","fetchNews","result","setState","events","this","slice","React","Component","coursesMapProcessor","handleArguments","discipline","CoursesBody","selectedOption","selectedContent","handleChange","handleClick","selectedContentKey","newSelectedContent","value","found","materials","material","url","coursesMapTmp","discipline_id","options","entries","pair","label","mats","key","onClick","styles","borderRadius","onChange","classNamePrefix","height","folders","messages","isNew","authors","login","EmailDataMock","folderId","EmailScroll","selected","message","selectedFalse","cardClassName","supplierName","supplier","firstName","lastName","new","created_at","mock","EmailBody","getFolders","selectedMessage","foldersMap","itemsRefs","foldersMapTmp","currentUser","messagesMap","msg","supplier_id","consumer_id","loadMessages","auth","user","users","Set","folder","add","consumer","items","ref","createRef","current","EmailSendScroll","consumerName","EmailSendBody","sended","selectedAthor","updateTheme","evt","themeInputValue","target","updateBody","bodyInputValue","loadUsers","msgToSend","post","email","personData","faculty","midName","roleDescription","courseStats","rateCurrent","rateMax","percentile","pointAvg","mapCourseModules","mapModuleDisciplines","mapModuleNames","mapDisciplineData","tenPointSystem","fivePointSystem","retries","lastTry","teacher","moduleId","StudentBookBody","modsVal","mark","includes","rs","m","teacher_id","teacherName","input","getElementById","html2canvas","canvas","imgData","toDataURL","pdf","jsPDF","addImage","save","rows","colSpan","disciplineIn","marksLength","length","marksMoreThanZero","tenPointSystemPoint","fivePointSystemPoint","toLocaleDateString","tableRowData","getCourseStats","width","ChooseMinorBody","backgroundColor","fontSize","lineHeight","letterSpacing","textAlign","marginLeft","marginTop","display","justifyItems","verticalAlign","paddingLeft","marginBottom","left","ChooseCourseBody","alignItems","position","maxHeight","paddingBottom","PointYourCoursesBody","courseData","dateRange","dateBegin","dateEnd","PointColleaguesBody","pointColleaguesData","BkpKpBody","bkpKpData","jobType","theme","themeEng","downloaded","percentOrigin","checkStatus","point","review","critique","Login","event","handleSubmit","preventDefault","password","logged_in","handleLogin","redirect","errors","loggedIn","handleErrors","handleLogout","onSubmit","flexDirection","margin","fontWeight","border","textIndent","Signup","password_confirmation","Exit","customHistory","createBrowserHistory","Context","createContext","initialState","isLoggedIn","route","reducer","action","UserContextProvider","useReducer","dispatch","location","useLocation","pathname","Provider","App","history","loggedInStatus","exact","component","render","waitForLogin","signupForm","loginForm","contextType","Index","Consumer","global","querySelector"],"mappings":"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","file":"static/js/main.deff9207.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport { throttle } from 'lodash';\n\nfunction useDocumentScrollThrottled(callback) {\n  const [, setScrollPosition] = useState(0);\n  let previousScrollTop = 0;\n\n  const handleDocumentScrollThrottled = throttle(handleDocumentScroll, 250);\n\n  function handleDocumentScroll() {\n    const { scrollTop: currentScrollTop } = document.documentElement || document.body;\n\n    setScrollPosition(previousPosition => {\n      previousScrollTop = previousPosition;\n      return currentScrollTop;\n    });\n\n    callback({ previousScrollTop, currentScrollTop });\n  }\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleDocumentScrollThrottled);\n\n    return () =>\n      window.removeEventListener('scroll', handleDocumentScrollThrottled);\n  }, []);\n}\n\nexport default useDocumentScrollThrottled;","import React, { useState } from 'react';\nimport { Route, Link} from 'react-router-dom';\n\nimport useDocumentScrollThrottled from './useDocumentScrollThrottled.js';\n\nfunction Header(props) {\n  const [shouldHideHeader, setShouldHideHeader] = useState(false);\n  const [shouldShowShadow, setShouldShowShadow] = useState(false);\n  const [shoundShowAllSections, setShoundShowAllSections] = useState(false);\n\n  const MINIMUM_SCROLL = 80;\n  const TIMEOUT_DELAY = 400;\n\n  useDocumentScrollThrottled(callbackData => {\n    const { previousScrollTop, currentScrollTop } = callbackData;\n    const isScrolledDown = previousScrollTop < currentScrollTop;\n    const isMinimumScrolled = currentScrollTop > MINIMUM_SCROLL;\n\n    setShouldShowShadow(currentScrollTop > 2);\n\n    setTimeout(() => {\n      setShouldHideHeader(isScrolledDown && isMinimumScrolled);\n    }, TIMEOUT_DELAY);\n  });\n\n  const shadowStyle = shouldShowShadow ? 'shadow' : '';\n  const hiddenStyle = shouldHideHeader ? 'hidden' : '';\n  const allSectionsStyle = shoundShowAllSections && !shouldHideHeader ? 'header-all-sections' : 'header-all-sections-hidden';\n  console.log('hover?', allSectionsStyle);\n  return (\n    <header className={`header ${shadowStyle} ${hiddenStyle}`} onMouseLeave={() => {setShoundShowAllSections(false)}}>\n      <div className=\"logo\"><a href=\"/\">LMS</a></div>\n      <div className=\"flexbox\">\n        <div className=\"search\">\n          <div>\n            <input type=\"text\" placeholder=\"       Search . . .\" required></input>\n          </div>\n        </div>\n      </div>\n      <ul className=\"links\">\n        <Route path=\"/courses\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"my-courses\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/courses\" style={{color: '#000'}}>Мои курсы</a></li> :\n            <li className=\"link-item\" id=\"my-courses\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/courses\">Мои курсы</a></li>\n        )}/>\n        <Route path=\"/student-book\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"student-book\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/student-book\" style={{color: '#000'}}>Зачетка</a></li> :\n            <li className=\"link-item\" id=\"student-book\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/student-book\">Зачетка</a></li>\n        )}/>\n        <Route path=\"/schedule\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"schedule\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/schedule\" style={{color: '#000'}}>Расписание</a></li> :\n            <li className=\"link-item\" id=\"schedule\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/schedule\">Расписание</a></li>\n        )}/>\n        <Route path=\"/all-sections\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"all-sections\" onMouseEnter={() => {setShoundShowAllSections(true)}}><a href=\"/all-sections\" style={{color: '#000'}}>Все разделы</a></li> :\n            <li className=\"link-item\" id=\"all-sections\" onMouseEnter={() => {setShoundShowAllSections(true)}}><a href=\"/all-sections\">Все разделы</a></li>\n        )}/>\n        <Route path=\"/chat\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"chat\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/email\" style={{color: '#000'}}><img src=\"chat.png\"></img></a></li> :\n            <li className=\"link-item\" id=\"chat\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/email\"><img src=\"chat.png\"></img></a></li>\n        )}/>\n        <Route path=\"/profile\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"profile\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/profile\" style={{color: '#000'}}><img src=\"profile.png\"></img></a></li> :\n            <li className=\"link-item\" id=\"profile\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/profile\"><img src=\"profile.png\"></img></a></li>\n        )}/>\n        <Route path=\"/exit\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"exit\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/exit\" style={{color: '#000'}}>Выйти</a></li> :\n            <li className=\"link-item\" id=\"exit\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/exit\">Выйти</a></li>\n        )}/>\n      </ul>\n      <div className={`${allSectionsStyle}`} onMouseEnter={() => {setShoundShowAllSections(true)}} onMouseLeave={() => {setShoundShowAllSections(false)}}>\n        <div className=\"header-all-sections-container\">\n          <div className=\"header-all-sections-column\">\n            <div className=\"header-all-sections-card\">НЕ ЗАБУДЬ ОЦЕНИТЬ</div>\n            <Link to=\"/point-your-courses\">\n              <div className=\"header-all-sections-card\">\n                <div className=\"header-all-sections-icon\"><img src=\"/point-your-courses.png\"/></div>\n                <div className=\"header-all-sections-title\"><p>Оцени свои курсы</p></div>\n              </div>\n            </Link>\n            <Link to=\"/point-colleagues\">\n              <div className=\"header-all-sections-card\">\n                <div className=\"header-all-sections-icon\"><img src=\"/point-colleagues.png\"/></div>\n                <div className=\"header-all-sections-title\"><p>Оценка сотрудников</p></div>\n              </div>\n            </Link>\n          </div>\n          <div className=\"header-all-sections-column\">\n            <div className=\"header-all-sections-card\">ВЫБОР ДИСЦИПЛИН И ТЕМ</div>\n            <Link to=\"/choose-minor\">\n              <div className=\"header-all-sections-card\">\n                <div className=\"header-all-sections-icon\"><img src=\"/choose-minor.png\"/></div>\n                <div className=\"header-all-sections-title\"><p>Выбор майнора</p></div>\n              </div>\n            </Link>\n            <Link to=\"/choose-course\">\n              <div className=\"header-all-sections-card\">\n                <div className=\"header-all-sections-icon\"><img src=\"/choose-course.png\"/></div>\n                <div className=\"header-all-sections-title\"><p>Курсы по выбору</p></div>\n              </div>\n            </Link>\n            <Link to=\"/themes-KP-BKP\">\n              <div className=\"header-all-sections-card\">\n                <div className=\"header-all-sections-icon\"><img src=\"/themes-KP-BKP.png\"/></div>\n                <div className=\"header-all-sections-title\"><p>Темы KP/BKP</p></div>\n              </div>\n            </Link>\n            <Link to=\"/KP-BKP\">\n              <div className=\"header-all-sections-card\">\n                <div className=\"header-all-sections-icon\"><img src=\"/KP-BKP.png\"/></div>\n                <div className=\"header-all-sections-title\"><p>KP/BKP</p></div>\n              </div>\n            </Link>\n          </div>\n          <div className=\"header-all-sections-column\">\n            <div className=\"header-all-sections-card\">ЗАЯВКИ</div>\n            <Link to=\"/req-pgas\">\n              <div className=\"header-all-sections-card\">\n                <div className=\"header-all-sections-icon\"><img src=\"/req-pgas.png\"/></div>\n                <div className=\"header-all-sections-title\"><p>Заявка на ПГАС</p></div>\n              </div>\n            </Link>\n            <Link to=\"/transfer\">\n              <div className=\"header-all-sections-card\">\n                <div className=\"header-all-sections-icon\"><img src=\"/transfer.png\"/></div>\n                <div className=\"header-all-sections-title\"><p>Перевод</p></div>\n              </div>\n            </Link>\n            <Link to=\"/relocation\">\n              <div className=\"header-all-sections-card\">\n                <div className=\"header-all-sections-icon\"><img src=\"/relocation.png\"/></div>\n                <div className=\"header-all-sections-title\"><p>Переезд из общежития</p></div>\n              </div>\n            </Link>\n            <Link to=\"/practic-req\">\n              <div className=\"header-all-sections-card\">\n                <div className=\"header-all-sections-icon\"><img src=\"/practic-req.png\"/></div>\n                <div className=\"header-all-sections-title\"><p>Заявка на практику</p></div>\n              </div>\n            </Link>\n            <Link to=\"/vbm-req\">\n              <div className=\"header-all-sections-card\">\n                <div className=\"header-all-sections-icon\"><img src=\"/vbm-req.png\"/></div>\n                <div className=\"header-all-sections-title\"><p>Заявка на ВБМ</p></div>\n              </div>\n            </Link>\n          </div>\n          <div className=\"header-all-sections-column\">\n          <div className=\"header-all-sections-card\">ПОМОЩЬ</div>\n          <Link to=\"/support\">\n            <div className=\"header-all-sections-card\">\n              <div className=\"header-all-sections-icon\"><img src=\"/support.png\"/></div>\n              <div className=\"header-all-sections-title\"><p>Служба поддержки</p></div>\n            </div>\n          </Link>\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nfunction NewsPiece(props) {\n  return (\n  \t<div className=\"card-box\">\n      <div className=\"news-piece-card-header\">\n        <div className=\"news-piece-card-title\">\n          <h2>{props.title}</h2>\n        </div>\n        <div className=\"news-piece-card-time\"><p>{props.time}</p></div>\n      </div>\n      <div className=\"news-piece-card-content\">\n      <p dangerouslySetInnerHTML={{__html: props.content}}></p>\n      </div>\n    </div>\n  );\n}\n\nexport default NewsPiece;\n","import React from 'react';\n\nfunction Event(props) {\n  let typeValue = null;\n  let typeColor = null;\n  switch (props.type) {\n    case 'EVENT':\n      typeValue = 'МЕРОПРИЯТИЕ';\n      typeColor = '#0579FF';\n      break;\n    case 'DEADLINE':\n      typeValue = 'ДЕДЛАЙН';\n      typeColor = '#FF4701';\n      break;\n  }\n  return (\n  \t<div className=\"card-box\">\n      <div className=\"events-card-img\">\n        <img src={props.image}></img>\n      </div>\n      <div className=\"events-card-header\">\n        <h3>{props.header}</h3>\n      </div>\n      <div className=\"events-card-content\">\n        <p>{props.content}</p>\n      </div>\n      <div className=\"events-card-type\" style={{background: typeColor}}>\n        <p>{typeValue}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Event;","import React from 'react';\n\nfunction Email(props) {\n  return (\n  \t<div className=\"email-card-box\">\n      <div className=\"email-card-header\">\n        <div className=\"email-card-author\"><p>{props.author}</p></div>\n        <div className=\"email-card-status-time\">\n          {props.status == 'NEW' && <div className=\"email-card-status\"></div>}\n          <div className=\"email-card-time\"><p>{props.time}</p></div>\n        </div>\n      </div>\n      <div className=\"email-card-title\">\n        <h3>{props.title}</h3>\n      </div>\n      <div className=\"email-card-content\">\n        <p>{props.content}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Email;","import React from 'react';\nimport axios from 'axios'\n\nexport function loadMessages(currentUser, handleResult) {\n  let foldersMap = new Map([]);\n  foldersMap.set('income', {\n    name: 'Входящие',\n    messagesMap: new Map([])\n  });\n  foldersMap.set('outcome', {\n    name: 'Исходящие',\n    messagesMap: new Map([])\n  });\n  return axios.get('http://localhost:3000/railsapp/emails.json', {withCredentials: true})\n    .then(response => {\n      response.data.forEach(msg => {\n        if (msg.supplier_id === currentUser.id) {\n          foldersMap.get('outcome').messagesMap.set(msg.id, msg);\n        }\n        if (msg.consumer_id === currentUser.id) {\n          foldersMap.get('income').messagesMap.set(msg.id, msg);\n        }\n      });\n\n      handleResult(foldersMap);\n    })\n}\n\nexport function loadAllDisciplines(handleResult) {\n  let coursesMap = new Map([]);\n  return axios.get('http://localhost:3000/railsapp/courses.json', {withCredentials: true})\n    .then(response => {\n      console.log('resp courses - ', response);\n      response.data.map(it => coursesMap.set(it.id, {\n        courseId: it.id,\n        courseName: it.name,\n        modsMap: new Map([])\n      }));\n      return axios.get('http://localhost:3000/railsapp/mods.json', {withCredentials: true})\n    })\n    .then(response => {\n      console.log('resp mods - ', response);\n      response.data.map(it => {\n        let course = coursesMap.get(it.course_id);\n        console.log('course in mods processor - ', course);\n\n        if (course) {\n          course.modsMap.set(it.id, {\n            modId: it.id,\n            modName: it.name,\n            disciplinesMap: new Map([])\n          })\n        }\n      })\n      return axios.get('http://localhost:3000/railsapp/disciplines.json', {withCredentials: true})\n    })\n    .then(response => {\n      let r = response.data;\n      Array.from(coursesMap.values()).map(val => {\n        r.map(d => {\n          let mod = val.modsMap.get(d.mod_id);\n          if (mod) {\n            mod.disciplinesMap.set(d.id, {\n              disciplineId: d.id,\n              disciplineName: d.name,\n              marks: []\n            })\n          }\n        })\n      })\n      console.log('resp disceps - ', response);\n      handleResult(coursesMap);\n    })\n}\n\nexport function handleError(promise) {\n  return promise.catch(error => console.log('api errors:', error));\n}\n\nexport function loadUsersById(userIds, handleResult) {\n  let usersMap = new Map([]);\n  let r = [];\n  for (let id of userIds) {\n    r.push(axios.get(\"http://localhost:3000/railsapp/users/\" + id + \".json\", {withCredentials: true}));\n  }\n  return axios.all(r)\n    .then(axios.spread((...responses) => {\n      responses.forEach(r => {\n        usersMap.set(r.data.id, r.data);\n      })\n      handleResult(usersMap);\n    }));\n}\n\nexport function loadUsers(handleResult) {\n  let usersMap = new Map([]);\n  return axios.get(\"http://localhost:3000/railsapp/users.json\", {withCredentials: true})\n    .then(response => {\n      response.data.forEach(user => {\n        usersMap.set(user.id, user);\n      })\n      handleResult(usersMap);\n    });\n}\n\nexport function sendMessage(message, handleResult) {\n  return axios.post(\"http://localhost:3000/railsapp/emails.json\", {email: message}, {withCredentials: true})\n    .then(response => {\n      handleResult(response);\n    })\n}\n\nexport function loadEvents(handleResult) {\n  return axios.get(\"http://localhost:3000/railsapp/events.json\", {withCredentials: true})\n    .then(response => {\n      handleResult(response.data);\n    })\n}\n","import React from 'react';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport { loadEvents, handleError } from './data-loader.js'\n\nclass Body extends React.Component {\n  state = {\n    news: null\n  };\n\n  componentDidMount () {\n    fetchNews().then(result => {\n      console.log('result - ', result);\n      this.setState({news: result});\n    });\n    handleError(\n      loadEvents((events) => console.log('events - ', events))\n    )\n  }\n\n  render() {\n    return (\n      <section className=\"section\">\n        <div className=\"content\">\n          <h1 className=\"page-title\">Главная</h1>\n          <div>\n            <div className=\"cards-header\"><h2>Новости</h2></div>\n            <div className=\"cards-link-see-all\"><a href=\"\">Смотреть все</a></div>\n            <div className=\"cards\">\n              {this.state.news && this.state.news.slice(0, 3)}\n            </div>\n          </div>\n          <div>\n            <div className=\"cards-header\"><h2>События</h2></div>\n            <div className=\"cards-link-see-all\"><a href=\"\">Смотреть все</a></div>\n            <div className=\"cards\">\n              <Event\n                  header=\"День Вышки\"\n                  content=\"4 сентября в &laquo;Парк Горького&laquo;\"\n                  type=\"EVENT\"\n                  image=\"https://images.unsplash.com/photo-1517463859029-c01164a5505a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=3300&q=80\"\n              ></Event>\n              <Event\n                  header=\"Просмотр по технологиям дизайна\"\n                  content=\"9 октября в 265 аудитории\"\n                  type=\"DEADLINE\"\n                  image=\"https://images.unsplash.com/photo-1518347257504-c8ff93b3edb7?ixlib=rb-1.2.1&auto=format&fit=crop&w=3368&q=80\"\n              ></Event>\n              <Event\n                  header=\"Просмотр по Английскому языку\"\n                  content=\"9 октября в 265 аудитории\"\n                  type=\"DEADLINE\"\n                  image=\"https://images.unsplash.com/photo-1586791910032-5082330c9b00?ixlib=rb-1.2.1&auto=format&fit=crop&w=969&q=80\"\n              ></Event>\n            </div>\n          </div>\n          <div>\n            <div className=\"cards-header\"><h2>Сообщения</h2></div>\n            <div className=\"cards-link-see-all\"><a href=\"\">Смотреть все</a></div>\n            <div className=\"cards\">\n              <Email\n                  author=\"Михайлова А.В.\"\n                  status=\"NEW\"\n                  time=\"19 июн 2019, 10:49:44\"\n                  title=\"О критериях оценки питча\"\n                  content=\"В ЛМС, в папке &quot;Материалы&quot; доступна презентация семинара №9 с критериями оценки питча. С Уважением, Алёшина Т.А. менеджер кафедры менеджмента инноваций НИУ ВШЭ\"\n              ></Email>\n              <Email\n                  author=\"Алёшина Т.А.\"\n                  status=\"OLD\"\n                  time=\"28 май 2019, 13:08:28\"\n                  title=\"Изменения в расписании 30 мая\"\n                  content=\"Обращаем внимание, в связи с командировкой преподавателей Лодышкина и Коновалюк и конференцией у Ярцева, внесены изменения в расписание майнора - 30 мая. Обновленное расписание можно найти на сайте Областной Думы Сахалина. С Уважением, Алёшина Т.А. менеджер кафедры менеджмента инноваций НИУ ВШЭ\"\n              ></Email>\n              <Email\n                  author=\"Алёшина Т.А.\"\n                  status=\"OLD\"\n                  time=\"20 май 2019, 15:16:07\"\n                  title=\"Данные по посещению лекций в весеннем семестре\"\n                  content=\"Как и договаривались, во вложении высылаем файл с баллами за посещаемость лекций в текущем семестре (3 и 4 модули). Полный свод данных по посещению лекций будет готов осле 6 июня - последняя лекция у Данте Владимира Владимировича. Просьба написать объяснительную в деканат по пропускам. С Уважением, Алёшина Т.А. менеджер кафедры менеджмента инноваций НИУ ВШЭ\"\n              ></Email>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nasync function fetchNews() {\n  return fetch('http://localhost:3000/railsapp/news_pieces.json')\n    .then(response => response.json())\n    .then(data => {\n      console.log('data - ', data);\n      return data.map(it => <NewsPiece\n            title={it.title}\n            time={timeSince(new Date(it.time))}\n            content={it.description}\n          ></NewsPiece>);\n    });\n}\n\nfunction timeSince(date) {\n\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" лет\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" месяцев\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" дней\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" часов\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" минут\";\n  }\n  return Math.floor(seconds) + \" секунд\";\n}\n\nexport default Body;\n","import React from 'react';\n\nexport function coursesMapProcessor(coursesMap, handleArguments) {\n  Array.from(coursesMap.values()).map(course => {\n    Array.from(course.modsMap.values()).map(mod => {\n      Array.from(mod.disciplinesMap.values()).map(discipline => {\n        handleArguments(course, mod, discipline);\n      })\n    })\n  })\n}\n","import React from 'react';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport Select from 'react-select';\nimport axios from 'axios'\nimport { loadAllDisciplines, handleError } from './data-loader.js'\nimport { coursesMapProcessor } from './data-utils.js'\n\nconst dataMap = new Map([\n  ['course-one', new Map([])],\n  ['course-two', new Map([])],\n  ['course-three', new Map([])],\n  ['course-four', new Map([\n    ['Дизайн, Бакалавриат, 4 курс', 'https://drive.google.com/file/d/1sBtDeEN_2jwG8WdcfMmWD81RQvC2C6mv/preview'],\n    ['Contemporary Design 2019 уч. год 4 курс (код 11345)', 'https://drive.google.com/file/d/1JuJ4vcLPheMCbHqR-YWTJ6DOatD2Y26B/preview'],\n    ['Академическое письмо на английском языке 2019 уч. год Б 4 курс (код 113453)', 'https://drive.google.com/file/d/1Zvi1l0hvCynYJhPXt8nRcW6FTKTT7X7k/preview']\n  ])],\n  ['course-five', new Map([])]\n]);\n\nclass CoursesBody extends React.Component {\n\n  componentWillMount() {\n    let coursesMapTmp;\n    handleError(\n      loadAllDisciplines((coursesMap) => {\n        coursesMapTmp = coursesMap;\n      }).then(response => axios.get('http://localhost:3000/railsapp/materials.json', {withCredentials: true}))\n        .then(response => {\n          console.log('materials response - ', response);\n          coursesMapProcessor(coursesMapTmp, (course, mod, discipline) => {\n            for (let material of response.data) {\n              if (!discipline.materials) {\n                discipline.materials = [];\n              }\n              console.log('material pushing into - ', discipline);\n              console.log('material pushing - ', material);\n              if (material.discipline_id && discipline.disciplineId === material.discipline_id) {\n                console.log('materials pushed - ', material);\n                discipline.materials.push(material);\n              }\n            }\n          })\n\n          let options = Array.from(coursesMapTmp.entries()).map(pair => {\n            return {\n              value: pair[1].courseId,\n              label: pair[1].courseName\n            }\n          });\n\n          this.setState({\n            coursesMap: coursesMapTmp,\n            selectedOption: options[0],\n            options: options\n          })\n        })\n    )\n  }\n\n  state = {\n    coursesMap: null,\n    selectedOption: null,\n    selectedContent: null\n  };\n\n  handleChange = selectedOption => {\n    console.log(`Option selected this state:`, this.state)\n    this.setState(\n      {\n        selectedOption: selectedOption,\n        selectedContent: null\n      },\n      () => console.log(`Option selected:`, this.state.selectedOption)\n    );\n  };\n\n  handleClick = selectedContentKey => {\n    let newSelectedContent = null;\n    if (this.state.selectedOption) {\n      for (let mod of this.state.coursesMap.get(this.state.selectedOption.value).modsMap.values()) {\n        let found = false;\n        for (let discipline of mod.disciplinesMap.values()) {\n          for (let material of discipline.materials) {\n            if (material.id === selectedContentKey) {\n              newSelectedContent = material.url;\n              found = true;\n              break;\n            }\n            if (found) break;\n          }\n          if (found) break;\n        }\n      };\n    }\n    console.log(`content key selected:`, selectedContentKey);\n    this.setState(\n      { selectedContent: newSelectedContent },\n      () => console.log(`content selected:`, this.state.selectedContent)\n    );\n  };\n\n  render(props) {\n    const { selectedOption, coursesMap, options } = this.state;\n\n    if (!selectedOption || !coursesMap) {\n      return <div></div>;\n    }\n\n    let mats = [];\n    console.log('selected option value - ', selectedOption.value);\n    console.log('selected option state - ', coursesMap);\n    let listItemst = Array.from(coursesMap.get(selectedOption.value).modsMap.values())\n      .forEach(mod => {Array.from(mod.disciplinesMap.values()).forEach(discipline => {\n          discipline.materials.forEach(material => {\n            console.log('material drawed - ', material);\n            console.log('material drawed in discipline - ', discipline);\n            mats.push(<div className=\"course-content-item\">\n              <li key={material.id} onClick={()=>this.handleClick(material.id)}>{material.name}</li>\n            </div>);\n          })\n        })\n      });\n\n      console.log('mats - ', mats);\n\n    return (\n    <section className=\"section\">\n\n      <h1 className=\"page-title\">Мои курсы</h1>\n      <div className=\"content\">\n        <div className=\"main\">\n          <div className=\"main-left\">\n            <Select\n              styles={{borderRadius: '14px'}}\n              value={selectedOption}\n              onChange={this.handleChange}\n              options={options}\n              classNamePrefix=\"courses-combo-box\"\n            />\n            <ul className=\"course-content\">{mats}</ul>\n          </div>\n          <div className=\"main-right\">\n            {this.state.selectedContent && <embed src={this.state.selectedContent} height=\"659px\" type=\"application/pdf\" />}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n  }\n}\n\nexport default CoursesBody;\n","import React from 'react';\n\nconst folders = [\n  { value: 'income', label: 'Входящие' },\n  { value: 'outcome', label: 'Исходящие' },\n  { value: 'spam', label: 'Спам' }\n];\n\nconst messages = new Map([\n\t['income', [\n\t\t{\n\t\t\ttitle: 'О критериях оценки питча', \n\t\t\tbody: 'В ЛМС, в папке \"Материалы\" доступна презентация семинара…', \n\t\t\tauthor: 'Михайлова А. В.', \n\t\t\ttime: '19 июн 2019, 10:49:44', \n\t\t\tisNew: true\n\t\t},\n\t\t{\n\t\t\ttitle: 'Изменения в расписании 30 мая', \n\t\t\tbody: 'Это личное сообщение было отправлено всем пользователям дисциплины Выход на рынок и продвижение проекта. Добрый день, студенты 3 курса! Обращаем внимание, в связи с командировкой преподавателей Лодышкина и Коновалюк и конференцией у Ярцева, внесены изменения в расписаниие майнора - 30 мая. Обновленное расписание во вложении. В первой вкладке файла расписание Стартапа, во второй вкладке - Тех Пр.Заключительные занятия на майноре пройдут - 6 июня. С уважением, Алёшина Т.А.', \n\t\t\tauthor: 'Алёшина Т. А.', \n\t\t\ttime: '28 май 2019, 13:08:28', \n\t\t\tisNew: false\n\t\t},\n\t\t{\n\t\t\ttitle: 'Данные по посещению лекций в весеннем семестре', \n\t\t\tbody: 'Как и договаривались, во вложении высылаем файл с балла…', \n\t\t\tauthor: 'Алёшина Т. А.', \n\t\t\ttime: '20 май 2019, 15:16:07', \n\t\t\tisNew: false\n\t\t},\n\t]],\n]);\n\nconst authors = [\n\t{\n\t\tname: 'Алешина Татьяна Анатольевна',\n\t\tlogin: 'AleshinaTA'\n\t},\n\t{\n\t\tname: 'Вавилова Татьяна Сергеевна',\n\t\tlogin: 'VavilovaTS'\n\t},\n\t{\n\t\tname: 'Гордеева Катерина Георгиевна',\n\t\tlogin: 'GordeevaKG'\n\t},\n\t{\n\t\tname: 'Демидова Екатерина Павловна',\n\t\tlogin: 'DemidovaEP'\n\t},\n\t{\n\t\tname: 'Аленина Татьяна Георгиевна',\n\t\tlogin: 'AleninaTG'\n\t},\n\t{\n\t\tname: 'Волкова Альбина Анатольевна',\n\t\tlogin: 'VolkovaAA'\n\t},\n\t{\n\t\tname: 'Георгиева Галина Анатольевна',\n\t\tlogin: 'GeorgievaGA'\n\t},\n\t{\n\t\tname: 'Дубнова Татьяна Алексеевна',\n\t\tlogin: 'DubnovaTA'\n\t},\n\t{\n\t\tname: 'Ежкова Марина Дмитриевна',\n\t\tlogin: 'EjkhovaMD'\n\t},\n\t{\n\t\tname: 'Жагрова Елена Николаевна',\n\t\tlogin: 'JagrovaEN'\n\t}\n];\n\nclass EmailDataMock {\n\tgetFolders() {\n\t\treturn folders;\n\t}\n\n\tgetAuthors() {\n\t\treturn authors;\n\t}\n\n\tgetMessagesByFolderId(folderId) {\n\t\treturn messages.get(folderId);\n\t}\n}\n\nexport default EmailDataMock;","import React from 'react';\n\nclass EmailScroll extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state.message = props.message;\n\t}\n\n\tstate ={\n\t\tselected: false,\n\t\tmessage: null\n\t}\n\n\thandleClick = () => {\n\t\tthis.setState({\n\t\t\tselected: true\n\t\t})\n\t};\n\n\tselectedFalse = () => {\n\t\tthis.setState({\n\t\t\tselected: false\n\t\t});\n\t};\n\n\tgetMessage() {\n\t\treturn this.state.message;\n\t}\n\n\trender() {\n\t\tconst { selected } = this.state;\n\n\t\tlet cardClassName = \"email-scroll-view-card\";\n\t\tif (this.state.selected == true) {\n\t\t\tcardClassName = cardClassName + \" email-card-selected\";\n\t\t}\n\n\t\tlet supplierName = !this.props.message.supplier ? 'Неизвестеный отправитель' :\n\t\t\t!this.props.message.supplier.firstName || !this.props.message.supplier.lastName ?\n\t\t\t'Пользователь с айди ' + this.props.message.supplier.id :\n\t\t\tthis.props.message.supplier.firstName + ' ' + this.props.message.supplier.lastName;\n\n\t\treturn (\n\t\t\t<div className={cardClassName} onClick={() => {\n\t\t\t\tif (this.props.handleClick) {\n\t\t\t\t\tthis.props.handleClick(this.state.message);\n\t\t\t\t}\n\t\t\t\tthis.handleClick();\n\t\t\t}}>\n\t      <div className=\"email-scroll-view-card-header\">\n\t        <div className=\"email-scroll-view-card-header-author\"><p>{supplierName}</p></div>\n\t        <div className=\"email-scroll-view-card-header-status-time\">\n\t          {this.props.message.new == 1 && <div className=\"email-scroll-view-card-header-status\"></div>}\n\t          <div className=\"email-scroll-view-card-header-time\"><p>{this.props.message.created_at}</p></div>\n\t        </div>\n\t      </div>\n\t      <div className=\"email-scroll-view-card-title\">\n\t        <p>{this.props.message.title}</p>\n\t      </div>\n\t      <div className=\"email-scroll-view-card-content\">\n\t        <p>{this.props.message.body}</p>\n\t      </div>\n\t    </div>\n\t\t);\n\t}\n}\n\nexport default EmailScroll;\n","import React from 'react';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport Select from 'react-select';\nimport EmailDataMock from './data_mock/email-data-mock.js'\nimport EmailScroll from './email/email-scroll.js'\nimport { loadMessages, loadUsersById, handleError } from './data-loader.js'\n\n\nconst mock = new EmailDataMock();\n\nclass EmailBody extends React.Component {\n\n  componentWillMount() {\n    let foldersMapTmp;\n    console.log('user auth - ', this.props);\n    handleError(\n      loadMessages(this.props.auth.user, (foldersMap) => {\n        console.log('foldersMap - ', foldersMap);\n        foldersMapTmp = foldersMap;\n\n      }).then(() => {\n        let users = new Set([]);\n        Array.from(foldersMapTmp.values()).forEach(folder => {\n          Array.from(folder.messagesMap.values()).forEach(msg => {\n            users.add(msg.supplier_id);\n            users.add(msg.consumer_id);\n          });\n        });\n        return loadUsersById(Array.from(users.entries()), (usersMap) => {\n          Array.from(foldersMapTmp.values()).forEach(folder => {\n            Array.from(folder.messagesMap.values()).forEach(msg => {\n              msg.supplier = usersMap.get(msg.supplier_id);\n              msg.consumer = usersMap.get(msg.consumer_id);\n            })\n          })\n\n          let options = Array.from(foldersMapTmp.entries()).map(pair => {\n            return {\n              value: pair[0],\n              label: pair[1].name\n            }\n          });\n          console.log('options - ', options);\n          this.setState({\n            foldersMap: foldersMapTmp,\n            selectedOption: options[0],\n            options: options\n          })\n        });\n      })\n    )\n  }\n\n  state = {\n    selectedOption: mock.getFolders()[0],\n    selectedMessage: null,\n    foldersMap: null,\n    itemsRefs: []\n  };\n\n  handleChange = selectedOption => {\n    this.setState(\n      {\n        selectedOption\n      },\n      () => console.log(`Option selected:`, this.state.selectedOption)\n    );\n  };\n\n  handleClick = (message) => {\n    this.setState({\n      selectedMessage: message\n    });\n  }\n\n  render() {\n    const { selectedOption, foldersMap, options } = this.state;\n\n    if (!selectedOption || !foldersMap) {\n      return <div></div>;\n    }\n\n    let items = Array.from(foldersMap.get(selectedOption.value).messagesMap.values()).map((it) => {\n      console.log('selectedOption: ', selectedOption);\n      let message = { ...it };\n      if (selectedOption.value === 'outcome') {\n        message.new = 0;\n      }\n      let ref = React.createRef();\n      this.state.itemsRefs.push(ref);\n      return <EmailScroll message={message} ref={ref} handleClick={this.handleClick} />;\n    });\n\n    this.state.itemsRefs.forEach(it => {\n      if (it.current && this.state.selectedMessage !== it.current.state.message) {\n        it.current.selectedFalse();\n      }\n    });\n\n    return (\n      <section className=\"section\">\n\n        <h1 className=\"page-title\">Сообщения</h1>\n        <div className=\"content\">\n          <div className=\"main\">\n            <div className=\"email-main-left\">\n              <div className=\"email-main-left-header\">\n                <div className=\"email-main-left-header-folder\"><p>Папка: </p></div>\n                <div className=\"email-main-left-header-folder-selector\">\n                  <Select\n                    styles={{borderRadius: '14px'}}\n                    value={selectedOption}\n                    onChange={this.handleChange}\n                    options={options}\n                    classNamePrefix=\"email-dir-combo-box\"\n                  />\n                </div>\n              </div>\n              <div className=\"email-scroll-view\">\n                {items}\n              </div>\n            </div>\n            <div className=\"main-right\">\n              <div><a href=\"/email-send\" className=\"square_btn\">Написать письмо</a></div>\n              {this.state.selectedMessage && <>\n                <div className=\"email-selected-message-header\">\n                  <div className=\"email-selected-message-header-author\">{this.state.selectedMessage.author}</div>\n                  <div className=\"email-selected-message-header-time\">{this.state.selectedMessage.created_at}</div>\n                </div>\n                <div className=\"email-selected-message-title\"><h1>{this.state.selectedMessage.title}</h1></div>\n                <div className=\"email-selected-message-body\">{this.state.selectedMessage.body}</div>\n                </>\n              }\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default EmailBody;\n","import React from 'react';\n\nclass EmailSendScroll extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state.author = props.author;\n\t}\n\n\tstate ={\n\t\tselected: false,\n\t\tauthor: null\n\t}\n\n\thandleClick = () => {\n\t\tthis.setState({\n\t\t\tselected: true\n\t\t})\n\t};\n\n\tselectedFalse = () => {\n\t\tthis.setState({\n\t\t\tselected: false\n\t\t});\n\t};\n\n\tgetMessage() {\n\t\treturn this.state.message;\n\t}\n\n\trender() {\n\t\tconst { selected } = this.state;\n\n\t\tlet cardClassName = \"email-send-scroll-view-card\";\n\t\tif (this.state.selected == true) {\n\t\t\tcardClassName = cardClassName + \" email-card-selected\";\n\t\t}\n\t\tconsole.log('email send scrool render author - ', this.props);\n\t\tlet consumerName = !this.props.author ? 'Неизвестен' :\n\t\t\t(!this.props.author.firstName || !this.props.author.lastName) ?\n\t\t\t'Пользователь с айди ' + this.props.author.id :\n\t\t\tthis.props.author.firstName + ' ' + this.props.author.lastName + ' (' + this.props.author.id + ')'\n\t\treturn (\n\t\t\t<div className={cardClassName} onClick={() => {\n\t\t\t\tconsole.log('this.state.author - ', this.state.author);\n\t\t\t\tif (this.props.handleClick) {\n\t\t\t\t\tthis.props.handleClick(this.state.author);\n\t\t\t\t}\n\t\t\t\tthis.handleClick();\n\t\t\t}}>\n\t        \t<p>{consumerName}</p>\n\t    \t</div>\n\t\t);\n\t}\n}\n\nexport default EmailSendScroll;\n","import React from 'react';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport Select from 'react-select';\nimport EmailDataMock from './data_mock/email-data-mock.js'\nimport EmailSendScroll from './email/email-send-scroll.js'\nimport { Redirect } from 'react-router-dom';\nimport { loadUsers, sendMessage, handleError } from './data-loader.js'\n\nconst mock = new EmailDataMock();\n\nclass EmailSendBody extends React.Component {\n\n  componentWillMount() {\n    handleError(\n      loadUsers((usersMap) => {\n        this.setState({\n          usersMap: usersMap\n        })\n      })\n    )\n  }\n\n  state = {\n    sended: false,\n    selectedMessage: null,\n    usersMap: null,\n    itemsRefs: []\n  };\n\n  handleClick = (author) => {\n    console.log('author selected - ', author);\n    this.setState({\n\n      selectedAthor: author\n    });\n  }\n\n  updateTheme = (evt) => {\n    this.setState({\n      themeInputValue: evt.target.value\n    });\n  }\n\n  updateBody = (evt) => {\n    this.setState({\n      bodyInputValue: evt.target.value\n    });\n  }\n\n  render() {\n    console.log('props in email sender body - ', this.props);\n    const { usersMap, sended, author } = this.state;\n\n    if (!usersMap) {\n      return <div></div>;\n    }\n    if (sended) {\n      return <Redirect to=\"/email\"/>;\n    }\n    let items = Array.from(usersMap.values()).map((it) => {\n      let ref = React.createRef();\n      this.state.itemsRefs.push(ref);\n      console.log('user for displaying - ', it);\n      return <EmailSendScroll author={it} ref={ref} handleClick={this.handleClick} />;\n    });\n\n    this.state.itemsRefs.forEach(it => {\n      if (it.current && this.state.selectedAthor !== it.current.state.author) {\n        it.current.selectedFalse();\n      }\n    });\n\n    return (\n      <section className=\"section\">\n\n        <h1 className=\"page-title\">Сообщения</h1>\n        <div className=\"content\">\n          <div className=\"main\">\n            <div className=\"email-send-main-left\">\n              <div className=\"email-send-main-left-header\"><p>Все</p></div>\n              <div className=\"email-scroll-view\">\n                {items}\n              </div>\n            </div>\n            <div className=\"main-right\">\n              <div onClick={() => {\n                if (!this.state.selectedAthor) {\n                  return;\n                }\n                let msgToSend = {\n                  supplier_id: this.props.auth.user.id,\n                  consumer_id: this.state.selectedAthor.id,\n                  title: this.state.themeInputValue,\n                  body: this.state.bodyInputValue\n                }\n                sendMessage(msgToSend, (response) => {\n                  this.setState({\n                    sended: true\n                  });\n                });\n              }}><a href=\"#\" className=\"square_btn\">Отправить</a></div>\n              <input className='email-theme-send-input' type='text' onChange={this.updateTheme} placeholder=\"Тема письма\"/>\n              <textarea className='email-body-send-input' type='text' onChange={this.updateBody} placeholder=\"Введите текст сообщения\"/>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default EmailSendBody;\n","import React from 'react';\n\nconst options = [\n  { value: 'course-one', label: '1 курс' },\n  { value: 'course-two', label: '2 курс' },\n  { value: 'course-three', label: '3 курс' },\n  { value: 'course-four', label: '4 курс' },\n  { value: 'course-five', label: '5 курс' },\n];\n\nconst personData = {\n\tfaculty: 'Факультет коммуникаций, медиа и дизайна : Дизайн',\n\tfirstName: 'Анастасия',\n\tlastName: 'Залесова',\n\tmidName: 'Дмитриевна',\n\troleDescription: 'Студент бакалавриата',\n\tcourse: 4\n};\n\nconst courseStats = {\n\trateCurrent: 18,\n\trateMax: 308,\n\tpercentile: 'P 5.52',\n\tpointAvg: 9.29\n};\n\nconst mapCourseModules = new Map([\n\t['course-one', ['one-module-one', 'one-module-two', 'one-module-three', 'one-module-four']],\n\t['course-two', ['two-module-one', 'two-module-two', 'two-module-three', 'two-module-four']],\n\t['course-three', ['three-module-one', 'three-module-two', 'three-module-three', 'three-module-four']],\n\t['course-four', ['four-module-one', 'four-module-two', 'four-module-three', 'four-module-four']],\n\t['course-five', ['five-module-one', 'five-module-two', 'five-module-three', 'five-module-four']]\n]);\n\nconst mapModuleDisciplines = new Map([\n\t['four-module-one', ['one-art-practic', 'one-art-theory', 'one-sub-atom-practic', 'one-sub-atom-theory']],\n\t['four-module-two', ['two-art-practic', 'two-art-theory', 'two-sub-atom-practic', 'two-sub-atom-theory']],\n\t['four-module-three', ['three-art-practic', 'three-art-theory', 'three-sub-atom-practic', 'three-sub-atom-theory']],\n\t['four-module-four', ['four-art-practic', 'four-art-theory', 'four-sub-atom-practic', 'four-sub-atom-theory']],\n]);\n\nconst mapModuleNames = new Map([\n\t['one-module-one', '1 модуль'],\n\t['one-module-two', '2 модуль'],\n\t['one-module-three', '3 модуль'],\n\t['one-module-four', '4 модуль'],\n\t['two-module-one', '1 модуль'],\n\t['two-module-two', '2 модуль'],\n\t['two-module-three', '3 модуль'],\n\t['two-module-four', '4 модуль'],\n\t['three-module-one', '1 модуль'],\n\t['three-module-two', '2 модуль'],\n\t['three-module-three', '3 модуль'],\n\t['three-module-four', '4 модуль'],\n\t['four-module-one', '1 модуль'],\n\t['four-module-two', '2 модуль'],\n\t['four-module-three', '3 модуль'],\n\t['four-module-four', '4 модуль'],\n\t['five-module-one', '1 модуль'],\n\t['five-module-two', '2 модуль'],\n\t['five-module-three', '3 модуль'],\n\t['five-module-four', '4 модуль']\n]);\n\nconst mapDisciplineData = new Map([\n\t['one-art-practic', {name: 'Арт-практика', tenPointSystem: 10, fivePointSystem: 5, retries: 0, lastTry: '29-10-2019', teacher: 'Харитонов З.Н.'}],\n\t['one-art-theory', {name: 'Арт-теория', tenPointSystem: 9, fivePointSystem: 5, retries: 1, lastTry: '29-09-2019', teacher: 'Харитонова З.Н.'}],\n\t['one-sub-atom-practic', {name: 'Субатом-практика', tenPointSystem: 8, fivePointSystem: 4, retries: 2, lastTry: '29-08-2019', teacher: 'Харитонов З.Н.'}],\n\t['one-sub-atom-theory', {name: 'Субатом-теория', tenPointSystem: 7, fivePointSystem: 4, retries: 3, lastTry: '29-07-2019', teacher: 'Харитоновав З.Н.'}],\n\t['two-art-practic', {name: 'Арт-практика', tenPointSystem: 10, fivePointSystem: 5, retries: 0, lastTry: '29-10-2019', teacher: 'Харитонов З.Н.'}],\n\t['two-art-theory', {name: 'Арт-теория', tenPointSystem: 9, fivePointSystem: 5, retries: 1, lastTry: '29-09-2019', teacher: 'Харитонова З.Н.'}],\n\t['two-sub-atom-practic', {name: 'Субатом-практика', tenPointSystem: 8, fivePointSystem: 4, retries: 2, lastTry: '29-08-2019', teacher: 'Харитонов З.Н.'}],\n\t['two-sub-atom-theory', {name: 'Субатом-теория', tenPointSystem: 7, fivePointSystem: 4, retries: 3, lastTry: '29-07-2019', teacher: 'Харитоновав З.Н.'}],\n\t['three-art-practic', {name: 'Арт-практика', tenPointSystem: 10, fivePointSystem: 5, retries: 0, lastTry: '29-10-2019', teacher: 'Харитонов З.Н.'}],\n\t['three-art-theory', {name: 'Арт-теория', tenPointSystem: 9, fivePointSystem: 5, retries: 1, lastTry: '29-09-2019', teacher: 'Харитонова З.Н.'}],\n\t['three-sub-atom-practic', {name: 'Субатом-практика', tenPointSystem: 8, fivePointSystem: 4, retries: 2, lastTry: '29-08-2019', teacher: 'Харитонов З.Н.'}],\n\t['three-sub-atom-theory', {name: 'Субатом-теория', tenPointSystem: 7, fivePointSystem: 4, retries: 3, lastTry: '29-07-2019', teacher: 'Харитоновав З.Н.'}],\n\t['four-art-practic', {name: 'Арт-практика', tenPointSystem: 10, fivePointSystem: 5, retries: 0, lastTry: '29-10-2019', teacher: 'Харитонов З.Н.'}],\n\t['four-art-theory', {name: 'Арт-теория', tenPointSystem: 9, fivePointSystem: 5, retries: 1, lastTry: '29-09-2019', teacher: 'Харитонова З.Н.'}],\n\t['four-sub-atom-practic', {name: 'Субатом-практика', tenPointSystem: 8, fivePointSystem: 4, retries: 2, lastTry: '29-08-2019', teacher: 'Харитонов З.Н.'}],\n\t['four-sub-atom-theory', {name: 'Субатом-теория', tenPointSystem: 7, fivePointSystem: 4, retries: 3, lastTry: '29-07-2019', teacher: 'Харитоновав З.Н.'}],\n]);\n\nclass StudentBookMock {\n\n\tgetPersonData() {\n\t\treturn personData;\n\t}\n\n\tgetCourseStats() {\n\t\treturn courseStats;\n\t}\n\n\toptions() {\n\t\treturn options;\n\t}\n\n\tgetModulesByCourseId(courseId) {\n\t\treturn mapCourseModules.get(courseId);\n\t}\n\n\tgetDisciplinesByModuleId(moduleId) {\n\t\treturn mapModuleDisciplines.get(moduleId);\n\t}\n\n\tgetDisciplineDataByDisciplineId(disciplineId) {\n\t\treturn mapDisciplineData.get(disciplineId);\n\t}\n\n\tgetModuleNamebyModuleId(moduleId) {\n\t\treturn mapModuleNames.get(moduleId);\n\t}\n}\n\nexport default StudentBookMock;","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport Select from 'react-select';\nimport StudentBookMock from './data_mock/student-book-data-mock.js';\nimport axios from 'axios'\nimport { loadAllDisciplines, loadUsersById, handleError } from './data-loader.js'\nimport { coursesMapProcessor } from './data-utils.js'\n\n\nconst mock = new StudentBookMock();\n\nclass StudentBookBody extends React.Component {\n\n  state = {\n    coursesMap: null,\n    selectedOption: null,\n    options: null\n  };\n\n  componentWillMount() {\n    handleError(\n      loadAllDisciplines((coursesMap) => {\n        this.setState({\n          coursesMap: coursesMap\n        });\n      }).then(response => axios.get('http://localhost:3000/railsapp/marks.json', {withCredentials: true}))\n        .then(response => {\n          let r = response.data;\n          console.log('marks - ', r);\n          let marks = new Set();\n          Array.from(this.state.coursesMap.values()).map(course => {\n            Array.from(course.modsMap.values()).map(modsVal => {\n              r.map(mark => {\n                let discipline = modsVal.disciplinesMap.get(mark.discipline_id);\n                if (discipline && !discipline.marks.includes(mark)) {\n                  marks.add(mark);\n                  discipline.marks.push(mark);\n                }\n              })\n            })\n            return course;\n          })\n          let rs = [];\n\n          for (let m of marks) {\n            if (!m.teacher_id) continue;\n            rs.push(m.teacher_id);\n          }\n          return loadUsersById(rs, (usersMap) => {\n            coursesMapProcessor(this.state.coursesMap, (course, mod, discipline) => {\n              for (let mark of discipline.marks) {\n                if (mark.teacher_id) {\n                  let user = usersMap.get(mark.teacher_id);\n                  if (user) {\n                    mark.teacherName = user.firstName + \" \" + user.lastName\n                  }\n                }\n              }\n            });\n\n            let options = Array.from(this.state.coursesMap.entries()).map(pair => {\n              return {\n                value: pair[1].courseId,\n                label: pair[1].courseName\n              }\n            });\n            console.log('options - ', options);\n            this.setState({\n              selectedOption: options[0],\n              options: options\n            })\n          });\n        })\n    )\n  }\n\n  handleChange = selectedOption => {\n    this.setState(\n      {\n        selectedOption\n      }\n    );\n  };\n\n  printTable() {\n    console.log('print table');\n    const input = document.getElementById('capture');\n    html2canvas(input).then((canvas) => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF();\n      pdf.addImage(imgData, 'PNG', 0, 0);\n      pdf.save(\"download.pdf\");\n    });\n  }\n\n  render(props) {\n    const { selectedOption, coursesMap } = this.state;\n    if (!selectedOption) {\n      return <div></div>;\n    }\n\n    let course = coursesMap.get(selectedOption.value);\n    let rows = [];\n    if (course) {\n      Array.from(course.modsMap.values()).map(mod => {\n        rows.push(tableRowTitle(mod.modName));\n        Array.from(mod.disciplinesMap.values()).map(discipline =>\n          rows.push(tableRowData(discipline))\n        )\n      })\n    }\n\n    return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Зачетка</h1></div>\n        <div className=\"student-book-combo-box-container\">\n          <Select\n            styles={{borderRadius: '14px'}}\n            value={selectedOption}\n            onChange={this.handleChange}\n            options={this.state.options}\n            classNamePrefix=\"student-book-combo-box\"\n          />\n        </div>\n      </div>\n      <div className=\"student-book-description-container\">\n        <div className=\"student-book-description-left\">\n          <div>Факультет коммуникаций, медиа и дизайна : Дизайн</div>\n          <div>Залесова Анастасия Дмитриевна</div>\n          <div>Студент бакалавриата, 4 курс</div>\n        </div>\n        <div className=\"student-book-description-right\">\n          <div><div className=\"student-book-description-paragraph\">Рейтинг:</div> {mock.getCourseStats().rateCurrent} из {mock.getCourseStats().rateMax}</div>\n          <div><div className=\"student-book-description-paragraph\">Перцентиль по программе:</div> {mock.getCourseStats().percentile}</div>\n          <div><div className=\"student-book-description-paragraph\">Средний балл:</div> {mock.getCourseStats().pointAvg}</div>\n        </div>\n      </div>\n      <div className=\"content\">\n        <table id=\"capture\" className=\"table-fill\">\n          <thead>\n            <tr>\n            <th className=\"text-left\" style={{width: '45%'}}>Дисциплина</th>\n            <th className=\"text-center\">10-ти бальная</th>\n            <th className=\"text-center\">5-ти бальная</th>\n            <th className=\"text-center\">Пересдачи</th>\n            <th className=\"text-center\">Последняя сдача</th>\n            <th className=\"text-center\">Преподаватель</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-hover\">\n            {rows}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n  }\n}\n\nfunction tableRowTitle(title) {\n  console.log('title - ', title);\n  return <tr><td className=\"text-left\" style={{color: '#007AFF'}} colSpan=\"6\">{title}</td></tr>;\n};\n\nfunction tableRowData(disciplineIn) {\n  let marks = disciplineIn.marks;\n  let marksLength = marks.length;\n  let marksMoreThanZero = marksLength > 0;\n  let tenPointSystemPoint = 0;\n  marks.map(m => tenPointSystemPoint += m.value);\n  tenPointSystemPoint = marksMoreThanZero ? tenPointSystemPoint / marksLength : 0;\n\n  let fivePointSystemPoint = marksMoreThanZero ? tenPointSystemPoint / 2 : 0;\n  for (let m of marks) {\n    if (m.teacherName) {\n      console.log('teacher name - ', m.teacherName);\n    }\n  }\n  let discipline = {\n    name: disciplineIn.disciplineName,\n    retries: marksLength,\n    tenPointSystem: tenPointSystemPoint,\n    fivePointSystem: fivePointSystemPoint,\n    lastTry: marksMoreThanZero ? new Date(marks[marksLength - 1].created_at).toLocaleDateString(\"en-US\") : 'нет',\n    teacher: marksMoreThanZero ? marks[marksLength - 1].teacherName : null\n  };\n  return <tr>\n      <td className=\"text-left\">{discipline.name}</td>\n      <td className=\"text-center\">{discipline.tenPointSystem}</td>\n      <td className=\"text-center\">{discipline.fivePointSystem}</td>\n      <td className=\"text-center\">{discipline.retries}</td>\n      <td className=\"text-center\">{discipline.lastTry}</td>\n      <td className=\"text-center\">{discipline.teacher}</td>\n    </tr>;\n};\n\nexport default StudentBookBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction ChooseMinorBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Выбор майнора</h1></div>\n      </div>\n      <div className=\"content\">\n        <div style={{backgroundColor: '#FFFFFF', borderRadius: '8px'}}>\n          <p style={{\n            color: '#0579FF',\n            fontSize: '16px',\n            lineHeight: '19px',\n            letterSpacing: '-0.385882px',\n            textAlign: 'left',\n            marginLeft: '21px'\n          }}>Вы обучаетесь на майноре: 2016 Стартап: дизайн нового бизнеса</p>\n        </div>\n        <div style={{backgroundColor: '#FFFFFF', borderRadius: '8px', marginTop: '32px', display: 'flex', justifyItems: 'left'}}>\n          <img style={{\n            width: '20px',\n            height: '20px',\n            verticalAlign: 'middle',\n            display: 'inline-block',\n            paddingLeft: '10px',\n            marginTop: '15px',\n            marginBottom: '15px'\n          }} src='/warning.png'/>\n          <p style={{\n            textAlign: 'left',\n            display: 'inline-block',\n            color: '#E02020',\n            left: '25px',\n            fontSize: '16px',\n            lineHeight: '19px',\n            letterSpacing: '-0.385882px',\n            textAlign: 'left',\n            marginLeft: '10px',\n            verticalAlign: 'middle'\n          }}>Выбор майноров не доступен, по всем вопросам просьба обращаться в учебный офис.</p>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default ChooseMinorBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction ChooseCourseBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\" style={{\n          width: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          marginBottom: '40px'\n        }}>\n          <h1 style={{\n            position: 'relative',\n            width: '85%',\n            marginBottom: '0px'\n          }}>Курсы по выбору</h1>\n          <a href=\"#\" className=\"square_btn\" style={{\n            maxHeight: '20px',\n            width: '15%'\n          }}>Выбрать курс</a>\n        </div>\n      </div>\n      <div className=\"content\">\n        <div style={{\n          color: 'rgba(0, 0, 0, 0.5)', width: '100%',\n          textAlign: 'left', paddingLeft: '10px', paddingBottom: '10px'\n        }}>\n          Всего кредитов: <div style={{display: 'inline-block', color: '#000'}}>60</div>\n        </div>\n        <div style={{\n          color: 'rgba(0, 0, 0, 0.5)', width: '100%',\n          textAlign: 'left', paddingLeft: '10px', paddingBottom: '10px'\n        }}>\n          Выбрано кредитов: <div style={{display: 'inline-block', color: '#000'}}>0</div>\n        </div>\n        <div style={{color: 'rgba(0, 0, 0, 0.5)', width: '100%', textAlign: 'left', paddingLeft: '10px'}}>\n          Необходимо кредитов: <div style={{display: 'inline-block', color: '#000'}}>60</div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default ChooseCourseBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction PointYourCoursesBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Оцени свои курсы</h1></div>\n      </div>\n      <div className=\"content\">\n        <p style={{textAlign: 'left', color: 'rgba(0, 0, 0, 0.501967)'}}>\n          Уважаемый студент!<br/>\n          Вам предстоит принять участие в студенческой оценке качества преподавания.\n          Оценка проводится, чтобы студенты могли выразить свое мнение об организации\n          учебного процесса на своей образовательной программе, высказать предложения\n          по конкретным учебным дисциплинам и оставить комментарии касательно проведения\n          занятий преподавателями.\n          Результаты оценки учитываются руководством факультетов, департаментов и\n          кафедр при принятии решений об изменении содержания учебных курсов и\n          организации процесса обучения. Обратите внимание, что в соответствии с\n          Правилами внутреннего распорядка НИУ ВШЭ участие студентов в оценке качества\n          преподавания обязательно. Ваши ответы полностью анонимны, результаты\n          передаются руководству факультетов, департаментов, кафедр только в обобщенном виде.\n        </p>\n        <table id=\"capture\" className=\"table-fill\">\n          <thead>\n            <tr>\n            <th className=\"text-left\">Период</th>\n            <th className=\"text-left\">Дата начала</th>\n            <th className=\"text-left\">Дата окончания</th>\n            <th className=\"text-left\">Статус</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-hover\">\n            {tableRowData({\n              dateRange: '1 модуль 2019/2020 учебного года',\n              dateBegin: '20:00 30.09.2019 г. по московскому времени',\n              dateEnd: '23:59 20.10.2019 г. по московскому времени',\n              status: 'СОП завершен, анкета заполнена'\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n}\n\nfunction tableRowData(courseData) {\n  return <tr>\n      <td className=\"text-left\">{courseData.dateRange}</td>\n      <td className=\"text-left\" style={{color: '#007AFF'}}>{courseData.dateBegin}</td>\n      <td className=\"text-left\" style={{color: '#007AFF'}}>{courseData.dateEnd}</td>\n      <td className=\"text-left\">{courseData.status}</td>\n    </tr>;\n};\n\nexport default PointYourCoursesBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction PointColleaguesBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Оценка сотрудников</h1></div>\n      </div>\n      <div className=\"content\">\n        <p style={{textAlign: 'left', color: 'rgba(0, 0, 0, 0.501967)'}}>\n          Уважаемые коллеги!<br/>\n          В модуле «Оценка сотрудников» доступно оценивание работы сотрудников,\n          занимающихся организацией и сопровождением учебного процесса по\n          Вашей образовательной программе. Ниже представлен список периодов, в\n          рамках которых проводится оценка.Ваши ответы помогут улучшить администрирование\n          Вашей образовательной программы и очень важны для оценки качества работы сотрудников,\n          занимающихся сопровождением учебного процесса.\n        </p>\n        <table id=\"capture\" className=\"table-fill\">\n          <thead>\n            <tr>\n            <th className=\"text-left\">Период</th>\n            <th className=\"text-left\">Дата начала</th>\n            <th className=\"text-left\">Дата окончания</th>\n            <th className=\"text-left\">Статус</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-hover\">\n            {tableRowData({\n              dateRange: '1 модуль 2019/2020 учебного года',\n              dateBegin: '17:00 06.06.2019 г. по московскому времени',\n              dateEnd: '23:59 30.06.2019 г. по московскому времени',\n              status: 'СОП завершен, анкета заполнена'\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n}\n\nfunction tableRowData(pointColleaguesData) {\n  return <tr>\n      <td className=\"text-left\">{pointColleaguesData.dateRange}</td>\n      <td className=\"text-left\" style={{color: '#007AFF'}}>{pointColleaguesData.dateBegin}</td>\n      <td className=\"text-left\" style={{color: '#007AFF'}}>{pointColleaguesData.dateEnd}</td>\n      <td className=\"text-left\">{pointColleaguesData.status}</td>\n    </tr>;\n};\n\nexport default PointColleaguesBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction BkpKpBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Мои работы (ВКР/КР/Проект)</h1></div>\n      </div>\n      <div className=\"content\">\n        <table id=\"capture\" className=\"table-fill\">\n          <thead>\n            <tr>\n            <th className=\"text-left\">Календарный период</th>\n            <th className=\"text-left\">Тип работы</th>\n            <th className=\"text-left\">Тема</th>\n            <th className=\"text-left\">Тема на английском</th>\n            <th className=\"text-left\">Загружено</th>\n            <th className=\"text-left\">Процент заимствований</th>\n            <th className=\"text-left\">Статус проверки</th>\n            <th className=\"text-left\">Оценка</th>\n            <th className=\"text-left\">Отзыв</th>\n            <th className=\"text-left\">Рецензия</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-hover\">\n            {tableRowData({\n              dateRange: '2018/2019 учебный год',\n              jobType: 'Проект',\n              theme: '3 курс',\n              themeEng: '',\n              downloaded: 'Нет',\n              percentOrigin: '',\n              checkStatus: '',\n              point: '9',\n              review: '',\n              critique: '',\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n}\n\nfunction tableRowData(bkpKpData) {\n  return <tr>\n      <td className=\"text-left\">{bkpKpData.dateRange}</td>\n      <td className=\"text-left\">{bkpKpData.jobType}</td>\n      <td className=\"text-left\">{bkpKpData.theme}</td>\n      <td className=\"text-left\">{bkpKpData.themeEng}</td>\n      <td className=\"text-left\">{bkpKpData.downloaded}</td>\n      <td className=\"text-left\">{bkpKpData.percentOrigin}</td>\n      <td className=\"text-left\">{bkpKpData.checkStatus}</td>\n      <td className=\"text-left\">{bkpKpData.point}</td>\n      <td className=\"text-left\">{bkpKpData.review}</td>\n      <td className=\"text-left\">{bkpKpData.critique}</td>\n    </tr>;\n};\n\nexport default BkpKpBody;\n","import React, { Component } from 'react';\nimport axios from 'axios'\nimport {Link, Redirect} from 'react-router-dom'\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: '',\n      password: '',\n      errors: '',\n      loggedIn: false,\n      handleLogin: props.handleLogin,\n      handleLogout: props.handleLogout\n     };\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {login, password} = this.state\n    let user = {\n      login: login,\n      password: password\n    }\n\n    axios.post('http://localhost:3000/railsapp/log_in', {user}, {withCredentials: true})\n        .then(response => {\n          if (response.data.logged_in) {\n            this.state.handleLogin(response);\n            this.redirect()\n          } else {\n            this.setState({\n              errors: response.data.errors\n            })\n          }\n        })\n        .catch(error => console.log('api errors:', error))\n  };\n\n  redirect = () => {\n    this.setState({\n      loggedIn: true\n    });\n  }\n\n  handleErrors = () => {\n    return (\n      <div>\n        <ul>\n        {this.state.errors.map(error => {\n        return <li key={error}>{error}</li>\n          })}\n        </ul>\n      </div>\n    )\n  }\n\n  render() {\n    const {login, password, loggedIn} = this.state\n    if (loggedIn) {\n      console.log('logged in from login form');\n      return <Redirect to=\"/\"/>;\n    }\n    return (\n      <section className=\"section\">\n        <div className=\"content\">\n          <h1 className=\"page-title\">Добро пожаловать в LMS</h1>\n          <form onSubmit={this.handleSubmit} style={{\n            display: 'flex',\n            flexDirection: 'column',\n            width: '360px',\n            alignItems: 'center',\n            margin: 'auto'\n          }}>\n            <div style={{\n              width: '100%'\n            }}>\n              <p style={{\n                textAlign: 'left',\n                fontSize: '20px',\n                lineHeight: '16px',\n                color: '#000',\n                marginBottom: '12px',\n                fontWeight: 'bold'\n              }}>Войти</p>\n            </div>\n            <div style={{\n              width: '100%'\n            }}>\n              <p style={{\n                textAlign: 'left',\n                fontSize: '16px',\n                lineHeight: '16px',\n                color: '#8E8E93',\n                marginBottom: '12px'\n              }}>Логин</p>\n            </div>\n            <input\n              type=\"text\"\n              name=\"login\"\n              value={login}\n              onChange={this.handleChange}\n              style={{\n                backgroundColor: 'transparent',\n                border: '1px solid #8E8E93',\n                height: '40px',\n                width: '100%',\n                borderRadius: '8px',\n                fontSize: '12px',\n                textIndent: '20px'\n              }}\n            />\n            <div style={{\n              width: '100%'\n            }}>\n              <p style={{\n                textAlign: 'left',\n                fontSize: '16px',\n                lineHeight: '16px',\n                color: '#8E8E93',\n                marginBottom: '12px'\n              }}>Пароль</p>\n            </div>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n              style={{\n                backgroundColor: 'transparent',\n                border: '1px solid #8E8E93',\n                height: '40px',\n                width: '100%',\n                borderRadius: '8px',\n                fontSize: '12px',\n                textIndent: '20px'\n              }}\n            />\n           <button placeholder=\"submit\" type=\"submit\" className=\"square_btn\" style={{\n             width: '101%',\n             marginTop: '27px',\n             fontSize: '12px',\n             border: 'none'\n           }}>\n              Войти\n            </button>\n            <p>или</p>\n            <a href=\"/signup\" className=\"square_btn\" style={{\n              width: 'calc(100% - 58px)'\n            }}>создать аккаунт</a>\n\n          </form>\n          <div>\n            {this.state.errors ? this.handleErrors() : null}\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\nexport default Login;\n","import React, { Component } from 'react';\nimport axios from 'axios'\nimport {Link, Redirect} from 'react-router-dom'\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: '',\n      password: '',\n      password_confirmation: '',\n      errors: '',\n      loggedIn: false\n     };\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {login, password, password_confirmation} = this.state\n    let user = {\n      login: login,\n      password: password,\n      password_confirmation: password_confirmation\n    }\n    axios.post('http://localhost:3000/railsapp/users', {user}, {withCredentials: true})\n        .then(response => {\n          if (response.data.status === 'created') {\n            this.redirect()\n          } else {\n            this.setState({\n              errors: response.data.errors\n            })\n          }\n        })\n        .catch(error => console.log('api errors:', error))\n  };\n\n  redirect = () => {\n    this.setState({\n      loggedIn: true\n    });\n  }\n\n  handleErrors = () => {\n    return (\n      <div>\n        <ul>{this.state.errors.map((error) => {\n          return <li>key={error}>{error}</li>\n        })}\n        </ul>\n      </div>\n    )\n  }\n\n  render() {\n    const {login, password, password_confirmation, loggedIn} = this.state\n    if (loggedIn) {\n      console.log('logged in from login form');\n      return <Redirect to=\"/\"/>;\n    }\n    return (\n      <section className=\"section\">\n        <div className=\"content\">\n          <h1 className=\"page-title\">Добро пожаловать в LMS</h1>\n            <form onSubmit={this.handleSubmit} style={{\n              display: 'flex',\n              flexDirection: 'column',\n              width: '360px',\n              alignItems: 'center',\n              margin: 'auto'\n            }}>\n              <div style={{\n                width: '100%'\n              }}>\n                <p style={{\n                  textAlign: 'left',\n                  fontSize: '20px',\n                  lineHeight: '16px',\n                  color: '#000',\n                  marginBottom: '12px',\n                  fontWeight: 'bold'\n                }}>Зарегистрироваться</p>\n              </div>\n              <div style={{\n                width: '100%'\n              }}>\n                <p style={{\n                  textAlign: 'left',\n                  fontSize: '16px',\n                  lineHeight: '16px',\n                  color: '#8E8E93',\n                  marginBottom: '12px'\n                }}>Логин</p>\n              </div>\n              <input\n                type=\"text\"\n                name=\"login\"\n                value={login}\n                onChange={this.handleChange}\n                style={{\n                  backgroundColor: 'transparent',\n                  border: '1px solid #8E8E93',\n                  height: '40px',\n                  width: '100%',\n                  borderRadius: '8px',\n                  fontSize: '12px',\n                  textIndent: '20px'\n                }}\n              />\n              <div style={{\n                width: '100%'\n              }}>\n                <p style={{\n                  textAlign: 'left',\n                  fontSize: '16px',\n                  lineHeight: '16px',\n                  color: '#8E8E93',\n                  marginBottom: '12px'\n                }}>Пароль</p>\n              </div>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={this.handleChange}\n                style={{\n                  backgroundColor: 'transparent',\n                  border: '1px solid #8E8E93',\n                  height: '40px',\n                  width: '100%',\n                  borderRadius: '8px',\n                  fontSize: '12px',\n                  textIndent: '20px'\n                }}\n              />\n              <div style={{\n                width: '100%'\n              }}>\n                <p style={{\n                  textAlign: 'left',\n                  fontSize: '16px',\n                  lineHeight: '16px',\n                  color: '#8E8E93',\n                  marginBottom: '12px'\n                }}>Подтверждение</p>\n              </div>\n              <input\n                type=\"password\"\n                name=\"password_confirmation\"\n                value={password_confirmation}\n                onChange={this.handleChange}\n                style={{\n                  backgroundColor: 'transparent',\n                  border: '1px solid #8E8E93',\n                  height: '40px',\n                  width: '100%',\n                  borderRadius: '8px',\n                  fontSize: '12px',\n                  textIndent: '20px'\n                }}\n              />\n\n              <button placeholder=\"submit\" type=\"submit\" className=\"square_btn\" style={{\n                width: '101%',\n                marginTop: '27px',\n                fontSize: '12px',\n                border: 'none'\n              }}>\n                Создать\n              </button>\n\n            </form>\n          </div>\n        </section>\n    );\n  }\n}\nexport default Signup;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom'\n\nfunction Exit(props) {\n  return (\n    <Redirect to=\"/\"/>\n  );\n}\n\nexport default Exit;","import React from 'react';\nimport { render } from 'react-dom';\nimport { Route, Switch, BrowserRouter, useLocation, Redirect } from 'react-router-dom';\nimport Header from './js/header.js';\nimport Body from './js/body.js';\nimport CoursesBody from './js/courses-body.js';\nimport EmailBody from './js/email-body.js';\nimport EmailSendBody from './js/email-send-body.js';\nimport StudentBookBody from './js/student-book-body.js';\nimport ChooseMinorBody from './js/choose-minor.js'\nimport ChooseCourseBody from './js/choose-course.js'\nimport PointYourCoursesBody from './js/point-your-courses.js'\nimport PointColleaguesBody from './js/point-colleagues.js'\nimport BkpKpBody from './js/bkp-kp.js'\nimport Login from './js/login.js'\nimport Signup from './js/signup.js'\nimport Exit from './js/exit.js';\nimport './css/index.css';\nimport ReactDOM from 'react-dom';\nimport Select from 'react-select';\nimport axios from 'axios'\nimport { createBrowserHistory } from \"history\";\n\nconst customHistory = createBrowserHistory();\nconst Context = React.createContext();\n\nconst initialState = {\n  auth: {\n    isLoggedIn: 0,\n    user: null\n  },\n  route: '/'\n}\n\nfunction reducer(state, action) {\n  console.log('update value', action);\n  switch(action.type) {\n    case 'updateValue':\n      return {\n        state,\n        auth: action.auth,\n        route: action.route\n      }\n    default:\n      return state\n  }\n}\n\nconst UserContextProvider = props => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  let location = useLocation();\n  // dispatch({type: 'updateValue', auth: state.auth, route: location.pathname});\n  console.log('context provider rendered', location);\n\n  const handleLogin = (response) => {\n    dispatch({type: 'updateValue', auth: {isLoggedIn: 1, user: response.data.user}, route: location.pathname});\n    // customHistory.push(\"/\");\n    console.log('user logged in - ', response.data);\n  };\n  const handleLogout = () => {\n    dispatch({type: 'updateValue', auth : {isLoggedIn: -1, user: null}, route: location.pathname});\n    console.log('user logged out', location.pathname);\n  };\n  console.log('state.auth - ', state.auth);\n  if (state.auth.isLoggedIn === 0) {\n    console.log('pathname - ', location.pathname);\n    axios.get('http://localhost:3000/railsapp/logged_in', {withCredentials: true})\n      .then(response => {\n        if (response.data.logged_in) {\n          handleLogin(response);\n        } else {\n          handleLogout();\n        }\n      })\n      .catch(error => {\n        console.log('api errors:', error);\n        handleLogout();\n      });\n  }\n  return (\n    <Context.Provider\n      value={{\n        auth: {\n          isLoggedIn: state.auth.isLoggedIn,\n          user: state.auth.user,\n          handleLogin: handleLogin,\n          handleLogout: handleLogout\n        },\n        route: state.route === '/login' ? '/' : location.pathname\n      }}\n    >\n      {props.children}\n    </Context.Provider>\n  );\n};\n\n\nclass App extends React.Component {\n\n  loginForm(auth) {\n    console.log('login rendered');\n    customHistory.push(\"/login\");\n    return <div className=\"wrapper\">\n      <Login history={customHistory} handleLogin={auth.handleLogin} loggedInStatus={auth.isLoggedIn === 1}/>\n    </div>;\n  }\n\n  signupForm(auth) {\n    console.log('signup rendered');\n    customHistory.push(\"/signup\");\n    return <div className=\"wrapper\">\n      <Signup history={customHistory} handleLogin={auth.handleLogin} loggedInStatus={auth.isLoggedIn === 1}/>\n    </div>;\n  }\n\n  body(auth) {\n    return (\n      <div className=\"wrapper\">\n        <Header />\n        <Route exact path=\"/courses\" component={CoursesBody}/>\n        <Route exact path=\"/student-book\" component={StudentBookBody}/>\n        <Route exact path=\"/email\" render={props => (<EmailBody auth={auth}/>)}/>\n        <Route exact path=\"/email-send\" render={props => (<EmailSendBody auth={auth}/>)}/>\n        <Route exact path=\"/point-your-courses\" component={PointYourCoursesBody}/>\n        <Route exact path=\"/point-colleagues\" component={PointColleaguesBody}/>\n        <Route exact path=\"/choose-minor\" component={ChooseMinorBody}/>\n        <Route exact path=\"/choose-course\" component={ChooseCourseBody}/>\n        <Route exact path=\"/KP-BKP\" component={BkpKpBody}/>\n        <Route exact path=\"/\" component={Body}/>\n        <Route exact path='/login' render={props => (<Login history={customHistory} handleLogin={auth.handleLogin} loggedInStatus={auth.isLoggedIn === 1}/>)}/>\n        <Route exact path='/signup' render={props => (<Signup history={customHistory} handleLogin={auth.handleLogin} loggedInStatus={auth.isLoggedIn === 1}/>)}/>\n      </div>\n    );\n  }\n\n  waitForLogin() {\n    return <div className=\"wrapper\">\n      <Header />\n      <p>Подождите...</p>\n    </div>\n  }\n\n  render() {\n    console.log('logged in', this.props);\n    console.log('logged in wlp', window.location.pathname);\n    if (this.props.auth.isLoggedIn === 1 && window.location.pathname === '/login') {\n      customHistory.push(\"/\");\n      return <Redirect to='/'/>\n    }\n\n    return this.props.auth.isLoggedIn === 1 ? this.body(this.props.auth) :\n      this.props.auth.isLoggedIn === 0 ? this.waitForLogin() :\n      this.props.route == '/signup' ? this.signupForm(this.props.auth) :\n      this.loginForm(this.props.auth);\n  }\n}\n\nApp.contextType = Context;\n\nexport default App;\n\nfunction Index(props) {\n  console.log('logged in', props);\n\n  return (\n    <BrowserRouter history={customHistory}>\n      <Switch>\n        <UserContextProvider>\n          <Context.Consumer>\n          {global => {\n            console.log('props - ', global);\n            return (\n              <>\n                <Route exact path=\"/exit\" component={Exit}/>\n                <Route path=\"/\" render={props => <App auth={global.auth} route={global.route}/>}/>\n              </>\n            );\n          }}\n          </Context.Consumer>\n        </UserContextProvider>\n      </Switch>\n    </BrowserRouter>\n  );\n\n}\n\n// ========================================\n\nrender(\n  <Index />,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}