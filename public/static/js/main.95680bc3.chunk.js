(this["webpackJsonpplatform-ui"]=this["webpackJsonpplatform-ui"]||[]).push([[0],{44:function(e,t,a){e.exports=a(73)},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a(2),r=a(5),s=a(4),c=a(17),o=a(0),i=a.n(o),m=a(15),u=a(18),d=a(6),p=a(39);var h=function(e){var t=Object(o.useState)(0),a=Object(c.a)(t,2)[1],n=0,l=Object(p.throttle)((function(){var t=(document.documentElement||document.body).scrollTop;a((function(e){return n=e,t})),e({previousScrollTop:n,currentScrollTop:t})}),250);Object(o.useEffect)((function(){return window.addEventListener("scroll",l),function(){return window.removeEventListener("scroll",l)}}),[])};var f=function(e){console.log("header props - ",e);var t=Object(o.useState)(!1),a=Object(c.a)(t,2),n=a[0],l=a[1],r=Object(o.useState)(!1),s=Object(c.a)(r,2),m=s[0],p=s[1],f=Object(o.useState)(!1),E=Object(c.a)(f,2),g=E[0],v=E[1];h((function(e){var t=e.previousScrollTop,a=e.currentScrollTop,n=t<a,r=a>80;p(a>2),setTimeout((function(){l(n&&r)}),400)}));var y=m?"shadow":"",N=n?"hidden":"",b=g&&!n?"header-all-sections":"header-all-sections-hidden";return console.log("hover?",b),e.auth?i.a.createElement("header",{className:"header ".concat(y," ").concat(N),onMouseLeave:function(){v(!1)}},i.a.createElement("div",{className:"logo"},i.a.createElement("a",{href:"/"},"LMS")),i.a.createElement("div",{className:"flexbox"},i.a.createElement("div",{className:"search"},i.a.createElement("div",null,i.a.createElement("input",{type:"text",placeholder:"       Search . . .",required:!0})))),i.a.createElement("ul",{className:"links"},i.a.createElement(u.b,{path:"/courses",children:function(e){return e.match?i.a.createElement("li",{className:"link-item",id:"my-courses",onMouseEnter:function(){v(!1)}},i.a.createElement("a",{href:"/courses",style:{color:"#000"}},"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b")):i.a.createElement("li",{className:"link-item",id:"my-courses",onMouseEnter:function(){v(!1)}},i.a.createElement("a",{href:"/courses"},"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b"))}}),i.a.createElement(u.b,{path:"/student-book",children:function(e){return e.match?i.a.createElement("li",{className:"link-item",id:"student-book",onMouseEnter:function(){v(!1)}},i.a.createElement("a",{href:"/student-book",style:{color:"#000"}},"\u0417\u0430\u0447\u0435\u0442\u043a\u0430")):i.a.createElement("li",{className:"link-item",id:"student-book",onMouseEnter:function(){v(!1)}},i.a.createElement("a",{href:"/student-book"},"\u0417\u0430\u0447\u0435\u0442\u043a\u0430"))}}),i.a.createElement(u.b,{path:"/schedule",children:function(e){return e.match?i.a.createElement("li",{className:"link-item",id:"schedule",onMouseEnter:function(){v(!1)}},i.a.createElement("a",{href:"/schedule",style:{color:"#000"}},"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435")):i.a.createElement("li",{className:"link-item",id:"schedule",onMouseEnter:function(){v(!1)}},i.a.createElement("a",{href:"/schedule"},"\u0420\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435"))}}),i.a.createElement(u.b,{path:"/all-sections",children:function(e){return e.match?i.a.createElement("li",{className:"link-item",id:"all-sections",onMouseEnter:function(){v(!0)}},i.a.createElement("a",{href:"/all-sections",style:{color:"#000"}},"\u0412\u0441\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u044b")):i.a.createElement("li",{className:"link-item",id:"all-sections",onMouseEnter:function(){v(!0)}},i.a.createElement("a",{href:"/all-sections"},"\u0412\u0441\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u044b"))}}),i.a.createElement(u.b,{path:"/chat",children:function(e){return e.match?i.a.createElement("li",{className:"link-item",id:"chat",onMouseEnter:function(){v(!1)}},i.a.createElement("a",{href:"/email",style:{color:"#000"}},i.a.createElement("img",{src:"chat.png"}))):i.a.createElement("li",{className:"link-item",id:"chat",onMouseEnter:function(){v(!1)}},i.a.createElement("a",{href:"/email"},i.a.createElement("img",{src:"chat.png"})))}}),i.a.createElement(u.b,{path:"/profile",children:function(e){return e.match?i.a.createElement("li",{className:"link-item",id:"profile",onMouseEnter:function(){v(!1)}},i.a.createElement("a",{href:"/profile",style:{color:"#000"}},i.a.createElement("img",{src:"profile.png"}))):i.a.createElement("li",{className:"link-item",id:"profile",onMouseEnter:function(){v(!1)}},i.a.createElement("a",{href:"/profile"},i.a.createElement("img",{src:"profile.png"})))}}),i.a.createElement(u.b,{path:"/exit",children:function(e){return e.match?i.a.createElement("li",{className:"link-item",id:"exit",onMouseEnter:function(){v(!1)}},i.a.createElement("a",{href:"/exit",style:{color:"#000"}},"\u0412\u044b\u0439\u0442\u0438")):i.a.createElement("li",{className:"link-item",id:"exit",onMouseEnter:function(){v(!1)}},i.a.createElement("a",{href:"/exit"},"\u0412\u044b\u0439\u0442\u0438"))}})),i.a.createElement("div",{className:"".concat(b),onMouseEnter:function(){v(!0)},onMouseLeave:function(){v(!1)}},i.a.createElement("div",{className:"header-all-sections-container"},i.a.createElement("div",{className:"header-all-sections-column"},(e.auth.user.course_id,i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header-all-sections-card"},"\u041d\u0415 \u0417\u0410\u0411\u0423\u0414\u042c \u041e\u0426\u0415\u041d\u0418\u0422\u042c"),i.a.createElement(d.b,{to:"/point-your-courses"},i.a.createElement("div",{className:"header-all-sections-card"},i.a.createElement("div",{className:"header-all-sections-icon"},i.a.createElement("img",{src:"/point-your-courses.png"})),i.a.createElement("div",{className:"header-all-sections-title"},i.a.createElement("p",null,"\u041e\u0446\u0435\u043d\u0438 \u0441\u0432\u043e\u0438 \u043a\u0443\u0440\u0441\u044b")))),i.a.createElement(d.b,{to:"/point-colleagues"},i.a.createElement("div",{className:"header-all-sections-card"},i.a.createElement("div",{className:"header-all-sections-icon"},i.a.createElement("img",{src:"/point-colleagues.png"})),i.a.createElement("div",{className:"header-all-sections-title"},i.a.createElement("p",null,"\u041e\u0446\u0435\u043d\u043a\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"))))))),i.a.createElement("div",{className:"header-all-sections-column"},function(e){var t=[];e>1&&e<4&&t.push(i.a.createElement(d.b,{to:"/choose-minor"},i.a.createElement("div",{className:"header-all-sections-card"},i.a.createElement("div",{className:"header-all-sections-icon"},i.a.createElement("img",{src:"/choose-minor.png"})),i.a.createElement("div",{className:"header-all-sections-title"},i.a.createElement("p",null,"\u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0439\u043d\u043e\u0440\u0430")))));e>0&&t.push(i.a.createElement(d.b,{to:"/choose-course"},i.a.createElement("div",{className:"header-all-sections-card"},i.a.createElement("div",{className:"header-all-sections-icon"},i.a.createElement("img",{src:"/choose-course.png"})),i.a.createElement("div",{className:"header-all-sections-title"},i.a.createElement("p",null,"\u041a\u0443\u0440\u0441\u044b \u043f\u043e \u0432\u044b\u0431\u043e\u0440\u0443")))));e>1&&t.push(i.a.createElement(d.b,{to:"/themes-KP-BKP"},i.a.createElement("div",{className:"header-all-sections-card"},i.a.createElement("div",{className:"header-all-sections-icon"},i.a.createElement("img",{src:"/themes-KP-BKP.png"})),i.a.createElement("div",{className:"header-all-sections-title"},i.a.createElement("p",null,"\u0422\u0435\u043c\u044b KP/BKP")))));e>1&&t.push(i.a.createElement(d.b,{to:"/KP-BKP"},i.a.createElement("div",{className:"header-all-sections-card"},i.a.createElement("div",{className:"header-all-sections-icon"},i.a.createElement("img",{src:"/KP-BKP.png"})),i.a.createElement("div",{className:"header-all-sections-title"},i.a.createElement("p",null,"KP/BKP")))));return console.log("choose courseNumber",e),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header-all-sections-card"},"\u0412\u042b\u0411\u041e\u0420 \u0414\u0418\u0421\u0426\u0418\u041f\u041b\u0418\u041d \u0418 \u0422\u0415\u041c"),t)}(e.auth.user.course_id)),i.a.createElement("div",{className:"header-all-sections-column"},function(e){var t=[];e>0&&(t.push(i.a.createElement(d.b,{to:"/req-pgas"},i.a.createElement("div",{className:"header-all-sections-card"},i.a.createElement("div",{className:"header-all-sections-icon"},i.a.createElement("img",{src:"/req-pgas.png"})),i.a.createElement("div",{className:"header-all-sections-title"},i.a.createElement("p",null,"\u0417\u0430\u044f\u0432\u043a\u0430 \u043d\u0430 \u041f\u0413\u0410\u0421"))))),t.push(i.a.createElement(d.b,{to:"/transfer"},i.a.createElement("div",{className:"header-all-sections-card"},i.a.createElement("div",{className:"header-all-sections-icon"},i.a.createElement("img",{src:"/transfer.png"})),i.a.createElement("div",{className:"header-all-sections-title"},i.a.createElement("p",null,"\u041f\u0435\u0440\u0435\u0432\u043e\u0434"))))));e>2&&t.push(i.a.createElement(d.b,{to:"/relocation"},i.a.createElement("div",{className:"header-all-sections-card"},i.a.createElement("div",{className:"header-all-sections-icon"},i.a.createElement("img",{src:"/relocation.png"})),i.a.createElement("div",{className:"header-all-sections-title"},i.a.createElement("p",null,"\u041f\u0435\u0440\u0435\u0435\u0437\u0434 \u0438\u0437 \u043e\u0431\u0449\u0435\u0436\u0438\u0442\u0438\u044f")))));e>3&&t.push(i.a.createElement(d.b,{to:"/practic-req"},i.a.createElement("div",{className:"header-all-sections-card"},i.a.createElement("div",{className:"header-all-sections-icon"},i.a.createElement("img",{src:"/practic-req.png"})),i.a.createElement("div",{className:"header-all-sections-title"},i.a.createElement("p",null,"\u0417\u0430\u044f\u0432\u043a\u0430 \u043d\u0430 \u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0443")))));e>1&&t.push(i.a.createElement(d.b,{to:"/vbm-req"},i.a.createElement("div",{className:"header-all-sections-card"},i.a.createElement("div",{className:"header-all-sections-icon"},i.a.createElement("img",{src:"/vbm-req.png"})),i.a.createElement("div",{className:"header-all-sections-title"},i.a.createElement("p",null,"\u0417\u0430\u044f\u0432\u043a\u0430 \u043d\u0430 \u0412\u0411\u041c")))));return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header-all-sections-card"},"\u0417\u0410\u042f\u0412\u041a\u0418"),t)}(e.auth.user.course_id)),i.a.createElement("div",{className:"header-all-sections-column"},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header-all-sections-card"},"\u041f\u041e\u041c\u041e\u0429\u042c"),i.a.createElement(d.b,{to:"/support"},i.a.createElement("div",{className:"header-all-sections-card"},i.a.createElement("div",{className:"header-all-sections-icon"},i.a.createElement("img",{src:"/support.png"})),i.a.createElement("div",{className:"header-all-sections-title"},i.a.createElement("p",null,"\u0421\u043b\u0443\u0436\u0431\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438"))))))))):i.a.createElement("div",null)},E=a(28),g=a.n(E),v=a(42);var y=function(e){return i.a.createElement("div",{className:"card-box"},i.a.createElement("div",{className:"news-piece-card-header"},i.a.createElement("div",{className:"news-piece-card-title"},i.a.createElement("h2",null,e.title)),i.a.createElement("div",{className:"news-piece-card-time"},i.a.createElement("p",null,e.time))),i.a.createElement("div",{className:"news-piece-card-content"},i.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.content}})))};var N=function(e){var t=null,a=null;switch(e.type){case"EVENT":t="\u041c\u0415\u0420\u041e\u041f\u0420\u0418\u042f\u0422\u0418\u0415",a="#0579FF";break;case"DEADLINE":t="\u0414\u0415\u0414\u041b\u0410\u0419\u041d",a="#FF4701"}return i.a.createElement("div",{className:"card-box"},i.a.createElement("div",{className:"events-card-img"},i.a.createElement("img",{src:e.image})),i.a.createElement("div",{className:"events-card-header"},i.a.createElement("h3",null,e.header)),i.a.createElement("div",{className:"events-card-content"},i.a.createElement("p",null,e.content)),i.a.createElement("div",{className:"events-card-type",style:{background:a}},i.a.createElement("p",null,t)))};var b=function(e){return i.a.createElement("div",{className:"email-card-box"},i.a.createElement("div",{className:"email-card-header"},i.a.createElement("div",{className:"email-card-author"},i.a.createElement("p",null,e.author)),i.a.createElement("div",{className:"email-card-status-time"},"NEW"==e.status&&i.a.createElement("div",{className:"email-card-status"}),i.a.createElement("div",{className:"email-card-time"},i.a.createElement("p",null,e.time)))),i.a.createElement("div",{className:"email-card-title"},i.a.createElement("h3",null,e.title)),i.a.createElement("div",{className:"email-card-content"},i.a.createElement("p",null,e.content)))},x=a(11),w=a(3),k=a.n(w);function M(){return console.log("window loc port - ",window.location.port),3001==window.location.port?(console.log("window loc port s - ",window.location.port),"http://localhost:3000"):window.location.origin}function S(e){var t=new Map([]);return k.a.get(M()+"/railsapp/courses.json",{withCredentials:!0}).then((function(e){return console.log("resp courses - ",e),e.data.map((function(e){return t.set(e.id,{courseId:e.id,courseName:e.name,modsMap:new Map([])})})),k.a.get(M()+"/railsapp/mods.json",{withCredentials:!0})})).then((function(e){return console.log("resp mods - ",e),e.data.map((function(e){var a=t.get(e.course_id);console.log("course in mods processor - ",a),a&&a.modsMap.set(e.id,{modId:e.id,modName:e.name,disciplinesMap:new Map([])})})),k.a.get(M()+"/railsapp/disciplines.json",{withCredentials:!0})})).then((function(a){var n=a.data;Array.from(t.values()).map((function(e){n.map((function(t){var a=e.modsMap.get(t.mod_id);a&&a.disciplinesMap.set(t.id,{disciplineId:t.id,disciplineName:t.name,marks:[]})}))})),console.log("resp disceps - ",a),e(t)}))}function O(e){return e.catch((function(e){return console.log("api errors:",e)}))}function C(e,t){var a,n=new Map([]),l=[],r=Object(x.a)(e);try{for(r.s();!(a=r.n()).done;){var s=a.value;l.push(k.a.get(M()+"/railsapp/users/"+s+".json",{withCredentials:!0}))}}catch(c){r.e(c)}finally{r.f()}return k.a.all(l).then(k.a.spread((function(){for(var e=arguments.length,a=new Array(e),l=0;l<e;l++)a[l]=arguments[l];a.forEach((function(e){n.set(e.data.id,e.data)})),t(n)})))}function j(){return(j=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(M()+"/railsapp/news_pieces.json").then((function(e){return e.json()})).then((function(e){return console.log("data - ",e),e.map((function(e){return i.a.createElement(y,{title:e.title,time:A(new Date(e.time)),content:e.description})}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){var t=Math.floor((new Date-e)/1e3),a=Math.floor(t/31536e3);return a>1?a+" \u043b\u0435\u0442":(a=Math.floor(t/2592e3))>1?a+" \u043c\u0435\u0441\u044f\u0446\u0435\u0432":(a=Math.floor(t/86400))>1?a+" \u0434\u043d\u0435\u0439":(a=Math.floor(t/3600))>1?a+" \u0447\u0430\u0441\u043e\u0432":(a=Math.floor(t/60))>1?a+" \u043c\u0438\u043d\u0443\u0442":Math.floor(t)+" \u0441\u0435\u043a\u0443\u043d\u0434"}var P=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={news:null,eventsMap:null},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e,t=this;(function(){return j.apply(this,arguments)})().then((function(e){console.log("result - ",e),t.setState({news:e})})),O((e=function(e){var a=new Map([]);console.log("events - ",e),e.forEach((function(e){if(a.has(e.course_id))a.get(e.course_id).push(e);else{var t=[];t.push(e),a.set(e.course_id,t)}})),t.setState({eventsMap:a})},k.a.get(M()+"/railsapp/events.json",{withCredentials:!0}).then((function(t){e(t.data)}))))}},{key:"render",value:function(){return console.log("body props - ",this.props),this.state.eventsMap?i.a.createElement("section",{className:"section"},i.a.createElement("div",{className:"content"},i.a.createElement("h1",{className:"page-title"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"),i.a.createElement("div",null,i.a.createElement("div",{className:"cards-header"},i.a.createElement("h2",null,"\u041d\u043e\u0432\u043e\u0441\u0442\u0438")),i.a.createElement("div",{className:"cards-link-see-all"},i.a.createElement("a",{href:""},"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435")),i.a.createElement("div",{className:"cards"},this.state.news&&this.state.news.slice(0,3))),i.a.createElement("div",null,i.a.createElement("div",{className:"cards-header"},i.a.createElement("h2",null,"\u0421\u043e\u0431\u044b\u0442\u0438\u044f")),i.a.createElement("div",{className:"cards-link-see-all"},i.a.createElement("a",{href:""},"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435")),i.a.createElement("div",{className:"cards"},(e=this.state.eventsMap,t=this.props.auth.user.course_id,e.get(t).map((function(e){return i.a.createElement(N,{header:e.title,content:e.description,type:e.tag.toUpperCase(),image:e.imageUrl})}))))),i.a.createElement("div",null,i.a.createElement("div",{className:"cards-header"},i.a.createElement("h2",null,"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f")),i.a.createElement("div",{className:"cards-link-see-all"},i.a.createElement("a",{href:""},"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435")),i.a.createElement("div",{className:"cards"},i.a.createElement(b,{author:"\u041c\u0438\u0445\u0430\u0439\u043b\u043e\u0432\u0430 \u0410.\u0412.",status:"NEW",time:"19 \u0438\u044e\u043d 2019, 10:49:44",title:"\u041e \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u0445 \u043e\u0446\u0435\u043d\u043a\u0438 \u043f\u0438\u0442\u0447\u0430",content:'\u0412 \u041b\u041c\u0421, \u0432 \u043f\u0430\u043f\u043a\u0435 "\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b" \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0441\u0435\u043c\u0438\u043d\u0430\u0440\u0430 \u21169 \u0441 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u043c\u0438 \u043e\u0446\u0435\u043d\u043a\u0438 \u043f\u0438\u0442\u0447\u0430. \u0421 \u0423\u0432\u0430\u0436\u0435\u043d\u0438\u0435\u043c, \u0410\u043b\u0451\u0448\u0438\u043d\u0430 \u0422.\u0410. \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043a\u0430\u0444\u0435\u0434\u0440\u044b \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442\u0430 \u0438\u043d\u043d\u043e\u0432\u0430\u0446\u0438\u0439 \u041d\u0418\u0423 \u0412\u0428\u042d'}),i.a.createElement(b,{author:"\u0410\u043b\u0451\u0448\u0438\u043d\u0430 \u0422.\u0410.",status:"OLD",time:"28 \u043c\u0430\u0439 2019, 13:08:28",title:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0438 30 \u043c\u0430\u044f",content:"\u041e\u0431\u0440\u0430\u0449\u0430\u0435\u043c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0432 \u0441\u0432\u044f\u0437\u0438 \u0441 \u043a\u043e\u043c\u0430\u043d\u0434\u0438\u0440\u043e\u0432\u043a\u043e\u0439 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u041b\u043e\u0434\u044b\u0448\u043a\u0438\u043d\u0430 \u0438 \u041a\u043e\u043d\u043e\u0432\u0430\u043b\u044e\u043a \u0438 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0435\u0439 \u0443 \u042f\u0440\u0446\u0435\u0432\u0430, \u0432\u043d\u0435\u0441\u0435\u043d\u044b \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u0430\u0439\u043d\u043e\u0440\u0430 - 30 \u043c\u0430\u044f. \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u041e\u0431\u043b\u0430\u0441\u0442\u043d\u043e\u0439 \u0414\u0443\u043c\u044b \u0421\u0430\u0445\u0430\u043b\u0438\u043d\u0430. \u0421 \u0423\u0432\u0430\u0436\u0435\u043d\u0438\u0435\u043c, \u0410\u043b\u0451\u0448\u0438\u043d\u0430 \u0422.\u0410. \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043a\u0430\u0444\u0435\u0434\u0440\u044b \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442\u0430 \u0438\u043d\u043d\u043e\u0432\u0430\u0446\u0438\u0439 \u041d\u0418\u0423 \u0412\u0428\u042d"}),i.a.createElement(b,{author:"\u0410\u043b\u0451\u0448\u0438\u043d\u0430 \u0422.\u0410.",status:"OLD",time:"20 \u043c\u0430\u0439 2019, 15:16:07",title:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u044e \u043b\u0435\u043a\u0446\u0438\u0439 \u0432 \u0432\u0435\u0441\u0435\u043d\u043d\u0435\u043c \u0441\u0435\u043c\u0435\u0441\u0442\u0440\u0435",content:"\u041a\u0430\u043a \u0438 \u0434\u043e\u0433\u043e\u0432\u0430\u0440\u0438\u0432\u0430\u043b\u0438\u0441\u044c, \u0432\u043e \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u0432\u044b\u0441\u044b\u043b\u0430\u0435\u043c \u0444\u0430\u0439\u043b \u0441 \u0431\u0430\u043b\u043b\u0430\u043c\u0438 \u0437\u0430 \u043f\u043e\u0441\u0435\u0449\u0430\u0435\u043c\u043e\u0441\u0442\u044c \u043b\u0435\u043a\u0446\u0438\u0439 \u0432 \u0442\u0435\u043a\u0443\u0449\u0435\u043c \u0441\u0435\u043c\u0435\u0441\u0442\u0440\u0435 (3 \u0438 4 \u043c\u043e\u0434\u0443\u043b\u0438). \u041f\u043e\u043b\u043d\u044b\u0439 \u0441\u0432\u043e\u0434 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u044e \u043b\u0435\u043a\u0446\u0438\u0439 \u0431\u0443\u0434\u0435\u0442 \u0433\u043e\u0442\u043e\u0432 \u043e\u0441\u043b\u0435 6 \u0438\u044e\u043d\u044f - \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u043b\u0435\u043a\u0446\u0438\u044f \u0443 \u0414\u0430\u043d\u0442\u0435 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u0430 \u0412\u043b\u0430\u0434\u0438\u043c\u0438\u0440\u043e\u0432\u0438\u0447\u0430. \u041f\u0440\u043e\u0441\u044c\u0431\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0431\u044a\u044f\u0441\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0432 \u0434\u0435\u043a\u0430\u043d\u0430\u0442 \u043f\u043e \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u043c. \u0421 \u0423\u0432\u0430\u0436\u0435\u043d\u0438\u0435\u043c, \u0410\u043b\u0451\u0448\u0438\u043d\u0430 \u0422.\u0410. \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043a\u0430\u0444\u0435\u0434\u0440\u044b \u043c\u0435\u043d\u0435\u0434\u0436\u043c\u0435\u043d\u0442\u0430 \u0438\u043d\u043d\u043e\u0432\u0430\u0446\u0438\u0439 \u041d\u0418\u0423 \u0412\u0428\u042d"}))))):i.a.createElement("div",null);var e,t}}]),a}(i.a.Component),I=a(16);function L(e,t){Array.from(e.values()).map((function(e){Array.from(e.modsMap.values()).map((function(a){Array.from(a.disciplinesMap.values()).map((function(n){t(e,a,n)}))}))}))}new Map([["course-one",new Map([])],["course-two",new Map([])],["course-three",new Map([])],["course-four",new Map([["\u0414\u0438\u0437\u0430\u0439\u043d, \u0411\u0430\u043a\u0430\u043b\u0430\u0432\u0440\u0438\u0430\u0442, 4 \u043a\u0443\u0440\u0441","https://drive.google.com/file/d/1sBtDeEN_2jwG8WdcfMmWD81RQvC2C6mv/preview"],["Contemporary Design 2019 \u0443\u0447. \u0433\u043e\u0434 4 \u043a\u0443\u0440\u0441 (\u043a\u043e\u0434 11345)","https://drive.google.com/file/d/1JuJ4vcLPheMCbHqR-YWTJ6DOatD2Y26B/preview"],["\u0410\u043a\u0430\u0434\u0435\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435 2019 \u0443\u0447. \u0433\u043e\u0434 \u0411 4 \u043a\u0443\u0440\u0441 (\u043a\u043e\u0434 113453)","https://drive.google.com/file/d/1Zvi1l0hvCynYJhPXt8nRcW6FTKTT7X7k/preview"]])],["course-five",new Map([])]]);var F=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={coursesMap:null,selectedOption:null,selectedContent:null},e.handleChange=function(t){console.log("Option selected this state:",e.state),e.setState({selectedOption:t,selectedContent:null},(function(){return console.log("Option selected:",e.state.selectedOption)}))},e.handleClick=function(t){var a=null;if(e.state.selectedOption){var n,l=Object(x.a)(e.state.coursesMap.get(e.state.selectedOption.value).modsMap.values());try{for(l.s();!(n=l.n()).done;){var r,s=n.value,c=!1,o=Object(x.a)(s.disciplinesMap.values());try{for(o.s();!(r=o.n()).done;){var i,m=r.value,u=Object(x.a)(m.materials);try{for(u.s();!(i=u.n()).done;){var d=i.value;if(d.id===t){a=d.url,c=!0;break}if(c)break}}catch(p){u.e(p)}finally{u.f()}if(c)break}}catch(p){o.e(p)}finally{o.f()}}}catch(p){l.e(p)}finally{l.f()}}console.log("content key selected:",t),e.setState({selectedContent:a},(function(){return console.log("content selected:",e.state.selectedContent)}))},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e,t=this;O(S((function(t){e=t})).then((function(e){return k.a.get(M()+"/railsapp/materials.json",{withCredentials:!0})})).then((function(a){console.log("materials response - ",a),L(e,(function(e,t,n){var l,r=Object(x.a)(a.data);try{for(r.s();!(l=r.n()).done;){var s=l.value;n.materials||(n.materials=[]),console.log("material pushing into - ",n),console.log("material pushing - ",s),s.discipline_id&&n.disciplineId===s.discipline_id&&(console.log("materials pushed - ",s),n.materials.push(s))}}catch(c){r.e(c)}finally{r.f()}}));var n=Array.from(e.entries()).map((function(e){return{value:e[1].courseId,label:e[1].courseName}}));t.setState({coursesMap:e,selectedOption:n[0],options:n})})))}},{key:"render",value:function(e){var t=this,a=this.state,n=a.selectedOption,l=a.coursesMap,r=a.options;if(!n||!l)return i.a.createElement("div",null);var s=[];console.log("selected option value - ",n.value),console.log("selected option state - ",l);Array.from(l.get(n.value).modsMap.values()).forEach((function(e){Array.from(e.disciplinesMap.values()).forEach((function(e){e.materials.forEach((function(a){console.log("material drawed - ",a),console.log("material drawed in discipline - ",e),s.push(i.a.createElement("div",{className:"course-content-item"},i.a.createElement("li",{key:a.id,onClick:function(){return t.handleClick(a.id)}},a.name)))}))}))}));return console.log("mats - ",s),i.a.createElement("section",{className:"section"},i.a.createElement("h1",{className:"page-title"},"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b"),i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"main"},i.a.createElement("div",{className:"main-left"},i.a.createElement(I.a,{styles:{borderRadius:"14px"},value:n,onChange:this.handleChange,options:r,classNamePrefix:"courses-combo-box"}),i.a.createElement("ul",{className:"course-content"},s)),i.a.createElement("div",{className:"main-right"},this.state.selectedContent&&i.a.createElement("embed",{src:this.state.selectedContent,height:"659px",type:"application/pdf"})))))}}]),a}(i.a.Component),_=a(43),T=[{value:"income",label:"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435"},{value:"outcome",label:"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435"},{value:"spam",label:"\u0421\u043f\u0430\u043c"}],B=new Map([["income",[{title:"\u041e \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u044f\u0445 \u043e\u0446\u0435\u043d\u043a\u0438 \u043f\u0438\u0442\u0447\u0430",body:'\u0412 \u041b\u041c\u0421, \u0432 \u043f\u0430\u043f\u043a\u0435 "\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b" \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043f\u0440\u0435\u0437\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0441\u0435\u043c\u0438\u043d\u0430\u0440\u0430\u2026',author:"\u041c\u0438\u0445\u0430\u0439\u043b\u043e\u0432\u0430 \u0410. \u0412.",time:"19 \u0438\u044e\u043d 2019, 10:49:44",isNew:!0},{title:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0438 30 \u043c\u0430\u044f",body:"\u042d\u0442\u043e \u043b\u0438\u0447\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0431\u044b\u043b\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0432\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u044b \u0412\u044b\u0445\u043e\u0434 \u043d\u0430 \u0440\u044b\u043d\u043e\u043a \u0438 \u043f\u0440\u043e\u0434\u0432\u0438\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0435\u043a\u0442\u0430. \u0414\u043e\u0431\u0440\u044b\u0439 \u0434\u0435\u043d\u044c, \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u044b 3 \u043a\u0443\u0440\u0441\u0430! \u041e\u0431\u0440\u0430\u0449\u0430\u0435\u043c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0432 \u0441\u0432\u044f\u0437\u0438 \u0441 \u043a\u043e\u043c\u0430\u043d\u0434\u0438\u0440\u043e\u0432\u043a\u043e\u0439 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u041b\u043e\u0434\u044b\u0448\u043a\u0438\u043d\u0430 \u0438 \u041a\u043e\u043d\u043e\u0432\u0430\u043b\u044e\u043a \u0438 \u043a\u043e\u043d\u0444\u0435\u0440\u0435\u043d\u0446\u0438\u0435\u0439 \u0443 \u042f\u0440\u0446\u0435\u0432\u0430, \u0432\u043d\u0435\u0441\u0435\u043d\u044b \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0432 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0438\u0435 \u043c\u0430\u0439\u043d\u043e\u0440\u0430 - 30 \u043c\u0430\u044f. \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u043e\u0435 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0432\u043e \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0438. \u0412 \u043f\u0435\u0440\u0432\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \u0444\u0430\u0439\u043b\u0430 \u0440\u0430\u0441\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0421\u0442\u0430\u0440\u0442\u0430\u043f\u0430, \u0432\u043e \u0432\u0442\u043e\u0440\u043e\u0439 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 - \u0422\u0435\u0445 \u041f\u0440.\u0417\u0430\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0437\u0430\u043d\u044f\u0442\u0438\u044f \u043d\u0430 \u043c\u0430\u0439\u043d\u043e\u0440\u0435 \u043f\u0440\u043e\u0439\u0434\u0443\u0442 - 6 \u0438\u044e\u043d\u044f. \u0421 \u0443\u0432\u0430\u0436\u0435\u043d\u0438\u0435\u043c, \u0410\u043b\u0451\u0448\u0438\u043d\u0430 \u0422.\u0410.",author:"\u0410\u043b\u0451\u0448\u0438\u043d\u0430 \u0422. \u0410.",time:"28 \u043c\u0430\u0439 2019, 13:08:28",isNew:!1},{title:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u043e \u043f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u044e \u043b\u0435\u043a\u0446\u0438\u0439 \u0432 \u0432\u0435\u0441\u0435\u043d\u043d\u0435\u043c \u0441\u0435\u043c\u0435\u0441\u0442\u0440\u0435",body:"\u041a\u0430\u043a \u0438 \u0434\u043e\u0433\u043e\u0432\u0430\u0440\u0438\u0432\u0430\u043b\u0438\u0441\u044c, \u0432\u043e \u0432\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u0432\u044b\u0441\u044b\u043b\u0430\u0435\u043c \u0444\u0430\u0439\u043b \u0441 \u0431\u0430\u043b\u043b\u0430\u2026",author:"\u0410\u043b\u0451\u0448\u0438\u043d\u0430 \u0422. \u0410.",time:"20 \u043c\u0430\u0439 2019, 15:16:07",isNew:!1}]]]),R=[{name:"\u0410\u043b\u0435\u0448\u0438\u043d\u0430 \u0422\u0430\u0442\u044c\u044f\u043d\u0430 \u0410\u043d\u0430\u0442\u043e\u043b\u044c\u0435\u0432\u043d\u0430",login:"AleshinaTA"},{name:"\u0412\u0430\u0432\u0438\u043b\u043e\u0432\u0430 \u0422\u0430\u0442\u044c\u044f\u043d\u0430 \u0421\u0435\u0440\u0433\u0435\u0435\u0432\u043d\u0430",login:"VavilovaTS"},{name:"\u0413\u043e\u0440\u0434\u0435\u0435\u0432\u0430 \u041a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u0413\u0435\u043e\u0440\u0433\u0438\u0435\u0432\u043d\u0430",login:"GordeevaKG"},{name:"\u0414\u0435\u043c\u0438\u0434\u043e\u0432\u0430 \u0415\u043a\u0430\u0442\u0435\u0440\u0438\u043d\u0430 \u041f\u0430\u0432\u043b\u043e\u0432\u043d\u0430",login:"DemidovaEP"},{name:"\u0410\u043b\u0435\u043d\u0438\u043d\u0430 \u0422\u0430\u0442\u044c\u044f\u043d\u0430 \u0413\u0435\u043e\u0440\u0433\u0438\u0435\u0432\u043d\u0430",login:"AleninaTG"},{name:"\u0412\u043e\u043b\u043a\u043e\u0432\u0430 \u0410\u043b\u044c\u0431\u0438\u043d\u0430 \u0410\u043d\u0430\u0442\u043e\u043b\u044c\u0435\u0432\u043d\u0430",login:"VolkovaAA"},{name:"\u0413\u0435\u043e\u0440\u0433\u0438\u0435\u0432\u0430 \u0413\u0430\u043b\u0438\u043d\u0430 \u0410\u043d\u0430\u0442\u043e\u043b\u044c\u0435\u0432\u043d\u0430",login:"GeorgievaGA"},{name:"\u0414\u0443\u0431\u043d\u043e\u0432\u0430 \u0422\u0430\u0442\u044c\u044f\u043d\u0430 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u0432\u043d\u0430",login:"DubnovaTA"},{name:"\u0415\u0436\u043a\u043e\u0432\u0430 \u041c\u0430\u0440\u0438\u043d\u0430 \u0414\u043c\u0438\u0442\u0440\u0438\u0435\u0432\u043d\u0430",login:"EjkhovaMD"},{name:"\u0416\u0430\u0433\u0440\u043e\u0432\u0430 \u0415\u043b\u0435\u043d\u0430 \u041d\u0438\u043a\u043e\u043b\u0430\u0435\u0432\u043d\u0430",login:"JagrovaEN"}],D=function(){function e(){Object(n.a)(this,e)}return Object(l.a)(e,[{key:"getFolders",value:function(){return T}},{key:"getAuthors",value:function(){return R}},{key:"getMessagesByFolderId",value:function(e){return B.get(e)}}]),e}(),q=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).state={selected:!1,message:null},l.handleClick=function(){l.setState({selected:!0})},l.selectedFalse=function(){l.setState({selected:!1})},l.state.message=e.message,l}return Object(l.a)(a,[{key:"getMessage",value:function(){return this.state.message}},{key:"render",value:function(){var e=this,t=(this.state.selected,"email-scroll-view-card");1==this.state.selected&&(t+=" email-card-selected");var a=this.props.message.supplier?this.props.message.supplier.firstName&&this.props.message.supplier.lastName?this.props.message.supplier.firstName+" "+this.props.message.supplier.lastName:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0430\u0439\u0434\u0438 "+this.props.message.supplier.id:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d\u044b\u0439 \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c";return i.a.createElement("div",{className:t,onClick:function(){e.props.handleClick&&e.props.handleClick(e.state.message),e.handleClick()}},i.a.createElement("div",{className:"email-scroll-view-card-header"},i.a.createElement("div",{className:"email-scroll-view-card-header-author"},i.a.createElement("p",null,a)),i.a.createElement("div",{className:"email-scroll-view-card-header-status-time"},1==this.props.message.new&&i.a.createElement("div",{className:"email-scroll-view-card-header-status"}),i.a.createElement("div",{className:"email-scroll-view-card-header-time"},i.a.createElement("p",null,this.props.message.created_at)))),i.a.createElement("div",{className:"email-scroll-view-card-title"},i.a.createElement("p",null,this.props.message.title)),i.a.createElement("div",{className:"email-scroll-view-card-content"},i.a.createElement("p",null,this.props.message.body)))}}]),a}(i.a.Component),z=new D,K=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={selectedOption:z.getFolders()[0],selectedMessage:null,foldersMap:null,itemsRefs:[]},e.handleChange=function(t){e.setState({selectedOption:t},(function(){return console.log("Option selected:",e.state.selectedOption)}))},e.handleClick=function(t){e.setState({selectedMessage:t})},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e,t=this;console.log("user auth - ",this.props),O(function(e,t){var a=new Map([]);return a.set("income",{name:"\u0412\u0445\u043e\u0434\u044f\u0449\u0438\u0435",messagesMap:new Map([])}),a.set("outcome",{name:"\u0418\u0441\u0445\u043e\u0434\u044f\u0449\u0438\u0435",messagesMap:new Map([])}),k.a.get(M()+"/railsapp/emails.json",{withCredentials:!0}).then((function(n){n.data.forEach((function(t){t.supplier_id===e.id&&a.get("outcome").messagesMap.set(t.id,t),t.consumer_id===e.id&&a.get("income").messagesMap.set(t.id,t)})),t(a)}))}(this.props.auth.user,(function(t){console.log("foldersMap - ",t),e=t})).then((function(){var a=new Set([]);return Array.from(e.values()).forEach((function(e){Array.from(e.messagesMap.values()).forEach((function(e){a.add(e.supplier_id),a.add(e.consumer_id)}))})),C(Array.from(a.entries()),(function(a){Array.from(e.values()).forEach((function(e){Array.from(e.messagesMap.values()).forEach((function(e){e.supplier=a.get(e.supplier_id),e.consumer=a.get(e.consumer_id)}))}));var n=Array.from(e.entries()).map((function(e){return{value:e[0],label:e[1].name}}));console.log("options - ",n),t.setState({foldersMap:e,selectedOption:n[0],options:n})}))})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.selectedOption,n=t.foldersMap,l=t.options;if(!a||!n)return i.a.createElement("div",null);var r=Array.from(n.get(a.value).messagesMap.values()).map((function(t){console.log("selectedOption: ",a);var n=Object(_.a)({},t);"outcome"===a.value&&(n.new=0);var l=i.a.createRef();return e.state.itemsRefs.push(l),i.a.createElement(q,{message:n,ref:l,handleClick:e.handleClick})}));return this.state.itemsRefs.forEach((function(t){t.current&&e.state.selectedMessage!==t.current.state.message&&t.current.selectedFalse()})),i.a.createElement("section",{className:"section"},i.a.createElement("h1",{className:"page-title"},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"main"},i.a.createElement("div",{className:"email-main-left"},i.a.createElement("div",{className:"email-main-left-header"},i.a.createElement("div",{className:"email-main-left-header-folder"},i.a.createElement("p",null,"\u041f\u0430\u043f\u043a\u0430: ")),i.a.createElement("div",{className:"email-main-left-header-folder-selector"},i.a.createElement(I.a,{styles:{borderRadius:"14px"},value:a,onChange:this.handleChange,options:l,classNamePrefix:"email-dir-combo-box"}))),i.a.createElement("div",{className:"email-scroll-view"},r)),i.a.createElement("div",{className:"main-right"},i.a.createElement("div",null,i.a.createElement("a",{href:"/email-send",className:"square_btn"},"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043f\u0438\u0441\u044c\u043c\u043e")),this.state.selectedMessage&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"email-selected-message-header"},i.a.createElement("div",{className:"email-selected-message-header-author"},this.state.selectedMessage.author),i.a.createElement("div",{className:"email-selected-message-header-time"},this.state.selectedMessage.created_at)),i.a.createElement("div",{className:"email-selected-message-title"},i.a.createElement("h1",null,this.state.selectedMessage.title)),i.a.createElement("div",{className:"email-selected-message-body"},this.state.selectedMessage.body))))))}}]),a}(i.a.Component),H=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).state={selected:!1,author:null},l.handleClick=function(){l.setState({selected:!0})},l.selectedFalse=function(){l.setState({selected:!1})},l.state.author=e.author,l}return Object(l.a)(a,[{key:"getMessage",value:function(){return this.state.message}},{key:"render",value:function(){var e=this,t=(this.state.selected,"email-send-scroll-view-card");1==this.state.selected&&(t+=" email-card-selected"),console.log("email send scrool render author - ",this.props);var a=this.props.author?this.props.author.firstName&&this.props.author.lastName?this.props.author.firstName+" "+this.props.author.lastName+" ("+this.props.author.id+")":"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0430\u0439\u0434\u0438 "+this.props.author.id:"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d";return i.a.createElement("div",{className:t,onClick:function(){console.log("this.state.author - ",e.state.author),e.props.handleClick&&e.props.handleClick(e.state.author),e.handleClick()}},i.a.createElement("p",null,a))}}]),a}(i.a.Component),W=(new D,function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={sended:!1,selectedMessage:null,usersMap:null,itemsRefs:[]},e.handleClick=function(t){console.log("author selected - ",t),e.setState({selectedAthor:t})},e.updateTheme=function(t){e.setState({themeInputValue:t.target.value})},e.updateBody=function(t){e.setState({bodyInputValue:t.target.value})},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this;O(function(e){var t=new Map([]);return k.a.get(M()+"/railsapp/users.json",{withCredentials:!0}).then((function(a){a.data.forEach((function(e){t.set(e.id,e)})),e(t)}))}((function(t){e.setState({usersMap:t})})))}},{key:"render",value:function(){var e=this;console.log("props in email sender body - ",this.props);var t=this.state,a=t.usersMap,n=t.sended;t.author;if(!a)return i.a.createElement("div",null);if(n)return i.a.createElement(u.a,{to:"/email"});var l=Array.from(a.values()).map((function(t){var a=i.a.createRef();return e.state.itemsRefs.push(a),console.log("user for displaying - ",t),i.a.createElement(H,{author:t,ref:a,handleClick:e.handleClick})}));return this.state.itemsRefs.forEach((function(t){t.current&&e.state.selectedAthor!==t.current.state.author&&t.current.selectedFalse()})),i.a.createElement("section",{className:"section"},i.a.createElement("h1",{className:"page-title"},"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"),i.a.createElement("div",{className:"content"},i.a.createElement("div",{className:"main"},i.a.createElement("div",{className:"email-send-main-left"},i.a.createElement("div",{className:"email-send-main-left-header"},i.a.createElement("p",null,"\u0412\u0441\u0435")),i.a.createElement("div",{className:"email-scroll-view"},l)),i.a.createElement("div",{className:"main-right"},i.a.createElement("div",{onClick:function(){if(e.state.selectedAthor){var t,a,n={supplier_id:e.props.auth.user.id,consumer_id:e.state.selectedAthor.id,title:e.state.themeInputValue,body:e.state.bodyInputValue};t=n,a=function(t){e.setState({sended:!0})},k.a.post(M()+"/railsapp/emails.json",{email:t},{withCredentials:!0}).then((function(e){a(e)}))}}},i.a.createElement("a",{href:"#",className:"square_btn"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")),i.a.createElement("input",{className:"email-theme-send-input",type:"text",onChange:this.updateTheme,placeholder:"\u0422\u0435\u043c\u0430 \u043f\u0438\u0441\u044c\u043c\u0430"}),i.a.createElement("textarea",{className:"email-body-send-input",type:"text",onChange:this.updateBody,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})))))}}]),a}(i.a.Component)),V=a(19),G=a.n(V),J=a(20),U=a.n(J),Y=[{value:"course-one",label:"1 \u043a\u0443\u0440\u0441"},{value:"course-two",label:"2 \u043a\u0443\u0440\u0441"},{value:"course-three",label:"3 \u043a\u0443\u0440\u0441"},{value:"course-four",label:"4 \u043a\u0443\u0440\u0441"},{value:"course-five",label:"5 \u043a\u0443\u0440\u0441"}],X={faculty:"\u0424\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0439, \u043c\u0435\u0434\u0438\u0430 \u0438 \u0434\u0438\u0437\u0430\u0439\u043d\u0430 : \u0414\u0438\u0437\u0430\u0439\u043d",firstName:"\u0410\u043d\u0430\u0441\u0442\u0430\u0441\u0438\u044f",lastName:"\u0417\u0430\u043b\u0435\u0441\u043e\u0432\u0430",midName:"\u0414\u043c\u0438\u0442\u0440\u0438\u0435\u0432\u043d\u0430",roleDescription:"\u0421\u0442\u0443\u0434\u0435\u043d\u0442 \u0431\u0430\u043a\u0430\u043b\u0430\u0432\u0440\u0438\u0430\u0442\u0430",course:4},Q={rateCurrent:18,rateMax:308,percentile:"P 5.52",pointAvg:9.29},Z=new Map([["course-one",["one-module-one","one-module-two","one-module-three","one-module-four"]],["course-two",["two-module-one","two-module-two","two-module-three","two-module-four"]],["course-three",["three-module-one","three-module-two","three-module-three","three-module-four"]],["course-four",["four-module-one","four-module-two","four-module-three","four-module-four"]],["course-five",["five-module-one","five-module-two","five-module-three","five-module-four"]]]),$=new Map([["four-module-one",["one-art-practic","one-art-theory","one-sub-atom-practic","one-sub-atom-theory"]],["four-module-two",["two-art-practic","two-art-theory","two-sub-atom-practic","two-sub-atom-theory"]],["four-module-three",["three-art-practic","three-art-theory","three-sub-atom-practic","three-sub-atom-theory"]],["four-module-four",["four-art-practic","four-art-theory","four-sub-atom-practic","four-sub-atom-theory"]]]),ee=new Map([["one-module-one","1 \u043c\u043e\u0434\u0443\u043b\u044c"],["one-module-two","2 \u043c\u043e\u0434\u0443\u043b\u044c"],["one-module-three","3 \u043c\u043e\u0434\u0443\u043b\u044c"],["one-module-four","4 \u043c\u043e\u0434\u0443\u043b\u044c"],["two-module-one","1 \u043c\u043e\u0434\u0443\u043b\u044c"],["two-module-two","2 \u043c\u043e\u0434\u0443\u043b\u044c"],["two-module-three","3 \u043c\u043e\u0434\u0443\u043b\u044c"],["two-module-four","4 \u043c\u043e\u0434\u0443\u043b\u044c"],["three-module-one","1 \u043c\u043e\u0434\u0443\u043b\u044c"],["three-module-two","2 \u043c\u043e\u0434\u0443\u043b\u044c"],["three-module-three","3 \u043c\u043e\u0434\u0443\u043b\u044c"],["three-module-four","4 \u043c\u043e\u0434\u0443\u043b\u044c"],["four-module-one","1 \u043c\u043e\u0434\u0443\u043b\u044c"],["four-module-two","2 \u043c\u043e\u0434\u0443\u043b\u044c"],["four-module-three","3 \u043c\u043e\u0434\u0443\u043b\u044c"],["four-module-four","4 \u043c\u043e\u0434\u0443\u043b\u044c"],["five-module-one","1 \u043c\u043e\u0434\u0443\u043b\u044c"],["five-module-two","2 \u043c\u043e\u0434\u0443\u043b\u044c"],["five-module-three","3 \u043c\u043e\u0434\u0443\u043b\u044c"],["five-module-four","4 \u043c\u043e\u0434\u0443\u043b\u044c"]]),te=new Map([["one-art-practic",{name:"\u0410\u0440\u0442-\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430",tenPointSystem:10,fivePointSystem:5,retries:0,lastTry:"29-10-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432 \u0417.\u041d."}],["one-art-theory",{name:"\u0410\u0440\u0442-\u0442\u0435\u043e\u0440\u0438\u044f",tenPointSystem:9,fivePointSystem:5,retries:1,lastTry:"29-09-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432\u0430 \u0417.\u041d."}],["one-sub-atom-practic",{name:"\u0421\u0443\u0431\u0430\u0442\u043e\u043c-\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430",tenPointSystem:8,fivePointSystem:4,retries:2,lastTry:"29-08-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432 \u0417.\u041d."}],["one-sub-atom-theory",{name:"\u0421\u0443\u0431\u0430\u0442\u043e\u043c-\u0442\u0435\u043e\u0440\u0438\u044f",tenPointSystem:7,fivePointSystem:4,retries:3,lastTry:"29-07-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432\u0430\u0432 \u0417.\u041d."}],["two-art-practic",{name:"\u0410\u0440\u0442-\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430",tenPointSystem:10,fivePointSystem:5,retries:0,lastTry:"29-10-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432 \u0417.\u041d."}],["two-art-theory",{name:"\u0410\u0440\u0442-\u0442\u0435\u043e\u0440\u0438\u044f",tenPointSystem:9,fivePointSystem:5,retries:1,lastTry:"29-09-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432\u0430 \u0417.\u041d."}],["two-sub-atom-practic",{name:"\u0421\u0443\u0431\u0430\u0442\u043e\u043c-\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430",tenPointSystem:8,fivePointSystem:4,retries:2,lastTry:"29-08-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432 \u0417.\u041d."}],["two-sub-atom-theory",{name:"\u0421\u0443\u0431\u0430\u0442\u043e\u043c-\u0442\u0435\u043e\u0440\u0438\u044f",tenPointSystem:7,fivePointSystem:4,retries:3,lastTry:"29-07-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432\u0430\u0432 \u0417.\u041d."}],["three-art-practic",{name:"\u0410\u0440\u0442-\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430",tenPointSystem:10,fivePointSystem:5,retries:0,lastTry:"29-10-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432 \u0417.\u041d."}],["three-art-theory",{name:"\u0410\u0440\u0442-\u0442\u0435\u043e\u0440\u0438\u044f",tenPointSystem:9,fivePointSystem:5,retries:1,lastTry:"29-09-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432\u0430 \u0417.\u041d."}],["three-sub-atom-practic",{name:"\u0421\u0443\u0431\u0430\u0442\u043e\u043c-\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430",tenPointSystem:8,fivePointSystem:4,retries:2,lastTry:"29-08-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432 \u0417.\u041d."}],["three-sub-atom-theory",{name:"\u0421\u0443\u0431\u0430\u0442\u043e\u043c-\u0442\u0435\u043e\u0440\u0438\u044f",tenPointSystem:7,fivePointSystem:4,retries:3,lastTry:"29-07-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432\u0430\u0432 \u0417.\u041d."}],["four-art-practic",{name:"\u0410\u0440\u0442-\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430",tenPointSystem:10,fivePointSystem:5,retries:0,lastTry:"29-10-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432 \u0417.\u041d."}],["four-art-theory",{name:"\u0410\u0440\u0442-\u0442\u0435\u043e\u0440\u0438\u044f",tenPointSystem:9,fivePointSystem:5,retries:1,lastTry:"29-09-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432\u0430 \u0417.\u041d."}],["four-sub-atom-practic",{name:"\u0421\u0443\u0431\u0430\u0442\u043e\u043c-\u043f\u0440\u0430\u043a\u0442\u0438\u043a\u0430",tenPointSystem:8,fivePointSystem:4,retries:2,lastTry:"29-08-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432 \u0417.\u041d."}],["four-sub-atom-theory",{name:"\u0421\u0443\u0431\u0430\u0442\u043e\u043c-\u0442\u0435\u043e\u0440\u0438\u044f",tenPointSystem:7,fivePointSystem:4,retries:3,lastTry:"29-07-2019",teacher:"\u0425\u0430\u0440\u0438\u0442\u043e\u043d\u043e\u0432\u0430\u0432 \u0417.\u041d."}]]),ae=new(function(){function e(){Object(n.a)(this,e)}return Object(l.a)(e,[{key:"getPersonData",value:function(){return X}},{key:"getCourseStats",value:function(){return Q}},{key:"options",value:function(){return Y}},{key:"getModulesByCourseId",value:function(e){return Z.get(e)}},{key:"getDisciplinesByModuleId",value:function(e){return $.get(e)}},{key:"getDisciplineDataByDisciplineId",value:function(e){return te.get(e)}},{key:"getModuleNamebyModuleId",value:function(e){return ee.get(e)}}]),e}());var ne=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(n.a)(this,a);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={coursesMap:null,selectedOption:null,options:null},e.handleChange=function(t){e.setState({selectedOption:t})},e}return Object(l.a)(a,[{key:"componentWillMount",value:function(){var e=this;O(S((function(t){e.setState({coursesMap:t})})).then((function(e){return k.a.get(M()+"/railsapp/marks.json",{withCredentials:!0})})).then((function(t){var a=t.data;console.log("marks - ",a);var n=new Set;Array.from(e.state.coursesMap.values()).map((function(e){return Array.from(e.modsMap.values()).map((function(e){a.map((function(t){var a=e.disciplinesMap.get(t.discipline_id);a&&!a.marks.includes(t)&&(n.add(t),a.marks.push(t))}))})),e}));var l,r=[],s=Object(x.a)(n);try{for(s.s();!(l=s.n()).done;){var c=l.value;c.teacher_id&&r.push(c.teacher_id)}}catch(o){s.e(o)}finally{s.f()}return C(r,(function(t){L(e.state.coursesMap,(function(e,a,n){var l,r=Object(x.a)(n.marks);try{for(r.s();!(l=r.n()).done;){var s=l.value;if(s.teacher_id){var c=t.get(s.teacher_id);c&&(s.teacherName=c.firstName+" "+c.lastName)}}}catch(o){r.e(o)}finally{r.f()}}));var a=Array.from(e.state.coursesMap.entries()).map((function(e){return{value:e[1].courseId,label:e[1].courseName}}));console.log("options - ",a),e.setState({selectedOption:a[0],options:a})}))})))}},{key:"printTable",value:function(){console.log("print table");var e=document.getElementById("capture");U()(e).then((function(e){var t=e.toDataURL("image/png"),a=new G.a;a.addImage(t,"PNG",0,0),a.save("download.pdf")}))}},{key:"render",value:function(e){var t=this.state,a=t.selectedOption,n=t.coursesMap;if(!a)return i.a.createElement("div",null);var l=n.get(a.value),r=[];return l&&Array.from(l.modsMap.values()).map((function(e){var t;r.push((t=e.modName,console.log("title - ",t),i.a.createElement("tr",null,i.a.createElement("td",{className:"text-left",style:{color:"#007AFF"},colSpan:"6"},t)))),Array.from(e.disciplinesMap.values()).map((function(e){return r.push(function(e){var t=e.marks,a=t.length,n=a>0,l=0;t.map((function(e){return l+=e.value})),l=n?l/a:0;var r,s=n?l/2:0,c=Object(x.a)(t);try{for(c.s();!(r=c.n()).done;){var o=r.value;o.teacherName&&console.log("teacher name - ",o.teacherName)}}catch(u){c.e(u)}finally{c.f()}var m={name:e.disciplineName,retries:a>0?a-1:0,tenPointSystem:l,fivePointSystem:s.toFixed(),lastTry:n?new Date(t[a-1].created_at).toLocaleDateString("en-US"):"\u043d\u0435\u0442",teacher:n?t[a-1].teacherName:null};return i.a.createElement("tr",null,i.a.createElement("td",{className:"text-left"},m.name),i.a.createElement("td",{className:"text-center"},m.tenPointSystem),i.a.createElement("td",{className:"text-center"},m.fivePointSystem),i.a.createElement("td",{className:"text-center"},m.retries),i.a.createElement("td",{className:"text-center"},m.lastTry),i.a.createElement("td",{className:"text-center"},m.teacher))}(e))}))})),i.a.createElement("section",{className:"section"},i.a.createElement("div",{className:"student-book-header-container"},i.a.createElement("div",{className:"student-book-page-title"},i.a.createElement("h1",null,"\u0417\u0430\u0447\u0435\u0442\u043a\u0430")),i.a.createElement("div",{className:"student-book-combo-box-container"},i.a.createElement(I.a,{styles:{borderRadius:"14px"},value:a,onChange:this.handleChange,options:this.state.options,classNamePrefix:"student-book-combo-box"}))),i.a.createElement("div",{className:"student-book-description-container"},i.a.createElement("div",{className:"student-book-description-left"},i.a.createElement("div",null,"\u0424\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442 \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0439, \u043c\u0435\u0434\u0438\u0430 \u0438 \u0434\u0438\u0437\u0430\u0439\u043d\u0430 : \u0414\u0438\u0437\u0430\u0439\u043d"),i.a.createElement("div",null,"\u0417\u0430\u043b\u0435\u0441\u043e\u0432\u0430 \u0410\u043d\u0430\u0441\u0442\u0430\u0441\u0438\u044f \u0414\u043c\u0438\u0442\u0440\u0438\u0435\u0432\u043d\u0430"),i.a.createElement("div",null,"\u0421\u0442\u0443\u0434\u0435\u043d\u0442 \u0431\u0430\u043a\u0430\u043b\u0430\u0432\u0440\u0438\u0430\u0442\u0430, 4 \u043a\u0443\u0440\u0441")),i.a.createElement("div",{className:"student-book-description-right"},i.a.createElement("div",null,i.a.createElement("div",{className:"student-book-description-paragraph"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433:")," ",ae.getCourseStats().rateCurrent," \u0438\u0437 ",ae.getCourseStats().rateMax),i.a.createElement("div",null,i.a.createElement("div",{className:"student-book-description-paragraph"},"\u041f\u0435\u0440\u0446\u0435\u043d\u0442\u0438\u043b\u044c \u043f\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0435:")," ",ae.getCourseStats().percentile),i.a.createElement("div",null,i.a.createElement("div",{className:"student-book-description-paragraph"},"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0431\u0430\u043b\u043b:")," ",ae.getCourseStats().pointAvg))),i.a.createElement("div",{className:"content"},i.a.createElement("table",{id:"capture",className:"table-fill"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"text-left",style:{width:"45%"}},"\u0414\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0430"),i.a.createElement("th",{className:"text-center"},"10-\u0442\u0438 \u0431\u0430\u043b\u044c\u043d\u0430\u044f"),i.a.createElement("th",{className:"text-center"},"5-\u0442\u0438 \u0431\u0430\u043b\u044c\u043d\u0430\u044f"),i.a.createElement("th",{className:"text-center"},"\u041f\u0435\u0440\u0435\u0441\u0434\u0430\u0447\u0438"),i.a.createElement("th",{className:"text-center"},"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u044f\u044f \u0441\u0434\u0430\u0447\u0430"),i.a.createElement("th",{className:"text-center"},"\u041f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044c"))),i.a.createElement("tbody",{className:"table-hover"},r))))}}]),a}(i.a.Component),le=a(13);var re=function(){var e;return i.a.createElement("section",{className:"section"},i.a.createElement("div",{className:"student-book-header-container"},i.a.createElement("div",{className:"student-book-page-title"},i.a.createElement("h1",null,"\u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0439\u043d\u043e\u0440\u0430"))),i.a.createElement("div",{className:"content"},i.a.createElement("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"8px"}},i.a.createElement("p",{style:{color:"#0579FF",fontSize:"16px",lineHeight:"19px",letterSpacing:"-0.385882px",textAlign:"left",marginLeft:"21px"}},"\u0412\u044b \u043e\u0431\u0443\u0447\u0430\u0435\u0442\u0435\u0441\u044c \u043d\u0430 \u043c\u0430\u0439\u043d\u043e\u0440\u0435: 2016 \u0421\u0442\u0430\u0440\u0442\u0430\u043f: \u0434\u0438\u0437\u0430\u0439\u043d \u043d\u043e\u0432\u043e\u0433\u043e \u0431\u0438\u0437\u043d\u0435\u0441\u0430")),i.a.createElement("div",{style:{backgroundColor:"#FFFFFF",borderRadius:"8px",marginTop:"32px",display:"flex",justifyItems:"left"}},i.a.createElement("img",{style:{width:"20px",height:"20px",verticalAlign:"middle",display:"inline-block",paddingLeft:"10px",marginTop:"15px",marginBottom:"15px"},src:"/warning.png"}),i.a.createElement("p",{style:(e={textAlign:"left",display:"inline-block",color:"#E02020",left:"25px",fontSize:"16px",lineHeight:"19px",letterSpacing:"-0.385882px"},Object(le.a)(e,"textAlign","left"),Object(le.a)(e,"marginLeft","10px"),Object(le.a)(e,"verticalAlign","middle"),e)},"\u0412\u044b\u0431\u043e\u0440 \u043c\u0430\u0439\u043d\u043e\u0440\u043e\u0432 \u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d, \u043f\u043e \u0432\u0441\u0435\u043c \u0432\u043e\u043f\u0440\u043e\u0441\u0430\u043c \u043f\u0440\u043e\u0441\u044c\u0431\u0430 \u043e\u0431\u0440\u0430\u0449\u0430\u0442\u044c\u0441\u044f \u0432 \u0443\u0447\u0435\u0431\u043d\u044b\u0439 \u043e\u0444\u0438\u0441."))))};var se=function(){return i.a.createElement("section",{className:"section"},i.a.createElement("div",{className:"student-book-header-container"},i.a.createElement("div",{className:"student-book-page-title",style:{width:"100%",display:"flex",alignItems:"center",marginBottom:"40px"}},i.a.createElement("h1",{style:{position:"relative",width:"85%",marginBottom:"0px"}},"\u041a\u0443\u0440\u0441\u044b \u043f\u043e \u0432\u044b\u0431\u043e\u0440\u0443"),i.a.createElement("a",{href:"#",className:"square_btn",style:{maxHeight:"20px",width:"15%"}},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0443\u0440\u0441"))),i.a.createElement("div",{className:"content"},i.a.createElement("div",{style:{color:"rgba(0, 0, 0, 0.5)",width:"100%",textAlign:"left",paddingLeft:"10px",paddingBottom:"10px"}},"\u0412\u0441\u0435\u0433\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0432: ",i.a.createElement("div",{style:{display:"inline-block",color:"#000"}},"60")),i.a.createElement("div",{style:{color:"rgba(0, 0, 0, 0.5)",width:"100%",textAlign:"left",paddingLeft:"10px",paddingBottom:"10px"}},"\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0432: ",i.a.createElement("div",{style:{display:"inline-block",color:"#000"}},"0")),i.a.createElement("div",{style:{color:"rgba(0, 0, 0, 0.5)",width:"100%",textAlign:"left",paddingLeft:"10px"}},"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0432: ",i.a.createElement("div",{style:{display:"inline-block",color:"#000"}},"60"))))};var ce=function(){return i.a.createElement("section",{className:"section"},i.a.createElement("div",{className:"student-book-header-container"},i.a.createElement("div",{className:"student-book-page-title"},i.a.createElement("h1",null,"\u041e\u0446\u0435\u043d\u0438 \u0441\u0432\u043e\u0438 \u043a\u0443\u0440\u0441\u044b"))),i.a.createElement("div",{className:"content"},i.a.createElement("p",{style:{textAlign:"left",color:"rgba(0, 0, 0, 0.501967)"}},"\u0423\u0432\u0430\u0436\u0430\u0435\u043c\u044b\u0439 \u0441\u0442\u0443\u0434\u0435\u043d\u0442!",i.a.createElement("br",null),"\u0412\u0430\u043c \u043f\u0440\u0435\u0434\u0441\u0442\u043e\u0438\u0442 \u043f\u0440\u0438\u043d\u044f\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0432 \u0441\u0442\u0443\u0434\u0435\u043d\u0447\u0435\u0441\u043a\u043e\u0439 \u043e\u0446\u0435\u043d\u043a\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u043d\u0438\u044f. \u041e\u0446\u0435\u043d\u043a\u0430 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0441\u044f, \u0447\u0442\u043e\u0431\u044b \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u044b \u043c\u043e\u0433\u043b\u0438 \u0432\u044b\u0440\u0430\u0437\u0438\u0442\u044c \u0441\u0432\u043e\u0435 \u043c\u043d\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0443\u0447\u0435\u0431\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043d\u0430 \u0441\u0432\u043e\u0435\u0439 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0435, \u0432\u044b\u0441\u043a\u0430\u0437\u0430\u0442\u044c \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043f\u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u043c \u0443\u0447\u0435\u0431\u043d\u044b\u043c \u0434\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0430\u043c \u0438 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043a\u0430\u0441\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0437\u0430\u043d\u044f\u0442\u0438\u0439 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043e\u0446\u0435\u043d\u043a\u0438 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u043e\u043c \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u043e\u0432, \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u043e\u0432 \u0438 \u043a\u0430\u0444\u0435\u0434\u0440 \u043f\u0440\u0438 \u043f\u0440\u0438\u043d\u044f\u0442\u0438\u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u0439 \u043e\u0431 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0443\u0447\u0435\u0431\u043d\u044b\u0445 \u043a\u0443\u0440\u0441\u043e\u0432 \u0438 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441 \u041f\u0440\u0430\u0432\u0438\u043b\u0430\u043c\u0438 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0433\u043e \u0440\u0430\u0441\u043f\u043e\u0440\u044f\u0434\u043a\u0430 \u041d\u0418\u0423 \u0412\u0428\u042d \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0441\u0442\u0443\u0434\u0435\u043d\u0442\u043e\u0432 \u0432 \u043e\u0446\u0435\u043d\u043a\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u043f\u0440\u0435\u043f\u043e\u0434\u0430\u0432\u0430\u043d\u0438\u044f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e. \u0412\u0430\u0448\u0438 \u043e\u0442\u0432\u0435\u0442\u044b \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0430\u043d\u043e\u043d\u0438\u043c\u043d\u044b, \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u0435\u0440\u0435\u0434\u0430\u044e\u0442\u0441\u044f \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0441\u0442\u0432\u0443 \u0444\u0430\u043a\u0443\u043b\u044c\u0442\u0435\u0442\u043e\u0432, \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u043e\u0432, \u043a\u0430\u0444\u0435\u0434\u0440 \u0442\u043e\u043b\u044c\u043a\u043e \u0432 \u043e\u0431\u043e\u0431\u0449\u0435\u043d\u043d\u043e\u043c \u0432\u0438\u0434\u0435."),i.a.createElement("table",{id:"capture",className:"table-fill"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"text-left"},"\u041f\u0435\u0440\u0438\u043e\u0434"),i.a.createElement("th",{className:"text-left"},"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430"),i.a.createElement("th",{className:"text-left"},"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f"),i.a.createElement("th",{className:"text-left"},"\u0421\u0442\u0430\u0442\u0443\u0441"))),i.a.createElement("tbody",{className:"table-hover"},(e={dateRange:"1 \u043c\u043e\u0434\u0443\u043b\u044c 2019/2020 \u0443\u0447\u0435\u0431\u043d\u043e\u0433\u043e \u0433\u043e\u0434\u0430",dateBegin:"20:00 30.09.2019 \u0433. \u043f\u043e \u043c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u043e\u043c\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",dateEnd:"23:59 20.10.2019 \u0433. \u043f\u043e \u043c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u043e\u043c\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",status:"\u0421\u041e\u041f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d, \u0430\u043d\u043a\u0435\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0430"},i.a.createElement("tr",null,i.a.createElement("td",{className:"text-left"},e.dateRange),i.a.createElement("td",{className:"text-left",style:{color:"#007AFF"}},e.dateBegin),i.a.createElement("td",{className:"text-left",style:{color:"#007AFF"}},e.dateEnd),i.a.createElement("td",{className:"text-left"},e.status)))))));var e};var oe=function(){return i.a.createElement("section",{className:"section"},i.a.createElement("div",{className:"student-book-header-container"},i.a.createElement("div",{className:"student-book-page-title"},i.a.createElement("h1",null,"\u041e\u0446\u0435\u043d\u043a\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"))),i.a.createElement("div",{className:"content"},i.a.createElement("p",{style:{textAlign:"left",color:"rgba(0, 0, 0, 0.501967)"}},"\u0423\u0432\u0430\u0436\u0430\u0435\u043c\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u0433\u0438!",i.a.createElement("br",null),"\u0412 \u043c\u043e\u0434\u0443\u043b\u0435 \xab\u041e\u0446\u0435\u043d\u043a\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432\xbb \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432, \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0435\u0439 \u0438 \u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435\u043c \u0443\u0447\u0435\u0431\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u043f\u043e \u0412\u0430\u0448\u0435\u0439 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0435. \u041d\u0438\u0436\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0435\u0440\u0438\u043e\u0434\u043e\u0432, \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043f\u0440\u043e\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043e\u0446\u0435\u043d\u043a\u0430.\u0412\u0430\u0448\u0438 \u043e\u0442\u0432\u0435\u0442\u044b \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u0443\u043b\u0443\u0447\u0448\u0438\u0442\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0412\u0430\u0448\u0435\u0439 \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0438 \u043e\u0447\u0435\u043d\u044c \u0432\u0430\u0436\u043d\u044b \u0434\u043b\u044f \u043e\u0446\u0435\u043d\u043a\u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432, \u0437\u0430\u043d\u0438\u043c\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u0441\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435\u043c \u0443\u0447\u0435\u0431\u043d\u043e\u0433\u043e \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430."),i.a.createElement("table",{id:"capture",className:"table-fill"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"text-left"},"\u041f\u0435\u0440\u0438\u043e\u0434"),i.a.createElement("th",{className:"text-left"},"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430"),i.a.createElement("th",{className:"text-left"},"\u0414\u0430\u0442\u0430 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f"),i.a.createElement("th",{className:"text-left"},"\u0421\u0442\u0430\u0442\u0443\u0441"))),i.a.createElement("tbody",{className:"table-hover"},(e={dateRange:"1 \u043c\u043e\u0434\u0443\u043b\u044c 2019/2020 \u0443\u0447\u0435\u0431\u043d\u043e\u0433\u043e \u0433\u043e\u0434\u0430",dateBegin:"17:00 06.06.2019 \u0433. \u043f\u043e \u043c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u043e\u043c\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",dateEnd:"23:59 30.06.2019 \u0433. \u043f\u043e \u043c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u043e\u043c\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438",status:"\u0421\u041e\u041f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d, \u0430\u043d\u043a\u0435\u0442\u0430 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0430"},i.a.createElement("tr",null,i.a.createElement("td",{className:"text-left"},e.dateRange),i.a.createElement("td",{className:"text-left",style:{color:"#007AFF"}},e.dateBegin),i.a.createElement("td",{className:"text-left",style:{color:"#007AFF"}},e.dateEnd),i.a.createElement("td",{className:"text-left"},e.status)))))));var e};var ie=function(){return i.a.createElement("section",{className:"section"},i.a.createElement("div",{className:"student-book-header-container"},i.a.createElement("div",{className:"student-book-page-title"},i.a.createElement("h1",null,"\u041c\u043e\u0438 \u0440\u0430\u0431\u043e\u0442\u044b (\u0412\u041a\u0420/\u041a\u0420/\u041f\u0440\u043e\u0435\u043a\u0442)"))),i.a.createElement("div",{className:"content"},i.a.createElement("table",{id:"capture",className:"table-fill"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{className:"text-left"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434"),i.a.createElement("th",{className:"text-left"},"\u0422\u0438\u043f \u0440\u0430\u0431\u043e\u0442\u044b"),i.a.createElement("th",{className:"text-left"},"\u0422\u0435\u043c\u0430"),i.a.createElement("th",{className:"text-left"},"\u0422\u0435\u043c\u0430 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c"),i.a.createElement("th",{className:"text-left"},"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e"),i.a.createElement("th",{className:"text-left"},"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0437\u0430\u0438\u043c\u0441\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u0439"),i.a.createElement("th",{className:"text-left"},"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"),i.a.createElement("th",{className:"text-left"},"\u041e\u0446\u0435\u043d\u043a\u0430"),i.a.createElement("th",{className:"text-left"},"\u041e\u0442\u0437\u044b\u0432"),i.a.createElement("th",{className:"text-left"},"\u0420\u0435\u0446\u0435\u043d\u0437\u0438\u044f"))),i.a.createElement("tbody",{className:"table-hover"},(e={dateRange:"2018/2019 \u0443\u0447\u0435\u0431\u043d\u044b\u0439 \u0433\u043e\u0434",jobType:"\u041f\u0440\u043e\u0435\u043a\u0442",theme:"3 \u043a\u0443\u0440\u0441",themeEng:"",downloaded:"\u041d\u0435\u0442",percentOrigin:"",checkStatus:"",point:"9",review:"",critique:""},i.a.createElement("tr",null,i.a.createElement("td",{className:"text-left"},e.dateRange),i.a.createElement("td",{className:"text-left"},e.jobType),i.a.createElement("td",{className:"text-left"},e.theme),i.a.createElement("td",{className:"text-left"},e.themeEng),i.a.createElement("td",{className:"text-left"},e.downloaded),i.a.createElement("td",{className:"text-left"},e.percentOrigin),i.a.createElement("td",{className:"text-left"},e.checkStatus),i.a.createElement("td",{className:"text-left"},e.point),i.a.createElement("td",{className:"text-left"},e.review),i.a.createElement("td",{className:"text-left"},e.critique)))))));var e},me=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,n=t.value;l.setState(Object(le.a)({},a,n))},l.handleSubmit=function(e){e.preventDefault();var t=l.state,a={login:t.login,password:t.password};k.a.post(M()+"/railsapp/log_in",{user:a},{withCredentials:!0}).then((function(e){e.data.logged_in?(l.state.handleLogin(e),l.redirect()):l.setState({errors:e.data.errors})})).catch((function(e){return console.log("api errors:",e)}))},l.redirect=function(){l.setState({loggedIn:!0})},l.handleErrors=function(){return i.a.createElement("div",null,i.a.createElement("ul",null,l.state.errors.map((function(e){return i.a.createElement("li",{key:e},e)}))))},l.state={login:"",password:"",errors:"",loggedIn:!1,handleLogin:e.handleLogin,handleLogout:e.handleLogout},l}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.login,a=e.password;return e.loggedIn?(console.log("logged in from login form"),i.a.createElement(u.a,{to:"/"})):i.a.createElement("section",{className:"section"},i.a.createElement("div",{className:"content"},i.a.createElement("h1",{className:"page-title"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 LMS"),i.a.createElement("form",{onSubmit:this.handleSubmit,style:{display:"flex",flexDirection:"column",width:"360px",alignItems:"center",margin:"auto"}},i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("p",{style:{textAlign:"left",fontSize:"20px",lineHeight:"16px",color:"#000",marginBottom:"12px",fontWeight:"bold"}},"\u0412\u043e\u0439\u0442\u0438")),i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("p",{style:{textAlign:"left",fontSize:"16px",lineHeight:"16px",color:"#8E8E93",marginBottom:"12px"}},"\u041b\u043e\u0433\u0438\u043d")),i.a.createElement("input",{type:"text",name:"login",value:t,onChange:this.handleChange,style:{backgroundColor:"transparent",border:"1px solid #8E8E93",height:"40px",width:"100%",borderRadius:"8px",fontSize:"12px",textIndent:"20px"}}),i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("p",{style:{textAlign:"left",fontSize:"16px",lineHeight:"16px",color:"#8E8E93",marginBottom:"12px"}},"\u041f\u0430\u0440\u043e\u043b\u044c")),i.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange,style:{backgroundColor:"transparent",border:"1px solid #8E8E93",height:"40px",width:"100%",borderRadius:"8px",fontSize:"12px",textIndent:"20px"}}),i.a.createElement("button",{placeholder:"submit",type:"submit",className:"square_btn",style:{width:"101%",marginTop:"27px",fontSize:"12px",border:"none"}},"\u0412\u043e\u0439\u0442\u0438"),i.a.createElement("p",null,"\u0438\u043b\u0438"),i.a.createElement("a",{href:"/signup",className:"square_btn",style:{width:"calc(100% - 58px)"}},"\u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442")),i.a.createElement("div",null,this.state.errors?this.handleErrors():null)))}}]),a}(o.Component),ue=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(e){var l;return Object(n.a)(this,a),(l=t.call(this,e)).handleChange=function(e){var t=e.target,a=t.name,n=t.value;l.setState(Object(le.a)({},a,n))},l.handleSubmit=function(e){e.preventDefault();var t=l.state,a={login:t.login,password:t.password,password_confirmation:t.password_confirmation};k.a.post(M()+"/railsapp/users",{user:a},{withCredentials:!0}).then((function(e){"created"===e.data.status?l.redirect():l.setState({errors:e.data.errors})})).catch((function(e){return console.log("api errors:",e)}))},l.redirect=function(){l.setState({loggedIn:!0})},l.handleErrors=function(){return i.a.createElement("div",null,i.a.createElement("ul",null,l.state.errors.map((function(e){return i.a.createElement("li",null,"key=",e,">",e)}))))},l.state={login:"",password:"",password_confirmation:"",errors:"",loggedIn:!1},l}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.login,a=e.password,n=e.password_confirmation;return e.loggedIn?(console.log("logged in from login form"),i.a.createElement(u.a,{to:"/"})):i.a.createElement("section",{className:"section"},i.a.createElement("div",{className:"content"},i.a.createElement("h1",{className:"page-title"},"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 LMS"),i.a.createElement("form",{onSubmit:this.handleSubmit,style:{display:"flex",flexDirection:"column",width:"360px",alignItems:"center",margin:"auto"}},i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("p",{style:{textAlign:"left",fontSize:"20px",lineHeight:"16px",color:"#000",marginBottom:"12px",fontWeight:"bold"}},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("p",{style:{textAlign:"left",fontSize:"16px",lineHeight:"16px",color:"#8E8E93",marginBottom:"12px"}},"\u041b\u043e\u0433\u0438\u043d")),i.a.createElement("input",{type:"text",name:"login",value:t,onChange:this.handleChange,style:{backgroundColor:"transparent",border:"1px solid #8E8E93",height:"40px",width:"100%",borderRadius:"8px",fontSize:"12px",textIndent:"20px"}}),i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("p",{style:{textAlign:"left",fontSize:"16px",lineHeight:"16px",color:"#8E8E93",marginBottom:"12px"}},"\u041f\u0430\u0440\u043e\u043b\u044c")),i.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange,style:{backgroundColor:"transparent",border:"1px solid #8E8E93",height:"40px",width:"100%",borderRadius:"8px",fontSize:"12px",textIndent:"20px"}}),i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("p",{style:{textAlign:"left",fontSize:"16px",lineHeight:"16px",color:"#8E8E93",marginBottom:"12px"}},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435")),i.a.createElement("input",{type:"password",name:"password_confirmation",value:n,onChange:this.handleChange,style:{backgroundColor:"transparent",border:"1px solid #8E8E93",height:"40px",width:"100%",borderRadius:"8px",fontSize:"12px",textIndent:"20px"}}),i.a.createElement("button",{placeholder:"submit",type:"submit",className:"square_btn",style:{width:"101%",marginTop:"27px",fontSize:"12px",border:"none"}},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"))))}}]),a}(o.Component);var de=function(e){return i.a.createElement(u.a,{to:"/"})},pe=(a(72),a(8)),he=Object(pe.a)(),fe=i.a.createContext(),Ee={auth:{isLoggedIn:0,user:null},route:"/"};function ge(e,t){switch(console.log("update value",t),t.type){case"updateValue":return{state:e,auth:t.auth,route:t.route};default:return e}}var ve=function(e){var t=i.a.useReducer(ge,Ee),a=Object(c.a)(t,2),n=a[0],l=a[1],r=Object(u.g)();console.log("context provider rendered",r);var s,o=function(e){l({type:"updateValue",auth:{isLoggedIn:1,user:e.data.user},route:r.pathname}),console.log("user logged in - ",e.data)},m=function(){l({type:"updateValue",auth:{isLoggedIn:-1,user:null},route:r.pathname}),console.log("user logged out",r.pathname)};(console.log("state.auth - ",n.auth),0===n.auth.isLoggedIn)&&(console.log("pathname - ",r.pathname),k.a.get(M()+"/railsapp/logged_in",{withCredentials:!0}).then((function(e){if((s=e).data.logged_in)return k.a.get(M()+"/railsapp/courses/"+s.data.user.course_id+".json",{withCredentials:!0});m()})).then((function(e){console.log("course response",e),s.data.user.course=e.data,o(s)})).catch((function(e){console.log("api errors:",e),m()})));return i.a.createElement(fe.Provider,{value:{auth:{isLoggedIn:n.auth.isLoggedIn,user:n.auth.user,handleLogin:o,handleLogout:m},route:"/login"===n.route?"/":r.pathname}},e.children)},ye=function(e){Object(r.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"loginForm",value:function(e){return console.log("login rendered"),he.push("/login"),i.a.createElement("div",{className:"wrapper"},i.a.createElement(me,{history:he,handleLogin:e.handleLogin,loggedInStatus:1===e.isLoggedIn}))}},{key:"signupForm",value:function(e){return console.log("signup rendered"),he.push("/signup"),i.a.createElement("div",{className:"wrapper"},i.a.createElement(ue,{history:he,handleLogin:e.handleLogin,loggedInStatus:1===e.isLoggedIn}))}},{key:"body",value:function(e){return i.a.createElement("div",{className:"wrapper"},i.a.createElement(f,{auth:e}),i.a.createElement(u.b,{exact:!0,path:"/courses",component:F}),i.a.createElement(u.b,{exact:!0,path:"/student-book",component:ne}),i.a.createElement(u.b,{exact:!0,path:"/email",render:function(t){return i.a.createElement(K,{auth:e})}}),i.a.createElement(u.b,{exact:!0,path:"/email-send",render:function(t){return i.a.createElement(W,{auth:e})}}),i.a.createElement(u.b,{exact:!0,path:"/point-your-courses",component:ce}),i.a.createElement(u.b,{exact:!0,path:"/point-colleagues",component:oe}),i.a.createElement(u.b,{exact:!0,path:"/choose-minor",component:re}),i.a.createElement(u.b,{exact:!0,path:"/choose-course",component:se}),i.a.createElement(u.b,{exact:!0,path:"/KP-BKP",component:ie}),i.a.createElement(u.b,{exact:!0,path:"/",render:function(t){return i.a.createElement(P,{auth:e})}}),i.a.createElement(u.b,{exact:!0,path:"/login",render:function(t){return i.a.createElement(me,{history:he,handleLogin:e.handleLogin,loggedInStatus:1===e.isLoggedIn})}}),i.a.createElement(u.b,{exact:!0,path:"/signup",render:function(t){return i.a.createElement(ue,{history:he,handleLogin:e.handleLogin,loggedInStatus:1===e.isLoggedIn})}}))}},{key:"waitForLogin",value:function(){return i.a.createElement("div",{className:"wrapper"},i.a.createElement(f,null),i.a.createElement("p",null,"\u041f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435..."))}},{key:"render",value:function(){return console.log("logged in",this.props),console.log("logged in wlp",window.location.pathname),1===this.props.auth.isLoggedIn&&"/login"===window.location.pathname?(he.push("/"),i.a.createElement(u.a,{to:"/"})):1===this.props.auth.isLoggedIn?this.body(this.props.auth):0===this.props.auth.isLoggedIn?this.waitForLogin():"/signup"==this.props.route?this.signupForm(this.props.auth):this.loginForm(this.props.auth)}}]),a}(i.a.Component);ye.contextType=fe;t.default=ye;function Ne(e){return console.log("logged in",e),i.a.createElement(d.a,{history:he},i.a.createElement(u.d,null,i.a.createElement(ve,null,i.a.createElement(fe.Consumer,null,(function(e){return console.log("props - ",e),i.a.createElement(i.a.Fragment,null,i.a.createElement(u.b,{exact:!0,path:"/exit",component:de}),i.a.createElement(u.b,{path:"/",render:function(t){return i.a.createElement(ye,{auth:e.auth,route:e.route})}}))})))))}Object(m.render)(i.a.createElement(Ne,null),document.querySelector("#root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.95680bc3.chunk.js.map