{"version":3,"sources":["js/useDocumentScrollThrottled.js","js/header.js","js/news/news_piece.js","js/events/event.js","js/email/email.js","js/data-loader.js","js/body.js","js/data-utils.js","js/courses-body.js","js/data_mock/email-data-mock.js","js/email/email-scroll.js","js/email-body.js","js/email/email-send-scroll.js","js/email-send-body.js","js/data_mock/student-book-data-mock.js","js/student-book-body.js","js/choose-minor.js","js/choose-course.js","js/point-your-courses.js","js/point-colleagues.js","js/relocation.js","js/vbm-req.js","js/bkp-kp.js","js/support.js","js/profile.js","js/practic-req.js","js/pgas-req.js","js/themes-KP-BKP.js","js/login.js","js/signup.js","js/exit.js","index.js"],"names":["useDocumentScrollThrottled","callback","useState","setScrollPosition","previousScrollTop","handleDocumentScrollThrottled","throttle","currentScrollTop","document","documentElement","body","scrollTop","previousPosition","useEffect","window","addEventListener","removeEventListener","Header","props","console","log","shouldHideHeader","setShouldHideHeader","shouldShowShadow","setShouldShowShadow","shoundShowAllSections","setShoundShowAllSections","callbackData","isScrolledDown","isMinimumScrolled","setTimeout","shadowStyle","hiddenStyle","allSectionsStyle","auth","className","onMouseLeave","href","type","placeholder","required","path","children","match","id","onMouseEnter","style","color","src","user","course_id","to","courseNumber","result","push","chooseColumn","requestColumn","NewsPiece","title","time","dangerouslySetInnerHTML","__html","content","Event","typeValue","typeColor","image","header","background","Email","author","status","getHost","location","port","origin","loadAllDisciplines","handleResult","coursesMap","Map","axios","get","withCredentials","then","response","data","map","it","set","courseId","courseName","name","modsMap","course","modId","modName","disciplinesMap","r","Array","from","values","val","d","mod","mod_id","disciplineId","disciplineName","marks","handleError","promise","catch","error","loadUsersById","userIds","usersMap","all","spread","responses","forEach","a","fetch","json","timeSince","Date","description","date","seconds","Math","floor","interval","Body","state","news","eventsMap","fetchNews","setState","events","item","has","items","this","display","slice","event","tag","toUpperCase","imageUrl","React","Component","coursesMapProcessor","handleArguments","discipline","CoursesBody","selectedOption","selectedContent","handleChange","handleClick","selectedContentKey","newSelectedContent","value","found","materials","material","url","coursesMapTmp","discipline_id","options","entries","pair","label","mats","key","onClick","styles","borderRadius","onChange","classNamePrefix","height","folders","messages","isNew","authors","login","EmailDataMock","folderId","EmailScroll","selected","message","selectedFalse","cardClassName","supplierName","supplier","firstName","lastName","msgDate","created_at","msgDateFormatted","getMonth","getDate","getFullYear","mock","EmailBody","getFolders","selectedMessage","foldersMap","itemsRefs","foldersMapTmp","currentUser","messagesMap","msg","supplier_id","consumer_id","loadMessages","users","Set","folder","add","consumer","new","ref","createRef","current","EmailSendScroll","consumerName","EmailSendBody","sended","selectedAthor","updateTheme","evt","themeInputValue","target","updateBody","bodyInputValue","loadUsers","msgToSend","post","email","personData","faculty","midName","roleDescription","courseStats","rateCurrent","rateMax","percentile","pointAvg","mapCourseModules","mapModuleDisciplines","mapModuleNames","mapDisciplineData","tenPointSystem","fivePointSystem","retries","lastTry","teacher","moduleId","StudentBookBody","modsVal","mark","includes","rs","m","teacher_id","teacherName","input","getElementById","html2canvas","canvas","imgData","toDataURL","pdf","jsPDF","addImage","save","rows","colSpan","disciplineIn","marksLength","length","marksMoreThanZero","tenPointSystemPoint","fivePointSystemPoint","toFixed","toLocaleDateString","tableRowData","getCourseStats","width","ChooseMinorBody","backgroundColor","fontSize","lineHeight","letterSpacing","textAlign","marginLeft","marginTop","justifyItems","verticalAlign","paddingLeft","marginBottom","left","ChooseCourseBody","alignItems","position","maxHeight","paddingBottom","PointYourCoursesBody","courseData","dateRange","dateBegin","dateEnd","PointColleaguesBody","pointColleaguesData","RelocationBody","VBMReqBody","BkpKpBody","bkpKpData","jobType","theme","themeEng","downloaded","percentOrigin","checkStatus","point","review","critique","SupportBody","fontWeight","textDecoration","ProfileBody","flexDirection","overflow","PracticReqBody","marginRight","PGASReqBody","borderBottom","ThemesKPDKPBody","margin","border","textIndent","Login","handleSubmit","preventDefault","password","logged_in","handleLogin","redirect","errors","loggedIn","handleErrors","handleLogout","onSubmit","whiteSpace","Signup","password_confirmation","Exit","customHistory","createBrowserHistory","Context","createContext","initialState","isLoggedIn","route","reducer","action","UserContextProvider","useReducer","dispatch","useLocation","userResponse","pathname","Provider","App","history","loggedInStatus","exact","component","render","waitForLogin","signupForm","loginForm","contextType","Index","Consumer","global","querySelector"],"mappings":"wQA4BeA,MAzBf,SAAoCC,GAAW,IAAD,EACdC,mBAAS,GAA9BC,EADmC,oBAExCC,EAAoB,EAElBC,EAAgCC,oBAEtC,WAAiC,IACZC,GAAqBC,SAASC,iBAAmBD,SAASE,MAArEC,UAERR,GAAkB,SAAAS,GAEhB,OADAR,EAAoBQ,EACbL,KAGTN,EAAS,CAAEG,oBAAmBG,uBAVqC,KAarEM,qBAAU,WAGR,OAFAC,OAAOC,iBAAiB,SAAUV,GAE3B,kBACLS,OAAOE,oBAAoB,SAAUX,MACtC,KC6LUY,MAjNf,SAAgBC,GACdC,QAAQC,IAAI,kBAAmBF,GADV,MAE2BhB,oBAAS,GAFpC,mBAEdmB,EAFc,KAEIC,EAFJ,OAG2BpB,oBAAS,GAHpC,mBAGdqB,EAHc,KAGIC,EAHJ,OAIqCtB,oBAAS,GAJ9C,mBAIduB,EAJc,KAISC,EAJT,KASrB1B,GAA2B,SAAA2B,GAAiB,IAClCvB,EAAwCuB,EAAxCvB,kBAAmBG,EAAqBoB,EAArBpB,iBACrBqB,EAAiBxB,EAAoBG,EACrCsB,EAAoBtB,EANL,GAQrBiB,EAAoBjB,EAAmB,GAEvCuB,YAAW,WACTR,EAAoBM,GAAkBC,KAVpB,QActB,IAAME,EAAcR,EAAmB,SAAW,GAC5CS,EAAcX,EAAmB,SAAW,GAC5CY,EAAmBR,IAA0BJ,EAAmB,sBAAwB,6BAE9F,OADAF,QAAQC,IAAI,SAAUa,GACjBf,EAAMgB,KAIT,4BAAQC,UAAS,iBAAYJ,EAAZ,YAA2BC,GAAeI,aAAc,WAAOV,GAAyB,KACvG,yBAAKS,UAAU,QAAO,uBAAGE,KAAK,KAAR,QACtB,yBAAKF,UAAU,WACb,yBAAKA,UAAU,UACb,6BACE,2BAAOG,KAAK,OAAOC,YAAY,sBAAsBC,UAAQ,OAInE,wBAAIL,UAAU,SACZ,kBAAC,IAAD,CAAOM,KAAK,WAAWC,SAAU,SAACxB,GAAD,OAC/BA,EAAMyB,MACJ,wBAAIR,UAAU,YAAYS,GAAG,aAAaC,aAAc,WAAOnB,GAAyB,KAAS,uBAAGW,KAAK,WAAWS,MAAO,CAACC,MAAO,SAAlC,sDACjG,wBAAIZ,UAAU,YAAYS,GAAG,aAAaC,aAAc,WAAOnB,GAAyB,KAAS,uBAAGW,KAAK,YAAR,yDAErG,kBAAC,IAAD,CAAOI,KAAK,gBAAgBC,SAAU,SAACxB,GAAD,OACpCA,EAAMyB,MACJ,wBAAIR,UAAU,YAAYS,GAAG,eAAeC,aAAc,WAAOnB,GAAyB,KAAS,uBAAGW,KAAK,gBAAgBS,MAAO,CAACC,MAAO,SAAvC,+CACnG,wBAAIZ,UAAU,YAAYS,GAAG,eAAeC,aAAc,WAAOnB,GAAyB,KAAS,uBAAGW,KAAK,iBAAR,kDAEvG,kBAAC,IAAD,CAAOI,KAAK,YAAYC,SAAU,SAACxB,GAAD,OAChCA,EAAMyB,MACJ,wBAAIR,UAAU,YAAYS,GAAG,WAAWC,aAAc,WAAOnB,GAAyB,KAAS,uBAAGW,KAAK,8BAA8BS,MAAO,CAACC,MAAO,SAArD,iEAC/F,wBAAIZ,UAAU,YAAYS,GAAG,WAAWC,aAAc,WAAOnB,GAAyB,KAAS,uBAAGW,KAAK,+BAAR,oEAEnG,kBAAC,IAAD,CAAOI,KAAK,gBAAgBC,SAAU,SAACxB,GAAD,OACpCA,EAAMyB,MACJ,wBAAIR,UAAU,YAAYS,GAAG,eAAeC,aAAc,WAAOnB,GAAyB,KAAQ,uBAAGW,KAAK,gBAAgBS,MAAO,CAACC,MAAO,SAAvC,kEAClG,wBAAIZ,UAAU,YAAYS,GAAG,eAAeC,aAAc,WAAOnB,GAAyB,KAAQ,uBAAGW,KAAK,iBAAR,qEAEtG,kBAAC,IAAD,CAAOI,KAAK,QAAQC,SAAU,SAACxB,GAAD,OAC5BA,EAAMyB,MACJ,wBAAIR,UAAU,YAAYS,GAAG,OAAOC,aAAc,WAAOnB,GAAyB,KAAS,uBAAGW,KAAK,SAASS,MAAO,CAACC,MAAO,SAAS,yBAAKC,IAAI,eAC7I,wBAAIb,UAAU,YAAYS,GAAG,OAAOC,aAAc,WAAOnB,GAAyB,KAAS,uBAAGW,KAAK,UAAS,yBAAKW,IAAI,kBAEzH,kBAAC,IAAD,CAAOP,KAAK,WAAWC,SAAU,SAACxB,GAAD,OAC/BA,EAAMyB,MACJ,wBAAIR,UAAU,YAAYS,GAAG,UAAUC,aAAc,WAAOnB,GAAyB,KAAS,uBAAGW,KAAK,WAAWS,MAAO,CAACC,MAAO,SAAS,yBAAKC,IAAI,kBAClJ,wBAAIb,UAAU,YAAYS,GAAG,UAAUC,aAAc,WAAOnB,GAAyB,KAAS,uBAAGW,KAAK,YAAW,yBAAKW,IAAI,qBAE9H,kBAAC,IAAD,CAAOP,KAAK,QAAQC,SAAU,SAACxB,GAAD,OAC5BA,EAAMyB,MACJ,wBAAIR,UAAU,YAAYS,GAAG,OAAOC,aAAc,WAAOnB,GAAyB,KAAS,uBAAGW,KAAK,QAAQS,MAAO,CAACC,MAAO,SAA/B,mCAC3F,wBAAIZ,UAAU,YAAYS,GAAG,OAAOC,aAAc,WAAOnB,GAAyB,KAAS,uBAAGW,KAAK,SAAR,uCAGjG,yBAAKF,UAAS,UAAKF,GAAoBY,aAAc,WAAOnB,GAAyB,IAAQU,aAAc,WAAOV,GAAyB,KACzI,yBAAKS,UAAU,iCACb,yBAAKA,UAAU,+BACAjB,EAAMgB,KAAKe,KAAKC,UAkB/B,oCAAE,yBAAKf,UAAU,4BAAf,gGACV,kBAAC,IAAD,CAAMgB,GAAG,uBACP,yBAAKhB,UAAU,4BACb,yBAAKA,UAAU,4BAA2B,yBAAKa,IAAI,6BACnD,yBAAKb,UAAU,6BAA4B,wHAG/C,kBAAC,IAAD,CAAMgB,GAAG,qBACP,yBAAKhB,UAAU,4BACb,yBAAKA,UAAU,4BAA2B,yBAAKa,IAAI,2BACnD,yBAAKb,UAAU,6BAA4B,4IA1BvC,yBAAKA,UAAU,8BA+BzB,SAAsBiB,GACpB,IAAIC,EAAS,GACoBD,EAAe,GAAKA,EAAe,GAGlEC,EAAOC,KAAK,kBAAC,IAAD,CAAMH,GAAG,iBACnB,yBAAKhB,UAAU,4BACb,yBAAKA,UAAU,4BAA2B,yBAAKa,IAAI,uBACnD,yBAAKb,UAAU,6BAA4B,4GAI7CiB,EAAe,GACjBC,EAAOC,KAAK,kBAAC,IAAD,CAAMH,GAAG,kBACnB,yBAAKhB,UAAU,4BACb,yBAAKA,UAAU,4BAA2B,yBAAKa,IAAI,wBACnD,yBAAKb,UAAU,6BAA4B,mHAI7CiB,EAAe,GACjBC,EAAOC,KAAK,kBAAC,IAAD,CAAMH,GAAG,kBACnB,yBAAKhB,UAAU,4BACb,yBAAKA,UAAU,4BAA2B,yBAAKa,IAAI,wBACnD,yBAAKb,UAAU,6BAA4B,kEAI7CiB,EAAe,GACjBC,EAAOC,KAAK,kBAAC,IAAD,CAAMH,GAAG,WACnB,yBAAKhB,UAAU,4BACb,yBAAKA,UAAU,4BAA2B,yBAAKa,IAAI,iBACnD,yBAAKb,UAAU,6BAA4B,yCAKjD,OADAhB,QAAQC,IAAI,sBAAuBgC,GAC3B,oCAAE,yBAAKjB,UAAU,4BAAf,mHACTkB,GApEUE,CAAarC,EAAMgB,KAAKe,KAAKC,YAEhC,yBAAKf,UAAU,8BAsEzB,SAAuBiB,GACrB,IAAIC,EAAS,GAETD,EAAe,IACjBC,EAAOC,KAAK,kBAAC,IAAD,CAAMH,GAAG,aACnB,yBAAKhB,UAAU,4BACb,yBAAKA,UAAU,4BAA2B,yBAAKa,IAAI,mBACnD,yBAAKb,UAAU,6BAA4B,6GAG/CkB,EAAOC,KAAK,uBAAGjB,KAAK,2DAClB,yBAAKF,UAAU,4BACb,yBAAKA,UAAU,4BAA2B,yBAAKa,IAAI,mBACnD,yBAAKb,UAAU,6BAA4B,8EAI7CiB,EAAe,GACjBC,EAAOC,KAAK,kBAAC,IAAD,CAAMH,GAAG,eACjB,yBAAKhB,UAAU,4BACb,yBAAKA,UAAU,4BAA2B,yBAAKa,IAAI,qBACnD,yBAAKb,UAAU,6BAA4B,iJAI/CiB,EAAe,GACjBC,EAAOC,KAAK,kBAAC,IAAD,CAAMH,GAAG,gBACnB,yBAAKhB,UAAU,4BACb,yBAAKA,UAAU,4BAA2B,yBAAKa,IAAI,sBACnD,yBAAKb,UAAU,6BAA4B,qIAI7CiB,EAAe,GACjBC,EAAOC,KAAK,kBAAC,IAAD,CAAMH,GAAG,YACnB,yBAAKhB,UAAU,4BACb,yBAAKA,UAAU,4BAA2B,yBAAKa,IAAI,kBACnD,yBAAKb,UAAU,6BAA4B,uGAIjD,OAAQ,oCAAE,yBAAKA,UAAU,4BAAf,wCACPkB,GA/GQG,CAActC,EAAMgB,KAAKe,KAAKC,YAEjC,yBAAKf,UAAU,8BAkHf,oCAAE,yBAAKA,UAAU,4BAAf,wCACV,kBAAC,IAAD,CAAMgB,GAAG,YACP,yBAAKhB,UAAU,4BACb,yBAAKA,UAAU,4BAA2B,yBAAKa,IAAI,kBACnD,yBAAKb,UAAU,6BAA4B,kIAlLtC,+B,yBCbIsB,MAhBf,SAAmBvC,GACjB,OACC,yBAAKiB,UAAU,YACZ,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,yBACb,4BAAKjB,EAAMwC,QAEb,yBAAKvB,UAAU,wBAAuB,2BAAIjB,EAAMyC,QAElD,yBAAKxB,UAAU,2BACf,uBAAGyB,wBAAyB,CAACC,OAAQ3C,EAAM4C,cCqBlCC,MA/Bf,SAAe7C,GACb,IAAI8C,EAAY,KACZC,EAAY,KAChB,OAAQ/C,EAAMoB,MACZ,IAAK,QACH0B,EAAY,qEACZC,EAAY,UACZ,MACF,IAAK,WACHD,EAAY,6CACZC,EAAY,UAGhB,OACC,yBAAK9B,UAAU,YACZ,yBAAKA,UAAU,mBACb,yBAAKa,IAAK9B,EAAMgD,SAElB,yBAAK/B,UAAU,sBACb,4BAAKjB,EAAMiD,SAEb,yBAAKhC,UAAU,uBACb,2BAAIjB,EAAM4C,UAEZ,yBAAK3B,UAAU,mBAAmBW,MAAO,CAACsB,WAAYH,IACpD,2BAAID,MCLGK,MApBf,SAAenD,GACb,OACC,yBAAKiB,UAAU,kBACZ,yBAAKA,UAAU,qBACb,yBAAKA,UAAU,qBAAoB,2BAAIjB,EAAMoD,SAC7C,yBAAKnC,UAAU,0BACI,OAAhBjB,EAAMqD,QAAmB,yBAAKpC,UAAU,sBACzC,yBAAKA,UAAU,mBAAkB,2BAAIjB,EAAMyC,SAG/C,yBAAKxB,UAAU,oBACb,4BAAKjB,EAAMwC,QAEb,yBAAKvB,UAAU,sBACb,2BAAIjB,EAAM4C,Y,wBCbX,SAASU,IAEd,OADArD,QAAQC,IAAI,qBAAsBN,OAAO2D,SAASC,MACtB,MAAxB5D,OAAO2D,SAASC,MAClBvD,QAAQC,IAAI,uBAAwBN,OAAO2D,SAASC,MAC7C,yBAEF5D,OAAO2D,SAASE,OA4BlB,SAASC,EAAmBC,GACjC,IAAIC,EAAa,IAAIC,IAAI,IACzB,OAAOC,IAAMC,IAAIT,IAAY,yBAA0B,CAACU,iBAAiB,IACtEC,MAAK,SAAAC,GAOJ,OANAjE,QAAQC,IAAI,kBAAmBgE,GAC/BA,EAASC,KAAKC,KAAI,SAAAC,GAAE,OAAIT,EAAWU,IAAID,EAAG3C,GAAI,CAC5C6C,SAAUF,EAAG3C,GACb8C,WAAYH,EAAGI,KACfC,QAAS,IAAIb,IAAI,SAEZC,IAAMC,IAAIT,IAAY,sBAAuB,CAACU,iBAAiB,OAEvEC,MAAK,SAAAC,GAcJ,OAbAjE,QAAQC,IAAI,eAAgBgE,GAC5BA,EAASC,KAAKC,KAAI,SAAAC,GAChB,IAAIM,EAASf,EAAWG,IAAIM,EAAGrC,WAC/B/B,QAAQC,IAAI,8BAA+ByE,GAEvCA,GACFA,EAAOD,QAAQJ,IAAID,EAAG3C,GAAI,CACxBkD,MAAOP,EAAG3C,GACVmD,QAASR,EAAGI,KACZK,eAAgB,IAAIjB,IAAI,SAIvBC,IAAMC,IAAIT,IAAY,6BAA8B,CAACU,iBAAiB,OAE9EC,MAAK,SAAAC,GACJ,IAAIa,EAAIb,EAASC,KACjBa,MAAMC,KAAKrB,EAAWsB,UAAUd,KAAI,SAAAe,GAClCJ,EAAEX,KAAI,SAAAgB,GACJ,IAAIC,EAAMF,EAAIT,QAAQX,IAAIqB,EAAEE,QACxBD,GACFA,EAAIP,eAAeR,IAAIc,EAAE1D,GAAI,CAC3B6D,aAAcH,EAAE1D,GAChB8D,eAAgBJ,EAAEX,KAClBgB,MAAO,WAKfxF,QAAQC,IAAI,kBAAmBgE,GAC/BP,EAAaC,MAIZ,SAAS8B,EAAYC,GAC1B,OAAOA,EAAQC,OAAM,SAAAC,GAAK,OAAI5F,QAAQC,IAAI,cAAe2F,MAGpD,SAASC,EAAcC,EAASpC,GACrC,IADmD,EAC/CqC,EAAW,IAAInC,IAAI,IACnBkB,EAAI,GAF2C,cAGpCgB,GAHoC,IAGnD,2BAAwB,CAAC,IAAhBrE,EAAe,QACtBqD,EAAE3C,KAAK0B,IAAMC,IAAIT,IAAY,mBAAqB5B,EAAK,QAAS,CAACsC,iBAAiB,MAJjC,8BAMnD,OAAOF,IAAMmC,IAAIlB,GACdd,KAAKH,IAAMoC,QAAO,WAAmB,IAAD,uBAAdC,EAAc,yBAAdA,EAAc,gBACnCA,EAAUC,SAAQ,SAAArB,GAChBiB,EAAS1B,IAAIS,EAAEZ,KAAKzC,GAAIqD,EAAEZ,SAE5BR,EAAaqC,O,4CCKnB,sBAAAK,EAAA,+EACSC,MAAMhD,IAAY,8BACtBW,MAAK,SAAAC,GAAQ,OAAIA,EAASqC,UAC1BtC,MAAK,SAAAE,GAEJ,OADAlE,QAAQC,IAAI,UAAWiE,GAChBA,EAAKC,KAAI,SAAAC,GAAE,OAAI,kBAAC,EAAD,CAChB7B,MAAO6B,EAAG7B,MACVC,KAAM+D,EAAU,IAAIC,KAAKpC,EAAG5B,OAC5BG,QAASyB,EAAGqC,qBARxB,4C,sBAaA,SAASF,EAAUG,GAEjB,IAAIC,EAAUC,KAAKC,OAAO,IAAIL,KAASE,GAAQ,KAE3CI,EAAWF,KAAKC,MAAMF,EAAU,SAEpC,OAAIG,EAAW,EACNA,EAAW,uBAEpBA,EAAWF,KAAKC,MAAMF,EAAU,SACjB,EACNG,EAAW,+CAEpBA,EAAWF,KAAKC,MAAMF,EAAU,QACjB,EACNG,EAAW,6BAEpBA,EAAWF,KAAKC,MAAMF,EAAU,OACjB,EACNG,EAAW,mCAEpBA,EAAWF,KAAKC,MAAMF,EAAU,KACjB,EACNG,EAAW,kCAEbF,KAAKC,MAAMF,GAAW,wCAGhBI,M,4MA1IbC,MAAQ,CACNC,KAAM,KACNC,UAAW,M,kEAGS,ID6GGxD,EC7GJ,Q,2CACnByD,GAAYnD,MAAK,SAAA9B,GACflC,QAAQC,IAAI,YAAaiC,GACzB,EAAKkF,SAAS,CAACH,KAAM/E,OAEvBuD,GDwGuB/B,ECvGV,SAAC2D,GACV,IAAIH,EAAY,IAAItD,IAAI,IACxB5D,QAAQC,IAAI,YAAaoH,GACzBA,EAAOlB,SAAQ,SAAAmB,GACb,GAAIJ,EAAUK,IAAID,EAAKvF,WACrBmF,EAAUpD,IAAIwD,EAAKvF,WAAWI,KAAKmF,OAC9B,CACL,IAAIE,EAAQ,GACZA,EAAMrF,KAAKmF,GACXJ,EAAU7C,IAAIiD,EAAKvF,UAAWyF,OAGlC,EAAKJ,SAAS,CACZF,UAAWA,KD2FZrD,IAAMC,IAAIT,IAAY,wBAAyB,CAACU,iBAAiB,IACrEC,MAAK,SAAAC,GACJP,EAAaO,EAASC,a,+BCpFxB,OADAlE,QAAQC,IAAI,gBAAiBwH,KAAK1H,OAC7B0H,KAAKT,MAAME,UAId,6BAASlG,UAAU,WACjB,yBAAKA,UAAU,WACb,wBAAIA,UAAU,cAAd,8CACA,6BACE,yBAAKA,UAAU,gBAAe,2EAC9B,yBAAKA,UAAU,sBAAqB,uBAAGE,KAAK,GAAGS,MAAO,CAAC+F,QAAS,SAA5B,wEACpC,yBAAK1G,UAAU,SACZyG,KAAKT,MAAMC,MAAQQ,KAAKT,MAAMC,KAAKU,MAAM,EAAG,KAGjD,6BACE,yBAAK3G,UAAU,gBAAe,2EAC9B,yBAAKA,UAAU,sBAAqB,uBAAGE,KAAK,GAAGS,MAAO,CAAC+F,QAAS,SAA5B,wEACpC,yBAAK1G,UAAU,UAqCXkG,EApCMO,KAAKT,MAAME,UAoCNjF,EApCiBwF,KAAK1H,MAAMgB,KAAKe,KAAKC,UAqClDmF,EAAUpD,IAAI7B,GACbkC,KAAI,SAAAyD,GAAK,OAAI,kBAAC,EAAD,CACrB5E,OAAQ4E,EAAMrF,MACdI,QAASiF,EAAMnB,YACftF,KAAMyG,EAAMC,IAAIC,cAChB/E,MAAO6E,EAAMG,iBAvCX,6BACE,yBAAK/G,UAAU,gBAAe,uFAC9B,yBAAKA,UAAU,sBAAqB,uBAAGE,KAAK,UAAR,wEACpC,yBAAKF,UAAU,SACb,kBAAC,EAAD,CACImC,OAAO,wEACPC,OAAO,MACPZ,KAAK,uCACLD,MAAM,oIACNI,QAAQ,yyBAEZ,kBAAC,EAAD,CACIQ,OAAO,4DACPC,OAAO,MACPZ,KAAK,uCACLD,MAAM,mJACNI,QAAQ,q/CAEZ,kBAAC,EAAD,CACIQ,OAAO,4DACPC,OAAO,MACPZ,KAAK,uCACLD,MAAM,yPACNI,QAAQ,yyDA3Cb,8BAqDb,IAAgBuE,EAAWjF,M,GAxFR+F,IAAMC,W,QCJlB,SAASC,EAAoBvE,EAAYwE,GAC9CpD,MAAMC,KAAKrB,EAAWsB,UAAUd,KAAI,SAAAO,GAClCK,MAAMC,KAAKN,EAAOD,QAAQQ,UAAUd,KAAI,SAAAiB,GACtCL,MAAMC,KAAKI,EAAIP,eAAeI,UAAUd,KAAI,SAAAiE,GAC1CD,EAAgBzD,EAAQU,EAAKgD,YCGrB,IAAIxE,IAAI,CACtB,CAAC,aAAc,IAAIA,IAAI,KACvB,CAAC,aAAc,IAAIA,IAAI,KACvB,CAAC,eAAgB,IAAIA,IAAI,KACzB,CAAC,cAAe,IAAIA,IAAI,CACtB,CAAC,uIAA+B,6EAChC,CAAC,kHAAuD,6EACxD,CAAC,mUAA+E,gFAElF,CAAC,cAAe,IAAIA,IAAI,OAT1B,IAgJeyE,E,4MA5FbrB,MAAQ,CACNrD,WAAY,KACZ2E,eAAgB,KAChBC,gBAAiB,M,EAGnBC,aAAe,SAAAF,GACbtI,QAAQC,IAAR,8BAA2C,EAAK+G,OAChD,EAAKI,SACH,CACEkB,eAAgBA,EAChBC,gBAAiB,OAEnB,kBAAMvI,QAAQC,IAAR,mBAAgC,EAAK+G,MAAMsB,oB,EAIrDG,YAAc,SAAAC,GACZ,IAAIC,EAAqB,KACzB,GAAI,EAAK3B,MAAMsB,eAAgB,CAAC,IAAD,gBACb,EAAKtB,MAAMrD,WAAWG,IAAI,EAAKkD,MAAMsB,eAAeM,OAAOnE,QAAQQ,UADtD,IAC7B,2BAA6F,CAAC,IAAD,EAApFG,EAAoF,QACvFyD,GAAQ,EAD+E,cAEpEzD,EAAIP,eAAeI,UAFiD,IAE3F,2BAAoD,CAAC,IAAD,EAA3CmD,EAA2C,sBAC7BA,EAAWU,WADkB,IAClD,2BAA2C,CAAC,IAAnCC,EAAkC,QACzC,GAAIA,EAAStH,KAAOiH,EAAoB,CACtCC,EAAqBI,EAASC,IAC9BH,GAAQ,EACR,MAEF,GAAIA,EAAO,OAPqC,8BASlD,GAAIA,EAAO,OAX8E,gCADhE,+BAgB/B7I,QAAQC,IAAR,wBAAqCyI,GACrC,EAAKtB,SACH,CAAEmB,gBAAiBI,IACnB,kBAAM3I,QAAQC,IAAR,oBAAiC,EAAK+G,MAAMuB,qB,mEA5EhC,IAChBU,EADe,OAEnBxD,EACEhC,GAAmB,SAACE,GAClBsF,EAAgBtF,KACfK,MAAK,SAAAC,GAAQ,OAAIJ,IAAMC,IAAIT,IAAY,2BAA4B,CAACU,iBAAiB,OACrFC,MAAK,SAAAC,GACJjE,QAAQC,IAAI,wBAAyBgE,GACrCiE,EAAoBe,GAAe,SAACvE,EAAQU,EAAKgD,GAAgB,IAAD,gBACzCnE,EAASC,MADgC,IAC9D,2BAAoC,CAAC,IAA5B6E,EAA2B,QAC7BX,EAAWU,YACdV,EAAWU,UAAY,IAEzB9I,QAAQC,IAAI,2BAA4BmI,GACxCpI,QAAQC,IAAI,sBAAuB8I,GAC/BA,EAASG,eAAiBd,EAAW9C,eAAiByD,EAASG,gBACjElJ,QAAQC,IAAI,sBAAuB8I,GACnCX,EAAWU,UAAU3G,KAAK4G,KATgC,kCAchE,IAAII,EAAUpE,MAAMC,KAAKiE,EAAcG,WAAWjF,KAAI,SAAAkF,GACpD,MAAO,CACLT,MAAOS,EAAK,GAAG/E,SACfgF,MAAOD,EAAK,GAAG9E,eAInB,EAAK6C,SAAS,CACZzD,WAAYsF,EACZX,eAAgBa,EAAQ,GACxBA,QAASA,U,6BAgDZpJ,GAAQ,IAAD,SACoC0H,KAAKT,MAA7CsB,EADI,EACJA,eAAgB3E,EADZ,EACYA,WAAYwF,EADxB,EACwBA,QAEpC,IAAKb,IAAmB3E,EACtB,OAAO,8BAGT,IAAI4F,EAAO,GACXvJ,QAAQC,IAAI,2BAA4BqI,EAAeM,OACvD5I,QAAQC,IAAI,2BAA4B0D,GACvBoB,MAAMC,KAAKrB,EAAWG,IAAIwE,EAAeM,OAAOnE,QAAQQ,UACtEkB,SAAQ,SAAAf,GAAQL,MAAMC,KAAKI,EAAIP,eAAeI,UAAUkB,SAAQ,SAAAiC,GAC7DA,EAAWU,UAAU3C,SAAQ,SAAA4C,GAC3B/I,QAAQC,IAAI,qBAAsB8I,GAClC/I,QAAQC,IAAI,mCAAoCmI,GAChDmB,EAAKpH,KAAK,yBAAKnB,UAAU,uBACvB,wBAAIwI,IAAKT,EAAStH,GAAIgI,QAAS,kBAAI,EAAKhB,YAAYM,EAAStH,MAAMsH,EAASvE,iBAQtF,OAFExE,QAAQC,IAAI,UAAWsJ,GAGzB,6BAASvI,UAAU,WAEjB,wBAAIA,UAAU,cAAd,qDACA,yBAAKA,UAAU,WACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,aACb,kBAAC,IAAD,CACE0I,OAAQ,CAACC,aAAc,QACvBf,MAAON,EACPsB,SAAUnC,KAAKe,aACfW,QAASA,EACTU,gBAAgB,sBAElB,wBAAI7I,UAAU,kBAAkBuI,IAElC,yBAAKvI,UAAU,cACZyG,KAAKT,MAAMuB,iBAAmB,2BAAO1G,IAAK4F,KAAKT,MAAMuB,gBAAiBuB,OAAO,QAAQ3I,KAAK,4B,GA3H7E6G,IAAMC,W,QCnB1B8B,EAAU,CACd,CAAEnB,MAAO,SAAUU,MAAO,oDAC1B,CAAEV,MAAO,UAAWU,MAAO,0DAC3B,CAAEV,MAAO,OAAQU,MAAO,6BAGpBU,EAAW,IAAIpG,IAAI,CACxB,CAAC,SAAU,CACV,CACCrB,MAAO,oIACPhD,KAAM,uSACN4D,OAAQ,yEACRX,KAAM,uCACNyH,OAAO,GAER,CACC1H,MAAO,mJACPhD,KAAM,k3EACN4D,OAAQ,6DACRX,KAAM,uCACNyH,OAAO,GAER,CACC1H,MAAO,yPACPhD,KAAM,sSACN4D,OAAQ,6DACRX,KAAM,uCACNyH,OAAO,OAKJC,EAAU,CACf,CACC1F,KAAM,2JACN2F,MAAO,cAER,CACC3F,KAAM,qJACN2F,MAAO,cAER,CACC3F,KAAM,iKACN2F,MAAO,cAER,CACC3F,KAAM,2JACN2F,MAAO,cAER,CACC3F,KAAM,qJACN2F,MAAO,aAER,CACC3F,KAAM,2JACN2F,MAAO,aAER,CACC3F,KAAM,iKACN2F,MAAO,eAER,CACC3F,KAAM,qJACN2F,MAAO,aAER,CACC3F,KAAM,yIACN2F,MAAO,aAER,CACC3F,KAAM,yIACN2F,MAAO,cAkBMC,E,qGAZb,OAAOL,I,mCAIP,OAAOG,I,4CAGcG,GACrB,OAAOL,EAASlG,IAAIuG,O,KChBPC,E,kDAnEd,WAAYvK,GAAQ,IAAD,8BAClB,cAAMA,IAIPiH,MAAO,CACNuD,UAAU,EACVC,QAAS,MAPS,EAUnB/B,YAAc,WACb,EAAKrB,SAAS,CACbmD,UAAU,KAZO,EAgBnBE,cAAgB,WACf,EAAKrD,SAAS,CACbmD,UAAU,KAhBX,EAAKvD,MAAMwD,QAAUzK,EAAMyK,QAFT,E,yDAuBlB,OAAO/C,KAAKT,MAAMwD,U,+BAGT,IAAD,OAGJE,GAFiBjD,KAAKT,MAAlBuD,SAEY,0BACO,GAAvB9C,KAAKT,MAAMuD,WACdG,GAAgC,wBAGjC,IAAIC,EAAgBlD,KAAK1H,MAAMyK,QAAQI,SACrCnD,KAAK1H,MAAMyK,QAAQI,SAASC,WAAcpD,KAAK1H,MAAMyK,QAAQI,SAASE,SAEvErD,KAAK1H,MAAMyK,QAAQI,SAASC,UAAY,IAAMpD,KAAK1H,MAAMyK,QAAQI,SAASE,SAD1E,4GAAyBrD,KAAK1H,MAAMyK,QAAQI,SAASnJ,GAFJ,8IAK9CsJ,EAAU,IAAIvE,KAAKiB,KAAK1H,MAAMyK,QAAQQ,YACtCC,EAAoBF,EAAQG,WAAW,EAAK,IAAMH,EAAQI,UAAY,IAAOJ,EAAQK,cAEzF,OACC,yBAAKpK,UAAW0J,EAAejB,QAAS,WACnC,EAAK1J,MAAM0I,aACd,EAAK1I,MAAM0I,YAAY,EAAKzB,MAAMwD,SAEnC,EAAK/B,gBAEF,yBAAKzH,UAAU,iCACb,yBAAKA,UAAU,wCAAuC,2BAAI2J,IAC1D,yBAAK3J,UAAU,6CAEb,yBAAKA,UAAU,sCAAqC,2BAAIiK,MAG5D,yBAAKjK,UAAU,gCACb,2BAAIyG,KAAK1H,MAAMyK,QAAQjI,QAEzB,yBAAKvB,UAAU,kCACb,2BAAIyG,KAAK1H,MAAMyK,QAAQjL,Y,GA9DNyI,IAAMC,WCQ1BoD,EAAO,IAAIjB,EAwIFkB,E,4MA3FbtE,MAAQ,CACNsB,eAAgB+C,EAAKE,aAAa,GAClCC,gBAAiB,KACjBC,WAAY,KACZC,UAAW,I,EAGblD,aAAe,SAAAF,GACb,EAAKlB,SACH,CACEkB,mBAEF,kBAAMtI,QAAQC,IAAR,mBAAgC,EAAK+G,MAAMsB,oB,EAIrDG,YAAc,SAAC+B,GACb,EAAKpD,SAAS,CACZoE,gBAAiBhB,K,mEA3DC,IAChBmB,EADe,OAEnB3L,QAAQC,IAAI,eAAgBwH,KAAK1H,OACjC0F,ENLG,SAAsBmG,EAAalI,GACxC,IAAI+H,EAAa,IAAI7H,IAAI,IASzB,OARA6H,EAAWpH,IAAI,SAAU,CACvBG,KAAM,mDACNqH,YAAa,IAAIjI,IAAI,MAEvB6H,EAAWpH,IAAI,UAAW,CACxBG,KAAM,yDACNqH,YAAa,IAAIjI,IAAI,MAEhBC,IAAMC,IAAIT,IAAY,wBAAyB,CAACU,iBAAiB,IACrEC,MAAK,SAAAC,GACJA,EAASC,KAAKiC,SAAQ,SAAA2F,GAChBA,EAAIC,cAAgBH,EAAYnK,IAClCgK,EAAW3H,IAAI,WAAW+H,YAAYxH,IAAIyH,EAAIrK,GAAIqK,GAEhDA,EAAIE,cAAgBJ,EAAYnK,IAClCgK,EAAW3H,IAAI,UAAU+H,YAAYxH,IAAIyH,EAAIrK,GAAIqK,MAIrDpI,EAAa+H,MMfbQ,CAAaxE,KAAK1H,MAAMgB,KAAKe,MAAM,SAAC2J,GAClCzL,QAAQC,IAAI,gBAAiBwL,GAC7BE,EAAgBF,KAEfzH,MAAK,WACN,IAAIkI,EAAQ,IAAIC,IAAI,IAOpB,OANApH,MAAMC,KAAK2G,EAAc1G,UAAUkB,SAAQ,SAAAiG,GACzCrH,MAAMC,KAAKoH,EAAOP,YAAY5G,UAAUkB,SAAQ,SAAA2F,GAC9CI,EAAMG,IAAIP,EAAIC,aACdG,EAAMG,IAAIP,EAAIE,mBAGXnG,EAAcd,MAAMC,KAAKkH,EAAM9C,YAAY,SAACrD,GACjDhB,MAAMC,KAAK2G,EAAc1G,UAAUkB,SAAQ,SAAAiG,GACzCrH,MAAMC,KAAKoH,EAAOP,YAAY5G,UAAUkB,SAAQ,SAAA2F,GAC9CA,EAAIlB,SAAW7E,EAASjC,IAAIgI,EAAIC,aAChCD,EAAIQ,SAAWvG,EAASjC,IAAIgI,EAAIE,mBAIpC,IAAI7C,EAAUpE,MAAMC,KAAK2G,EAAcvC,WAAWjF,KAAI,SAAAkF,GACpD,MAAO,CACLT,MAAOS,EAAK,GACZC,MAAOD,EAAK,GAAG7E,SAGnBxE,QAAQC,IAAI,aAAckJ,GAC1B,EAAK/B,SAAS,CACZqE,WAAYE,EACZrD,eAAgBa,EAAQ,GACxBA,QAASA,a,+BA6BT,IAAD,SACyC1B,KAAKT,MAA7CsB,EADD,EACCA,eAAgBmD,EADjB,EACiBA,WAAYtC,EAD7B,EAC6BA,QAEpC,IAAKb,IAAmBmD,EACtB,OAAO,8BAGT,IAAIjE,EAAQzC,MAAMC,KAAKyG,EAAW3H,IAAIwE,EAAeM,OAAOiD,YAAY5G,UAAUd,KAAI,SAACC,GACrFpE,QAAQC,IAAI,mBAAoBqI,GAChC,IAAIkC,EAAO,eAAQpG,GACU,YAAzBkE,EAAeM,QACjB4B,EAAQ+B,IAAM,GAEhB,IAAIC,EAAMxE,IAAMyE,YAEhB,OADA,EAAKzF,MAAM0E,UAAUvJ,KAAKqK,GACnB,kBAAC,EAAD,CAAahC,QAASA,EAASgC,IAAKA,EAAK/D,YAAa,EAAKA,iBAGpEhB,KAAKT,MAAM0E,UAAUvF,SAAQ,SAAA/B,GACvBA,EAAGsI,SAAW,EAAK1F,MAAMwE,kBAAoBpH,EAAGsI,QAAQ1F,MAAMwD,SAChEpG,EAAGsI,QAAQjC,mBAIf,IAAIM,EAAUtD,KAAKT,MAAMwE,gBAAkB,IAAIhF,KAAKiB,KAAKT,MAAMwE,gBAAgBR,YAAc,IAAIxE,KAC/FyE,EAAoBF,EAAQG,WAAW,EAAK,IAAMH,EAAQI,UAAY,IAAOJ,EAAQK,cAEvF,OACE,6BAASpK,UAAU,WAEjB,wBAAIA,UAAU,cAAd,0DACA,yBAAKA,UAAU,WACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,0BACb,yBAAKA,UAAU,iCAAgC,gEAC/C,yBAAKA,UAAU,0CACb,kBAAC,IAAD,CACE0I,OAAQ,CAACC,aAAc,QACvBf,MAAON,EACPsB,SAAUnC,KAAKe,aACfW,QAASA,EACTU,gBAAgB,0BAItB,yBAAK7I,UAAU,qBACZwG,IAGL,yBAAKxG,UAAU,cACb,6BAAK,uBAAGE,KAAK,cAAcF,UAAU,cAAhC,0FACJyG,KAAKT,MAAMwE,iBAAmB,oCAC7B,yBAAKxK,UAAU,iCACb,yBAAKA,UAAU,wCAAwCyG,KAAKT,MAAMwE,gBAAgBrI,QAClF,yBAAKnC,UAAU,sCAAsCiK,IAEvD,yBAAKjK,UAAU,gCAA+B,4BAAKyG,KAAKT,MAAMwE,gBAAgBjJ,QAC9E,yBAAKvB,UAAU,+BAA+ByG,KAAKT,MAAMwE,gBAAgBjM,e,GA3HjEyI,IAAMC,WC4Cf0E,E,kDApDd,WAAY5M,GAAQ,IAAD,8BAClB,cAAMA,IAIPiH,MAAO,CACNuD,UAAU,EACVpH,OAAQ,MAPU,EAUnBsF,YAAc,WACb,EAAKrB,SAAS,CACbmD,UAAU,KAZO,EAgBnBE,cAAgB,WACf,EAAKrD,SAAS,CACbmD,UAAU,KAhBX,EAAKvD,MAAM7D,OAASpD,EAAMoD,OAFR,E,yDAuBlB,OAAOsE,KAAKT,MAAMwD,U,+BAGT,IAAD,OAGJE,GAFiBjD,KAAKT,MAAlBuD,SAEY,+BACO,GAAvB9C,KAAKT,MAAMuD,WACdG,GAAgC,wBAEjC1K,QAAQC,IAAI,qCAAsCwH,KAAK1H,OACvD,IAAI6M,EAAgBnF,KAAK1H,MAAMoD,OAC5BsE,KAAK1H,MAAMoD,OAAO0H,WAAcpD,KAAK1H,MAAMoD,OAAO2H,SAEpDrD,KAAK1H,MAAMoD,OAAO0H,UAAY,IAAMpD,KAAK1H,MAAMoD,OAAO2H,SAAW,KAAOrD,KAAK1H,MAAMoD,OAAO1B,GAAK,IAD/F,4GAAyBgG,KAAK1H,MAAMoD,OAAO1B,GAFJ,+DAIxC,OACC,yBAAKT,UAAW0J,EAAejB,QAAS,WACvCzJ,QAAQC,IAAI,uBAAwB,EAAK+G,MAAM7D,QAC3C,EAAKpD,MAAM0I,aACd,EAAK1I,MAAM0I,YAAY,EAAKzB,MAAM7D,QAEnC,EAAKsF,gBAEC,2BAAImE,Q,GAhDgB5E,IAAMC,WC+GrB4E,GAvGF,IAAIzC,E,4MAcfpD,MAAQ,CACN8F,QAAQ,EACRtB,gBAAiB,KACjBzF,SAAU,KACV2F,UAAW,I,EAGbjD,YAAc,SAACtF,GACbnD,QAAQC,IAAI,qBAAsBkD,GAClC,EAAKiE,SAAS,CAEZ2F,cAAe5J,K,EAInB6J,YAAc,SAACC,GACb,EAAK7F,SAAS,CACZ8F,gBAAiBD,EAAIE,OAAOvE,S,EAIhCwE,WAAa,SAACH,GACZ,EAAK7F,SAAS,CACZiG,eAAgBJ,EAAIE,OAAOvE,S,mEAjCT,IAAD,OACnBnD,ERwFG,SAAmB/B,GACxB,IAAIqC,EAAW,IAAInC,IAAI,IACvB,OAAOC,IAAMC,IAAIT,IAAY,uBAAwB,CAACU,iBAAiB,IACpEC,MAAK,SAAAC,GACJA,EAASC,KAAKiC,SAAQ,SAAArE,GACpBiE,EAAS1B,IAAIvC,EAAKL,GAAIK,MAExB4B,EAAaqC,MQ9FbuH,EAAU,SAACvH,GACT,EAAKqB,SAAS,CACZrB,SAAUA,U,+BAiCR,IAAD,OACP/F,QAAQC,IAAI,gCAAiCwH,KAAK1H,OAD3C,MAE8B0H,KAAKT,MAAlCjB,EAFD,EAECA,SAAU+G,EAFX,EAEWA,OAFX,EAEmB3J,OAE1B,IAAK4C,EACH,OAAO,8BAET,GAAI+G,EACF,OAAO,kBAAC,IAAD,CAAU9K,GAAG,WAEtB,IAAIwF,EAAQzC,MAAMC,KAAKe,EAASd,UAAUd,KAAI,SAACC,GAC7C,IAAIoI,EAAMxE,IAAMyE,YAGhB,OAFA,EAAKzF,MAAM0E,UAAUvJ,KAAKqK,GAC1BxM,QAAQC,IAAI,yBAA0BmE,GAC/B,kBAAC,EAAD,CAAiBjB,OAAQiB,EAAIoI,IAAKA,EAAK/D,YAAa,EAAKA,iBASlE,OANAhB,KAAKT,MAAM0E,UAAUvF,SAAQ,SAAA/B,GACvBA,EAAGsI,SAAW,EAAK1F,MAAM+F,gBAAkB3I,EAAGsI,QAAQ1F,MAAM7D,QAC9DiB,EAAGsI,QAAQjC,mBAKb,6BAASzJ,UAAU,WAEjB,wBAAIA,UAAU,cAAd,0DACA,yBAAKA,UAAU,WACb,yBAAKA,UAAU,QACb,yBAAKA,UAAU,wBACb,yBAAKA,UAAU,+BAA8B,kDAC7C,yBAAKA,UAAU,qBACZwG,IAGL,yBAAKxG,UAAU,cACb,yBAAKyI,QAAS,WACZ,GAAK,EAAKzC,MAAM+F,cAAhB,CAGA,IRuBYvC,EAAS9G,EQvBjB6J,EAAY,CACdxB,YAAa,EAAKhM,MAAMgB,KAAKe,KAAKL,GAClCuK,YAAa,EAAKhF,MAAM+F,cAActL,GACtCc,MAAO,EAAKyE,MAAMkG,gBAClB3N,KAAM,EAAKyH,MAAMqG,gBRmBP7C,EQjBA+C,ERiBS7J,EQjBE,SAACO,GACtB,EAAKmD,SAAS,CACZ0F,QAAQ,KRgBnBjJ,IAAM2J,KAAKnK,IAAY,wBAAyB,CAACoK,MAAOjD,GAAU,CAACzG,iBAAiB,IACxFC,MAAK,SAAAC,GACJP,EAAaO,SQfF,uBAAG/C,KAAK,IAAIF,UAAU,cAAtB,2DACH,2BAAOA,UAAU,yBAAyBG,KAAK,OAAOyI,SAAUnC,KAAKuF,YAAa5L,YAAY,kEAC9F,8BAAUJ,UAAU,wBAAwBG,KAAK,OAAOyI,SAAUnC,KAAK2F,WAAYhM,YAAY,6I,GA5FjF4G,IAAMC,Y,iCCV5BkB,EAAU,CACd,CAAEP,MAAO,aAAcU,MAAO,8BAC9B,CAAEV,MAAO,aAAcU,MAAO,8BAC9B,CAAEV,MAAO,eAAgBU,MAAO,8BAChC,CAAEV,MAAO,cAAeU,MAAO,8BAC/B,CAAEV,MAAO,cAAeU,MAAO,+BAG3BoE,EAAa,CAClBC,QAAS,2PACT9C,UAAW,yDACXC,SAAU,mDACV8C,QAAS,+DACTC,gBAAiB,sHACjBnJ,OAAQ,GAGHoJ,EAAc,CACnBC,YAAa,GACbC,QAAS,IACTC,WAAY,SACZC,SAAU,MAGLC,EAAmB,IAAIvK,IAAI,CAChC,CAAC,aAAc,CAAC,iBAAkB,iBAAkB,mBAAoB,oBACxE,CAAC,aAAc,CAAC,iBAAkB,iBAAkB,mBAAoB,oBACxE,CAAC,eAAgB,CAAC,mBAAoB,mBAAoB,qBAAsB,sBAChF,CAAC,cAAe,CAAC,kBAAmB,kBAAmB,oBAAqB,qBAC5E,CAAC,cAAe,CAAC,kBAAmB,kBAAmB,oBAAqB,uBAGvEwK,EAAuB,IAAIxK,IAAI,CACpC,CAAC,kBAAmB,CAAC,kBAAmB,iBAAkB,uBAAwB,wBAClF,CAAC,kBAAmB,CAAC,kBAAmB,iBAAkB,uBAAwB,wBAClF,CAAC,oBAAqB,CAAC,oBAAqB,mBAAoB,yBAA0B,0BAC1F,CAAC,mBAAoB,CAAC,mBAAoB,kBAAmB,wBAAyB,2BAGjFyK,GAAiB,IAAIzK,IAAI,CAC9B,CAAC,iBAAkB,0CACnB,CAAC,iBAAkB,0CACnB,CAAC,mBAAoB,0CACrB,CAAC,kBAAmB,0CACpB,CAAC,iBAAkB,0CACnB,CAAC,iBAAkB,0CACnB,CAAC,mBAAoB,0CACrB,CAAC,kBAAmB,0CACpB,CAAC,mBAAoB,0CACrB,CAAC,mBAAoB,0CACrB,CAAC,qBAAsB,0CACvB,CAAC,oBAAqB,0CACtB,CAAC,kBAAmB,0CACpB,CAAC,kBAAmB,0CACpB,CAAC,oBAAqB,0CACtB,CAAC,mBAAoB,0CACrB,CAAC,kBAAmB,0CACpB,CAAC,kBAAmB,0CACpB,CAAC,oBAAqB,0CACtB,CAAC,mBAAoB,4CAGhB0K,GAAoB,IAAI1K,IAAI,CACjC,CAAC,kBAAmB,CAACY,KAAM,sEAAgB+J,eAAgB,GAAIC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,0EAC/H,CAAC,iBAAkB,CAACnK,KAAM,0DAAc+J,eAAgB,EAAGC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,gFAC3H,CAAC,uBAAwB,CAACnK,KAAM,8FAAoB+J,eAAgB,EAAGC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,0EACvI,CAAC,sBAAuB,CAACnK,KAAM,kFAAkB+J,eAAgB,EAAGC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,sFACpI,CAAC,kBAAmB,CAACnK,KAAM,sEAAgB+J,eAAgB,GAAIC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,0EAC/H,CAAC,iBAAkB,CAACnK,KAAM,0DAAc+J,eAAgB,EAAGC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,gFAC3H,CAAC,uBAAwB,CAACnK,KAAM,8FAAoB+J,eAAgB,EAAGC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,0EACvI,CAAC,sBAAuB,CAACnK,KAAM,kFAAkB+J,eAAgB,EAAGC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,sFACpI,CAAC,oBAAqB,CAACnK,KAAM,sEAAgB+J,eAAgB,GAAIC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,0EACjI,CAAC,mBAAoB,CAACnK,KAAM,0DAAc+J,eAAgB,EAAGC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,gFAC7H,CAAC,yBAA0B,CAACnK,KAAM,8FAAoB+J,eAAgB,EAAGC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,0EACzI,CAAC,wBAAyB,CAACnK,KAAM,kFAAkB+J,eAAgB,EAAGC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,sFACtI,CAAC,mBAAoB,CAACnK,KAAM,sEAAgB+J,eAAgB,GAAIC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,0EAChI,CAAC,kBAAmB,CAACnK,KAAM,0DAAc+J,eAAgB,EAAGC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,gFAC5H,CAAC,wBAAyB,CAACnK,KAAM,8FAAoB+J,eAAgB,EAAGC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,0EACxI,CAAC,uBAAwB,CAACnK,KAAM,kFAAkB+J,eAAgB,EAAGC,gBAAiB,EAAGC,QAAS,EAAGC,QAAS,aAAcC,QAAS,wFCnEhItD,GAAO,I,wGDyEX,OAAOqC,I,uCAIP,OAAOI,I,gCAIP,OAAO3E,I,2CAGa7E,GACpB,OAAO6J,EAAiBrK,IAAIQ,K,+CAGJsK,GACxB,OAAOR,EAAqBtK,IAAI8K,K,sDAGDtJ,GAC/B,OAAOgJ,GAAkBxK,IAAIwB,K,8CAGNsJ,GACvB,OAAOP,GAAevK,IAAI8K,O,MC2FbC,O,4MAxLb7H,MAAQ,CACNrD,WAAY,KACZ2E,eAAgB,KAChBa,QAAS,M,EA4DXX,aAAe,SAAAF,GACb,EAAKlB,SACH,CACEkB,oB,mEA5DgB,IAAD,OACnB7C,EACEhC,GAAmB,SAACE,GAClB,EAAKyD,SAAS,CACZzD,WAAYA,OAEbK,MAAK,SAAAC,GAAQ,OAAIJ,IAAMC,IAAIT,IAAY,uBAAwB,CAACU,iBAAiB,OACjFC,MAAK,SAAAC,GACJ,IAAIa,EAAIb,EAASC,KACjBlE,QAAQC,IAAI,WAAY6E,GACxB,IAAIU,EAAQ,IAAI2G,IAChBpH,MAAMC,KAAK,EAAKgC,MAAMrD,WAAWsB,UAAUd,KAAI,SAAAO,GAU7C,OATAK,MAAMC,KAAKN,EAAOD,QAAQQ,UAAUd,KAAI,SAAA2K,GACtChK,EAAEX,KAAI,SAAA4K,GACJ,IAAI3G,EAAa0G,EAAQjK,eAAef,IAAIiL,EAAK7F,eAC7Cd,IAAeA,EAAW5C,MAAMwJ,SAASD,KAC3CvJ,EAAM6G,IAAI0C,GACV3G,EAAW5C,MAAMrD,KAAK4M,UAIrBrK,KAET,IAhBgB,EAgBZuK,EAAK,GAhBO,cAkBFzJ,GAlBE,IAkBhB,2BAAqB,CAAC,IAAb0J,EAAY,QACdA,EAAEC,YACPF,EAAG9M,KAAK+M,EAAEC,aApBI,8BAsBhB,OAAOtJ,EAAcoJ,GAAI,SAAClJ,GACxBmC,EAAoB,EAAKlB,MAAMrD,YAAY,SAACe,EAAQU,EAAKgD,GAAgB,IAAD,gBACrDA,EAAW5C,OAD0C,IACtE,2BAAmC,CAAC,IAA3BuJ,EAA0B,QACjC,GAAIA,EAAKI,WAAY,CACnB,IAAIrN,EAAOiE,EAASjC,IAAIiL,EAAKI,YACzBrN,IACFiN,EAAKK,YAActN,EAAK+I,UAAY,IAAM/I,EAAKgJ,YALiB,kCAWxE,IAAI3B,EAAUpE,MAAMC,KAAK,EAAKgC,MAAMrD,WAAWyF,WAAWjF,KAAI,SAAAkF,GAC5D,MAAO,CACLT,MAAOS,EAAK,GAAG/E,SACfgF,MAAOD,EAAK,GAAG9E,eAGnBvE,QAAQC,IAAI,aAAckJ,GAC1B,EAAK/B,SAAS,CACZkB,eAAgBa,EAAQ,GACxBA,QAASA,a,mCAgBnBnJ,QAAQC,IAAI,eACZ,IAAMoP,EAAQhQ,SAASiQ,eAAe,WACtCC,IAAYF,GAAOrL,MAAK,SAACwL,GACvB,IAAMC,EAAUD,EAAOE,UAAU,aAC3BC,EAAM,IAAIC,IAChBD,EAAIE,SAASJ,EAAS,MAAO,EAAG,GAChCE,EAAIG,KAAK,qB,6BAIN/P,GAAQ,IAAD,EAC2B0H,KAAKT,MAApCsB,EADI,EACJA,eAAgB3E,EADZ,EACYA,WACxB,IAAK2E,EACH,OAAO,8BAGT,IAAI5D,EAASf,EAAWG,IAAIwE,EAAeM,OACvCmH,EAAO,GAUX,OATIrL,GACFK,MAAMC,KAAKN,EAAOD,QAAQQ,UAAUd,KAAI,SAAAiB,GAwD9C,IAAuB7C,EAvDfwN,EAAK5N,MAuDUI,EAvDS6C,EAAIR,QAwDlC5E,QAAQC,IAAI,WAAYsC,GACjB,4BAAI,wBAAIvB,UAAU,YAAYW,MAAO,CAACC,MAAO,WAAYoO,QAAQ,KAAKzN,MAxDvEwC,MAAMC,KAAKI,EAAIP,eAAeI,UAAUd,KAAI,SAAAiE,GAAU,OACpD2H,EAAK5N,KA0Df,SAAsB8N,GACpB,IAAIzK,EAAQyK,EAAazK,MACrB0K,EAAc1K,EAAM2K,OACpBC,EAAoBF,EAAc,EAClCG,EAAsB,EAC1B7K,EAAMrB,KAAI,SAAA+K,GAAC,OAAImB,GAAuBnB,EAAEtG,SACxCyH,EAAsBD,EAAoBC,EAAsBH,EAAc,EAE9E,IARkC,EAQ9BI,EAAuBF,EAAoBC,EAAsB,EAAI,EARvC,cASpB7K,GAToB,IASlC,2BAAqB,CAAC,IAAb0J,EAAY,QACfA,EAAEE,aACJpP,QAAQC,IAAI,kBAAmBiP,EAAEE,cAXH,8BAclC,IAAIhH,EAAa,CACf5D,KAAMyL,EAAa1K,eACnBkJ,QAASyB,EAAc,EAAIA,EAAc,EAAI,EAC7C3B,eAAgB8B,EAChB7B,gBAAiB8B,EAAqBC,UACtC7B,QAAS0B,EAAoB,IAAI5J,KAAKhB,EAAM0K,EAAc,GAAGlF,YAAYwF,mBAAmB,SAAW,qBACvG7B,QAASyB,EAAoB5K,EAAM0K,EAAc,GAAGd,YAAc,MAEpE,OAAO,4BACH,wBAAIpO,UAAU,aAAaoH,EAAW5D,MACtC,wBAAIxD,UAAU,eAAeoH,EAAWmG,gBACxC,wBAAIvN,UAAU,eAAeoH,EAAWoG,iBACxC,wBAAIxN,UAAU,eAAeoH,EAAWqG,SACxC,wBAAIzN,UAAU,eAAeoH,EAAWsG,SACxC,wBAAI1N,UAAU,eAAeoH,EAAWuG,UAtF1B8B,CAAarI,UAM7B,6BAASpH,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,2BAA0B,2EACzC,yBAAKA,UAAU,oCACb,kBAAC,IAAD,CACE0I,OAAQ,CAACC,aAAc,QACvBf,MAAON,EACPsB,SAAUnC,KAAKe,aACfW,QAAS1B,KAAKT,MAAMmC,QACpBU,gBAAgB,6BAItB,yBAAK7I,UAAU,sCACb,yBAAKA,UAAU,iCACb,yRACA,qMACA,iLAEF,yBAAKA,UAAU,kCACb,6BAAK,yBAAKA,UAAU,sCAAf,+CAAL,IAAyEqK,GAAKqF,iBAAiB3C,YAA/F,iBAAgH1C,GAAKqF,iBAAiB1C,SACtI,6BAAK,yBAAKhN,UAAU,sCAAf,qIAAL,IAAyFqK,GAAKqF,iBAAiBzC,YAC/G,6BAAK,yBAAKjN,UAAU,sCAAf,wEAAL,IAA8EqK,GAAKqF,iBAAiBxC,YAGxG,yBAAKlN,UAAU,WACb,2BAAOS,GAAG,UAAUT,UAAU,cAC5B,+BACE,4BACA,wBAAIA,UAAU,YAAYW,MAAO,CAACgP,MAAO,QAAzC,gEACA,wBAAI3P,UAAU,eAAd,8DACA,wBAAIA,UAAU,eAAd,6DACA,wBAAIA,UAAU,eAAd,0DACA,wBAAIA,UAAU,eAAd,yFACA,wBAAIA,UAAU,eAAd,oFAGF,2BAAOA,UAAU,eACd+O,U,GA5IiB/H,IAAMC,W,QCkCrB2I,OA7Cf,WAA4B,IAAD,EACzB,OACE,6BAAS5P,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,2BAA0B,2GAE3C,yBAAKA,UAAU,WACb,yBAAKW,MAAO,CAACkP,gBAAiB,UAAWlH,aAAc,QACrD,uBAAGhI,MAAO,CACRC,MAAO,UACPkP,SAAU,OACVC,WAAY,OACZC,cAAe,cACfC,UAAW,OACXC,WAAY,SANd,6SASF,yBAAKvP,MAAO,CAACkP,gBAAiB,UAAWlH,aAAc,MAAOwH,UAAW,OAAQzJ,QAAS,OAAQ0J,aAAc,SAC9G,yBAAKzP,MAAO,CACVgP,MAAO,OACP7G,OAAQ,OACRuH,cAAe,SACf3J,QAAS,eACT4J,YAAa,OACbH,UAAW,OACXI,aAAc,QACb1P,IAAI,iBACP,uBAAGF,OAAK,GACNsP,UAAW,OACXvJ,QAAS,eACT9F,MAAO,UACP4P,KAAM,OACNV,SAAU,OACVC,WAAY,OACZC,cAAe,eAPT,2BAQK,QARL,4BASM,QATN,+BAUS,UAVT,IAAR,iaCeKS,OA1Cf,WACE,OACE,6BAASzQ,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,0BAA0BW,MAAO,CAC9CgP,MAAO,OACPjJ,QAAS,OACTgK,WAAY,SACZH,aAAc,SAEd,wBAAI5P,MAAO,CACTgQ,SAAU,WACVhB,MAAO,MACPY,aAAc,QAHhB,oFAKA,uBAAGrQ,KAAK,IAAIF,UAAU,aAAaW,MAAO,CACxCiQ,UAAW,OACXjB,MAAO,QAFT,yEAMJ,yBAAK3P,UAAU,WACb,yBAAKW,MAAO,CACVC,MAAO,qBAAsB+O,MAAO,OACpCM,UAAW,OAAQK,YAAa,OAAQO,cAAe,SAFzD,oFAIkB,yBAAKlQ,MAAO,CAAC+F,QAAS,eAAgB9F,MAAO,SAA7C,OAElB,yBAAKD,MAAO,CACVC,MAAO,qBAAsB+O,MAAO,OACpCM,UAAW,OAAQK,YAAa,OAAQO,cAAe,SAFzD,gGAIoB,yBAAKlQ,MAAO,CAAC+F,QAAS,eAAgB9F,MAAO,SAA7C,MAEpB,yBAAKD,MAAO,CAACC,MAAO,qBAAsB+O,MAAO,OAAQM,UAAW,OAAQK,YAAa,SAAzF,kHACuB,yBAAK3P,MAAO,CAAC+F,QAAS,eAAgB9F,MAAO,SAA7C,UCkBhBkQ,OArDf,WACE,OACE,6BAAS9Q,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,2BAA0B,wHAE3C,yBAAKA,UAAU,WACb,uBAAGW,MAAO,CAACsP,UAAW,OAAQrP,MAAO,4BAArC,qGACoB,6BADpB,miIAcA,2BAAOH,GAAG,UAAUT,UAAU,cAC5B,+BACE,4BACA,wBAAIA,UAAU,aAAd,wCACA,wBAAIA,UAAU,aAAd,iEACA,wBAAIA,UAAU,aAAd,mFACA,wBAAIA,UAAU,aAAd,0CAGF,2BAAOA,UAAU,gBAcL+Q,EAbI,CACZC,UAAW,6HACXC,UAAW,sJACXC,QAAS,sJACT9O,OAAQ,oKAUb,4BACH,wBAAIpC,UAAU,aAAa+Q,EAAWC,WACtC,wBAAIhR,UAAU,YAAYW,MAAO,CAACC,MAAO,YAAamQ,EAAWE,WACjE,wBAAIjR,UAAU,YAAYW,MAAO,CAACC,MAAO,YAAamQ,EAAWG,SACjE,wBAAIlR,UAAU,aAAa+Q,EAAW3O,cAL5C,IAAsB2O,GCIPI,OAhDf,WACE,OACE,6BAASnR,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,2BAA0B,yIAE3C,yBAAKA,UAAU,WACb,uBAAGW,MAAO,CAACsP,UAAW,OAAQrP,MAAO,4BAArC,qGACoB,6BADpB,2rEASA,2BAAOH,GAAG,UAAUT,UAAU,cAC5B,+BACE,4BACA,wBAAIA,UAAU,aAAd,wCACA,wBAAIA,UAAU,aAAd,iEACA,wBAAIA,UAAU,aAAd,mFACA,wBAAIA,UAAU,aAAd,0CAGF,2BAAOA,UAAU,gBAcLoR,EAbI,CACZJ,UAAW,6HACXC,UAAW,sJACXC,QAAS,sJACT9O,OAAQ,oKAUb,4BACH,wBAAIpC,UAAU,aAAaoR,EAAoBJ,WAC/C,wBAAIhR,UAAU,YAAYW,MAAO,CAACC,MAAO,YAAawQ,EAAoBH,WAC1E,wBAAIjR,UAAU,YAAYW,MAAO,CAACC,MAAO,YAAawQ,EAAoBF,SAC1E,wBAAIlR,UAAU,aAAaoR,EAAoBhP,cALrD,IAAsBgP,GCnBPC,OApBf,WACE,OACE,6BAASrR,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,2BAA0B,wBAAIW,MAAO,CAAC2P,YAAa,QAAzB,oHAE3C,yBAAKtQ,UAAU,WACb,uBAAGW,MAAO,CAACsP,UAAW,OAAQrP,MAAO,4BAArC,qGACkB,6BADlB,m2BAKA,yBAAKD,MAAO,CAACkP,gBAAiB,OAAQlH,aAAc,MAAO/H,MAAO,UAAWqP,UAAW,OAAQK,YAAa,SAC3G,4ICIKgB,OAjBf,WACE,OACE,6BAAStR,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,2BAA0B,wBAAIW,MAAO,CAAC2P,YAAa,QAAzB,0EAE3C,yBAAKtQ,UAAU,WACb,uBAAGW,MAAO,CAACsP,UAAW,OAAQrP,MAAO,4BAArC,qGACkB,6BADlB,+2BCkDO2Q,OAzDf,WACE,OACE,6BAASvR,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,2BAA0B,gKAE3C,yBAAKA,UAAU,WACb,2BAAOS,GAAG,UAAUT,UAAU,cAC5B,+BACE,4BACA,wBAAIA,UAAU,aAAd,2GACA,wBAAIA,UAAU,aAAd,2DACA,wBAAIA,UAAU,aAAd,4BACA,wBAAIA,UAAU,aAAd,sGACA,wBAAIA,UAAU,aAAd,0DACA,wBAAIA,UAAU,aAAd,6HACA,wBAAIA,UAAU,aAAd,yFACA,wBAAIA,UAAU,aAAd,wCACA,wBAAIA,UAAU,aAAd,kCACA,wBAAIA,UAAU,aAAd,sDAGF,2BAAOA,UAAU,gBAoBLwR,EAnBI,CACZR,UAAW,0EACXS,QAAS,uCACTC,MAAO,6BACPC,SAAU,GACVC,WAAY,qBACZC,cAAe,GACfC,YAAa,GACbC,MAAO,IACPC,OAAQ,GACRC,SAAU,IAUf,4BACH,wBAAIjS,UAAU,aAAawR,EAAUR,WACrC,wBAAIhR,UAAU,aAAawR,EAAUC,SACrC,wBAAIzR,UAAU,aAAawR,EAAUE,OACrC,wBAAI1R,UAAU,aAAawR,EAAUG,UACrC,wBAAI3R,UAAU,aAAawR,EAAUI,YACrC,wBAAI5R,UAAU,aAAawR,EAAUK,eACrC,wBAAI7R,UAAU,aAAawR,EAAUM,aACrC,wBAAI9R,UAAU,aAAawR,EAAUO,OACrC,wBAAI/R,UAAU,aAAawR,EAAUQ,QACrC,wBAAIhS,UAAU,aAAawR,EAAUS,gBAX3C,IAAsBT,GCtBPU,OApBf,WACE,OACE,6BAASlS,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,2BAA0B,wBAAIW,MAAO,CAAC2P,YAAa,QAAzB,iGAE3C,yBAAKtQ,UAAU,WACb,uBAAGW,MAAO,CAACsP,UAAW,OAAQrP,MAAM,UAAWuR,WAAY,SAA3D,yIACA,uBAAGxR,MAAO,CAACsP,UAAW,OAAQrP,MAAM,UAAWwR,eAAgB,cAAc,uBAAGlS,KAAK,KAAR,uLAC7E,uBAAGS,MAAO,CAACsP,UAAW,OAAQrP,MAAM,UAAWwR,eAAgB,cAAc,uBAAGlS,KAAK,KAAR,2DAC7E,uBAAGS,MAAO,CAACsP,UAAW,OAAQrP,MAAM,UAAWwR,eAAgB,cAAc,uBAAGlS,KAAK,KAAR,yFAE7E,uBAAGS,MAAO,CAACsP,UAAW,OAAQrP,MAAM,UAAWuR,WAAY,SAA3D,+FACA,uBAAGxR,MAAO,CAACsP,UAAW,OAAQrP,MAAM,UAAWwR,eAAgB,cAAc,uBAAGlS,KAAK,KAAR,qDAC7E,uBAAGS,MAAO,CAACsP,UAAW,OAAQrP,MAAM,UAAWwR,eAAgB,cAAc,uBAAGlS,KAAK,KAAR,gBCWtEmS,OAzBf,WACE,OACE,6BAASrS,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,2BAA0B,wBAAIW,MAAO,CAAC2P,YAAa,QAAzB,gDAE3C,yBAAKtQ,UAAU,WACb,yBAAKW,MAAO,CAAC+F,QAAS,OAAQ4L,cAAe,QAC3C,yBAAK3R,MAAO,CAACgP,MAAO,QAAS7G,OAAQ,QAASyJ,SAAU,WACtD,yBAAK5R,MAAO,CAACgP,MAAO,QAAS9O,IAAI,2IAEnC,6BACE,uBAAGF,MAAO,CAACsP,UAAU,OAAQH,SAAU,OAAQqC,WAAY,OAAQjC,WAAY,OAAQK,aAAc,OAAQJ,UAAW,QAAxH,4PACA,uBAAGxP,MAAO,CAACsP,UAAU,OAAQH,SAAU,OAAQqC,WAAY,OAAQjC,WAAY,OAAQK,aAAc,OAAQJ,UAAW,QAAxH,wKACA,uBAAGxP,MAAO,CAACsP,UAAU,OAAQH,SAAU,OAAQqC,WAAY,OAAQjC,WAAY,OAAQK,aAAc,OAAQJ,UAAW,QAAxH,mJACA,uBAAGxP,MAAO,CAACsP,UAAU,OAAQH,SAAU,OAAQqC,WAAY,OAAQjC,WAAY,OAAQK,aAAc,OAAQJ,UAAW,MAAOvP,MAAO,uBAAtI,+CAAuK,yBAAKD,MAAO,CAACC,MAAO,OAAQ8F,QAAQ,iBAApC,wBACvK,uBAAG/F,MAAO,CAACsP,UAAU,OAAQH,SAAU,OAAQqC,WAAY,OAAQjC,WAAY,OAAQK,aAAc,OAAQJ,UAAW,MAAOvP,MAAO,uBAAtI,sIAAwL,yBAAKD,MAAO,CAACC,MAAO,OAAQ8F,QAAQ,iBAApC,WACxL,uBAAG/F,MAAO,CAACsP,UAAU,OAAQH,SAAU,OAAQqC,WAAY,OAAQjC,WAAY,OAAQK,aAAc,OAAQJ,UAAW,MAAOvP,MAAO,uBAAtI,yEAA6K,yBAAKD,MAAO,CAACC,MAAO,OAAQ8F,QAAQ,iBAApC,cCS1K8L,OA1Bf,WACE,OACE,6BAASxS,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,2BAA0B,wBAAIW,MAAO,CAAC2P,YAAa,QAAzB,wGAE3C,yBAAKtQ,UAAU,WACb,yBAAKW,MAAO,CAAC+F,QAAS,OAAQ4L,cAAe,MAAOzC,gBAAiB,OAAQlH,aAAc,QACzF,yBAAKhI,MAAO,CACVgP,MAAO,QAEP,uBAAGhP,MAAO,CAACsP,UAAU,OAAQrP,MAAO,qBAAsBsP,WAAY,SAAtE,wEAA6F,yBAAKvP,MAAO,CAACC,MAAO,OAAQ8F,QAAQ,iBAApC,6MAC7F,uBAAG/F,MAAO,CAACsP,UAAU,OAAQrP,MAAO,qBAAsBsP,WAAY,SAAtE,yCAAuF,yBAAKvP,MAAO,CAACC,MAAO,OAAQ8F,QAAQ,iBAApC,6EAEzF,uBAAGxG,KAAK,IAAIF,UAAU,aAAaW,MAAO,CACxCgP,MAAO,MACPQ,UAAW,OACXI,aAAc,OACdkC,YAAa,SAJf,kDCmCKC,OAjDf,WAAwB,IAAD,EACrB,OACE,6BAAS1S,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,2BAA0B,wBAAIW,MAAO,CAAC2P,YAAa,QAAzB,gFAE3C,yBAAKtQ,UAAU,WACb,yBAAKW,MAAO,CAACkP,gBAAiB,OAAQlH,aAAc,QAClD,yBAAKhI,MAAO,CACVgP,MAAO,SAEP,uBAAGhP,MAAO,CAACsP,UAAU,OAAQrP,MAAO,UAAWsP,WAAY,SAA3D,mSAGJ,yBAAKvP,OAAK,GAAG+F,QAAS,OAAQ4L,cAAe,SAAUzC,gBAAiB,OAAQS,YAAa,QAAnF,6BAAwG,QAAxG,8BAA8H,OAA9H,2BAAgJ,QAAhJ,IACR,yBAAK3P,MAAO,CAACgS,aAAc,sBACzB,uBAAGhS,MAAO,CAACsP,UAAW,OAAQM,aAAc,MAAOT,SAAU,SAA7D,+HACA,uBAAGnP,MAAO,CAACsP,UAAW,OAAQE,UAAW,MAAOL,SAAU,OAAQlP,MAAO,0BAAzE,yvBACiJ,uBAAGV,KAAK,IAAIS,MAAO,CAACC,MAAM,UAAWwR,eAAgB,cAArD,cAEjJ,uBAAGzR,MAAO,CAACsP,UAAW,OAAQM,aAAc,MAAOT,SAAU,SAA7D,kGACA,uBAAGnP,MAAO,CAACsP,UAAW,OAAQE,UAAW,MAAOL,SAAU,OAAQlP,MAAO,0BAAzE,22BACoK,uBAAGV,KAAK,IAAIS,MAAO,CAACC,MAAM,UAAWwR,eAAgB,cAArD,cAGtK,6BACE,uBAAGzR,MAAO,CAACsP,UAAW,OAAQM,aAAc,MAAOT,SAAU,OAAQlP,MAAO,0BAA5E,kZAC+E,uBAAGV,KAAK,IAAIS,MAAO,CAACC,MAAM,UAAWwR,eAAgB,cAArD,6BAE/E,uBAAGzR,MAAO,CAACsP,UAAW,OAAQE,UAAW,MAAOL,SAAU,OAAQlP,MAAO,0BAAzE,wPAC+C,uBAAGV,KAAK,IAAIS,MAAO,CAACC,MAAM,UAAWwR,eAAgB,cAArD,yCAE/C,uBAAGzR,MAAO,CAACsP,UAAW,OAAQM,aAAc,MAAOT,SAAU,OAAQlP,MAAO,0BAA5E,8oBAGA,uBAAGD,MAAO,CAACsP,UAAW,OAAQE,UAAW,MAAOI,aAAc,MAAOT,SAAU,OAAQlP,MAAO,0BAA9F,MACG,uBAAGV,KAAK,IAAIS,MAAO,CAACC,MAAM,UAAWwR,eAAgB,cAArD,wGAEH,uBAAGzR,MAAO,CAACsP,UAAW,OAAQE,UAAW,MAAOL,SAAU,OAAQlP,MAAO,0BAAzE,MACG,uBAAGV,KAAK,IAAIS,MAAO,CAACC,MAAM,UAAWwR,eAAgB,cAArD,kECuDAQ,G,4MA7Fb5M,MAAQ,CACN2K,SAAU,G,EAQZnJ,aAAe,SAACZ,GAAW,IAAD,EACFA,EAAMuF,OAArB3I,EADiB,EACjBA,KAAMoE,EADW,EACXA,MACb,EAAKxB,SAAL,gBACG5C,EAAOoE,K,0DATA5B,GACVS,KAAKL,SAAS,CACZuK,SAAU3K,M,+BAWJ,IAAD,OAEP,OADAhH,QAAQC,IAAI,gBAAiBwH,KAAKT,OACP,GAAvBS,KAAKT,MAAM2K,SAEX,6BAAS3Q,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,2BAA0B,wBAAIW,MAAO,CAAC2P,YAAa,QAAzB,8DAE3C,yBAAKtQ,UAAU,WACb,yBAAKW,MAAO,CAAC+F,QAAS,OAAQ4L,cAAe,MAAOzC,gBAAiB,OAAQlH,aAAc,QACzF,yBAAKhI,MAAO,CACVgP,MAAO,QAEP,uBAAGhP,MAAO,CAACsP,UAAU,OAAQrP,MAAO,qBAAsBsP,WAAY,SAAtE,4GAAmG,yBAAKvP,MAAO,CAACC,MAAO,OAAQ8F,QAAQ,iBAApC,mHACnG,uBAAG/F,MAAO,CAACsP,UAAU,OAAQrP,MAAO,qBAAsBsP,WAAY,SAAtE,4DAA2F,yBAAKvP,MAAO,CAACC,MAAO,OAAQ8F,QAAQ,iBAApC,wBAE7F,yBAAK+B,QAAS,kBAAM,EAAKhB,YAAY,IAAIzH,UAAU,aAAaW,MAAO,CACrEgP,MAAO,MACPQ,UAAW,OACXI,aAAc,OACdkC,YAAa,SAJf,iDAUwB,GAAvBhM,KAAKT,MAAM2K,SAElB,6BAAS3Q,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,0BAA0BW,MAAO,CAAC+F,QAAS,OAAQ4L,cAAe,MAAO3C,MAAO,SAC7F,wBAAIhP,MAAO,CAAC2P,YAAa,MAAOX,MAAO,QAAvC,4DACA,yBAAKlH,QAAS,kBAAM,EAAKhB,YAAY,IAAIzH,UAAU,aAAaW,MAAO,CACrEgP,MAAO,MACPkD,OAAQ,SAFV,0CAMJ,yBAAK7S,UAAU,WACb,uBAAGW,MAAO,CAACsP,UAAW,OAAQrP,MAAO,UAAWkP,SAAU,SAA1D,4BACA,2BACE3P,KAAK,OACLqD,KAAK,QACLoF,SAAUnC,KAAKe,aACf7G,MAAO,CACLkP,gBAAiB,cACjBiD,OAAQ,oBACRhK,OAAQ,OACR6G,MAAO,OACPhH,aAAc,MACdmH,SAAU,OACViD,WAAY,YAMU,GAAvBtM,KAAKT,MAAM2K,SAElB,6BAAS3Q,UAAU,WACjB,yBAAKA,UAAU,iCACb,yBAAKA,UAAU,0BAA0BW,MAAO,CAAC+F,QAAS,OAAQ4L,cAAe,MAAO3C,MAAO,SAC7F,wBAAIhP,MAAO,CAAC2P,YAAa,QAAzB,8DAGJ,yBAAKtQ,UAAU,WACb,yBAAKW,MAAO,CAACkP,gBAAiB,OAAQlH,aAAc,MAAO/H,MAAO,UAAWqP,UAAW,OAAQK,YAAa,SAC3G,gHAAqB7J,KAAKT,MAAM0L,UAMnC,kC,GA1FmB1K,IAAMC,WCqKrB+L,G,kDAnKb,WAAYjU,GAAQ,IAAD,8BACjB,cAAMA,IAWRyI,aAAe,SAACZ,GAAW,IAAD,EACFA,EAAMuF,OAArB3I,EADiB,EACjBA,KAAMoE,EADW,EACXA,MACb,EAAKxB,SAAL,gBACG5C,EAAOoE,KAfO,EAmBnBqL,aAAe,SAACrM,GACdA,EAAMsM,iBADkB,MAEE,EAAKlN,MAC3BlF,EAAO,CACTqI,MAJsB,EAEjBA,MAGLgK,SALsB,EAEVA,UAMdtQ,IAAM2J,KAAKnK,IAAY,mBAAoB,CAACvB,QAAO,CAACiC,iBAAiB,IAChEC,MAAK,SAAAC,GACAA,EAASC,KAAKkQ,WAChB,EAAKpN,MAAMqN,YAAYpQ,GACvB,EAAKqQ,YAEL,EAAKlN,SAAS,CACZmN,OAAQtQ,EAASC,KAAKqQ,YAI3B5O,OAAM,SAAAC,GAAK,OAAI5F,QAAQC,IAAI,cAAe2F,OAtC9B,EAyCnB0O,SAAW,WACT,EAAKlN,SAAS,CACZoN,UAAU,KA3CK,EA+CnBC,aAAe,WACb,OACE,6BACE,4BACC,EAAKzN,MAAMuN,OAAOpQ,KAAI,SAAAyB,GACvB,OAAO,wBAAI4D,IAAK5D,GAAQA,SAlD5B,EAAKoB,MAAQ,CACXmD,MAAO,GACPgK,SAAU,GACVI,OAAQ,GACRC,UAAU,EACVH,YAAatU,EAAMsU,YACnBK,aAAc3U,EAAM2U,cARL,E,qDA2DT,IAAD,EAC6BjN,KAAKT,MAAlCmD,EADA,EACAA,MAAOgK,EADP,EACOA,SACd,OAFO,EACiBK,UAEtBxU,QAAQC,IAAI,6BACL,kBAAC,IAAD,CAAU+B,GAAG,OAGpB,6BAAShB,UAAU,WACjB,yBAAKA,UAAU,WACb,0BAAM2T,SAAUlN,KAAKwM,aAActS,MAAO,CACxC+F,QAAS,OACT4L,cAAe,SACf3C,MAAO,QACPe,WAAY,SACZmC,OAAQ,SAER,wBAAI7S,UAAU,aAAaW,MAAO,CAACuP,WAAY,UAAWI,YAAa,MAAOsD,WAAY,WAA1F,+FAAsH,6BAAtH,cAEA,yBAAKjT,MAAO,CACVgP,MAAO,SAEP,uBAAGhP,MAAO,CACRsP,UAAW,OACXH,SAAU,OACVC,WAAY,OACZnP,MAAO,OACP2P,aAAc,OACd4B,WAAY,SANd,mCASF,yBAAKxR,MAAO,CACVgP,MAAO,SAEP,uBAAGhP,MAAO,CACRsP,UAAW,OACXH,SAAU,OACVC,WAAY,OACZnP,MAAO,UACP2P,aAAc,SALhB,mCAQF,2BACEpQ,KAAK,OACLqD,KAAK,QACLoE,MAAOuB,EACPP,SAAUnC,KAAKe,aACf7G,MAAO,CACLkP,gBAAiB,cACjBiD,OAAQ,oBACRhK,OAAQ,OACR6G,MAAO,OACPhH,aAAc,MACdmH,SAAU,OACViD,WAAY,UAGhB,yBAAKpS,MAAO,CACVgP,MAAO,SAEP,uBAAGhP,MAAO,CACRsP,UAAW,OACXH,SAAU,OACVC,WAAY,OACZnP,MAAO,UACP2P,aAAc,SALhB,yCAQF,2BACEpQ,KAAK,WACLqD,KAAK,WACLoE,MAAOuL,EACPvK,SAAUnC,KAAKe,aACf7G,MAAO,CACLkP,gBAAiB,cACjBiD,OAAQ,oBACRhK,OAAQ,OACR6G,MAAO,OACPhH,aAAc,MACdmH,SAAU,OACViD,WAAY,UAGjB,4BAAQ3S,YAAY,SAASD,KAAK,SAASH,UAAU,aAAaW,MAAO,CACvEgP,MAAO,OACPQ,UAAW,OACXL,SAAU,OACVgD,OAAQ,SAJV,kCAQC,iDACA,uBAAG5S,KAAK,UAAUF,UAAU,aAAaW,MAAO,CAC9CgP,MAAO,sBADT,0FAKF,6BACGlJ,KAAKT,MAAMuN,OAAS9M,KAAKgN,eAAiB,Y,GA7JnCxM,aCoLL4M,G,kDAnLb,WAAY9U,GAAQ,IAAD,8BACjB,cAAMA,IAURyI,aAAe,SAACZ,GAAW,IAAD,EACFA,EAAMuF,OAArB3I,EADiB,EACjBA,KAAMoE,EADW,EACXA,MACb,EAAKxB,SAAL,gBACG5C,EAAOoE,KAdO,EAkBnBqL,aAAe,SAACrM,GACdA,EAAMsM,iBADkB,MAEyB,EAAKlN,MAClDlF,EAAO,CACTqI,MAJsB,EAEjBA,MAGLgK,SALsB,EAEVA,SAIZW,sBANsB,EAEAA,uBAMxBjR,IAAM2J,KAAKnK,IAAY,kBAAmB,CAACvB,QAAO,CAACiC,iBAAiB,IAC/DC,MAAK,SAAAC,GACyB,YAAzBA,EAASC,KAAKd,OAChB,EAAKkR,WAEL,EAAKlN,SAAS,CACZmN,OAAQtQ,EAASC,KAAKqQ,YAI3B5O,OAAM,SAAAC,GAAK,OAAI5F,QAAQC,IAAI,cAAe2F,OApC9B,EAuCnB0O,SAAW,WACT,EAAKlN,SAAS,CACZoN,UAAU,KAzCK,EA6CnBC,aAAe,WACb,OACE,6BACE,4BAAK,EAAKzN,MAAMuN,OAAOpQ,KAAI,SAACyB,GAC1B,OAAO,mCAASA,EAAT,IAAiBA,SA/C9B,EAAKoB,MAAQ,CACXmD,MAAO,GACPgK,SAAU,GACVW,sBAAuB,GACvBP,OAAQ,GACRC,UAAU,GAPK,E,qDAwDT,IAAD,EACoD/M,KAAKT,MAAzDmD,EADA,EACAA,MAAOgK,EADP,EACOA,SAAUW,EADjB,EACiBA,sBACxB,OAFO,EACwCN,UAE7CxU,QAAQC,IAAI,6BACL,kBAAC,IAAD,CAAU+B,GAAG,OAGpB,6BAAShB,UAAU,WACjB,yBAAKA,UAAU,WACb,wBAAIA,UAAU,cAAd,0GACE,0BAAM2T,SAAUlN,KAAKwM,aAActS,MAAO,CACxC+F,QAAS,OACT4L,cAAe,SACf3C,MAAO,QACPe,WAAY,SACZmC,OAAQ,SAER,yBAAKlS,MAAO,CACVgP,MAAO,SAEP,uBAAGhP,MAAO,CACRsP,UAAW,OACXH,SAAU,OACVC,WAAY,OACZnP,MAAO,OACP2P,aAAc,OACd4B,WAAY,SANd,iHASF,yBAAKxR,MAAO,CACVgP,MAAO,SAEP,uBAAGhP,MAAO,CACRsP,UAAW,OACXH,SAAU,OACVC,WAAY,OACZnP,MAAO,UACP2P,aAAc,SALhB,mCAQF,2BACEpQ,KAAK,OACLqD,KAAK,QACLoE,MAAOuB,EACPP,SAAUnC,KAAKe,aACf7G,MAAO,CACLkP,gBAAiB,cACjBiD,OAAQ,oBACRhK,OAAQ,OACR6G,MAAO,OACPhH,aAAc,MACdmH,SAAU,OACViD,WAAY,UAGhB,yBAAKpS,MAAO,CACVgP,MAAO,SAEP,uBAAGhP,MAAO,CACRsP,UAAW,OACXH,SAAU,OACVC,WAAY,OACZnP,MAAO,UACP2P,aAAc,SALhB,yCAQF,2BACEpQ,KAAK,WACLqD,KAAK,WACLoE,MAAOuL,EACPvK,SAAUnC,KAAKe,aACf7G,MAAO,CACLkP,gBAAiB,cACjBiD,OAAQ,oBACRhK,OAAQ,OACR6G,MAAO,OACPhH,aAAc,MACdmH,SAAU,OACViD,WAAY,UAGhB,yBAAKpS,MAAO,CACVgP,MAAO,SAEP,uBAAGhP,MAAO,CACRsP,UAAW,OACXH,SAAU,OACVC,WAAY,OACZnP,MAAO,UACP2P,aAAc,SALhB,mFAQF,2BACEpQ,KAAK,WACLqD,KAAK,wBACLoE,MAAOkM,EACPlL,SAAUnC,KAAKe,aACf7G,MAAO,CACLkP,gBAAiB,cACjBiD,OAAQ,oBACRhK,OAAQ,OACR6G,MAAO,OACPhH,aAAc,MACdmH,SAAU,OACViD,WAAY,UAIhB,4BAAQ3S,YAAY,SAASD,KAAK,SAASH,UAAU,aAAaW,MAAO,CACvEgP,MAAO,OACPQ,UAAW,OACXL,SAAU,OACVgD,OAAQ,SAJV,qD,GArKO7L,aCIN8M,OANf,SAAchV,GACZ,OACE,kBAAC,IAAD,CAAUiC,GAAG,O,iBC0BXgT,GAAgBC,eAChBC,GAAUlN,IAAMmN,gBAEhBC,GAAe,CACnBrU,KAAM,CACJsU,WAAY,EACZvT,KAAM,MAERwT,MAAO,KAGT,SAASC,GAAQvO,EAAOwO,GAEtB,OADAxV,QAAQC,IAAI,eAAgBuV,GACrBA,EAAOrU,MACZ,IAAK,cACH,MAAO,CACL6F,QACAjG,KAAMyU,EAAOzU,KACbuU,MAAOE,EAAOF,OAElB,QACE,OAAOtO,GAIb,IAAMyO,GAAsB,SAAA1V,GAAU,IAAD,EACTiI,IAAM0N,WAAWH,GAASH,IADjB,mBAC5BpO,EAD4B,KACrB2O,EADqB,KAE/BrS,EAAWsS,cAEf5V,QAAQC,IAAI,4BAA6BqD,GAEzC,IAYMuS,EAZAxB,EAAc,SAACpQ,GACnB0R,EAAS,CAACxU,KAAM,cAAeJ,KAAM,CAACsU,WAAY,EAAGvT,KAAMmC,EAASC,KAAKpC,MAAOwT,MAAOhS,EAASwS,WAEhG9V,QAAQC,IAAI,oBAAqBgE,EAASC,OAEtCwQ,EAAe,WACnBiB,EAAS,CAACxU,KAAM,cAAeJ,KAAO,CAACsU,YAAa,EAAGvT,KAAM,MAAOwT,MAAOhS,EAASwS,WACpF9V,QAAQC,IAAI,kBAAmBqD,EAASwS,YAE1C9V,QAAQC,IAAI,gBAAiB+G,EAAMjG,MACL,IAA1BiG,EAAMjG,KAAKsU,cACbrV,QAAQC,IAAI,cAAeqD,EAASwS,UAEpCjS,IAAMC,IAAIT,IAAY,sBAAuB,CAACU,iBAAiB,IAC5DC,MAAK,SAAAC,GAEJ,IADA4R,EAAe5R,GACEC,KAAKkQ,UACpB,OAAOvQ,IAAMC,IAAIT,IAAY,qBAAuBwS,EAAa3R,KAAKpC,KAAKC,UAAY,QAAS,CAACgC,iBAAiB,IAElH2Q,OAGH1Q,MAAK,SAAAC,GACJjE,QAAQC,IAAI,kBAAmBgE,GAC/B4R,EAAa3R,KAAKpC,KAAK4C,OAAST,EAASC,KACzCmQ,EAAYwB,MAEblQ,OAAM,SAAAC,GACL5F,QAAQC,IAAI,cAAe2F,GAC3B8O,QAGN,OACE,kBAACQ,GAAQa,SAAT,CACEnN,MAAO,CACL7H,KAAM,CACJsU,WAAYrO,EAAMjG,KAAKsU,WACvBvT,KAAMkF,EAAMjG,KAAKe,KACjBuS,YAAaA,EACbK,aAAcA,GAEhBY,MAAuB,WAAhBtO,EAAMsO,MAAqB,IAAMhS,EAASwS,WAGlD/V,EAAMwB,WAMPyU,G,kLAGF3W,SAASkD,MAAQ,Q,gCAGTxB,GAGR,OAFAf,QAAQC,IAAI,kBACZ+U,GAAc7S,KAAK,UACZ,yBAAKnB,UAAU,WACpB,kBAAC,GAAD,CAAOiV,QAASjB,GAAeX,YAAatT,EAAKsT,YAAa6B,eAAoC,IAApBnV,EAAKsU,gB,iCAI5EtU,GAGT,OAFAf,QAAQC,IAAI,mBACZ+U,GAAc7S,KAAK,WACZ,yBAAKnB,UAAU,WACpB,kBAAC,GAAD,CAAQiV,QAASjB,GAAeX,YAAatT,EAAKsT,YAAa6B,eAAoC,IAApBnV,EAAKsU,gB,2BAInFtU,GACH,OACE,yBAAKC,UAAU,WACb,kBAAC,EAAD,CAAQD,KAAMA,IACd,kBAAC,IAAD,CAAOoV,OAAK,EAAC7U,KAAK,WAAW8U,UAAW/N,IACxC,kBAAC,IAAD,CAAO8N,OAAK,EAAC7U,KAAK,gBAAgB8U,UAAWvH,KAC7C,kBAAC,IAAD,CAAOsH,OAAK,EAAC7U,KAAK,SAAS+U,OAAQ,SAAAtW,GAAK,OAAK,kBAAC,EAAD,CAAWgB,KAAMA,OAC9D,kBAAC,IAAD,CAAOoV,OAAK,EAAC7U,KAAK,cAAc+U,OAAQ,SAAAtW,GAAK,OAAK,kBAAC,EAAD,CAAegB,KAAMA,OACvE,kBAAC,IAAD,CAAOoV,OAAK,EAAC7U,KAAK,sBAAsB8U,UAAWtE,KACnD,kBAAC,IAAD,CAAOqE,OAAK,EAAC7U,KAAK,oBAAoB8U,UAAWjE,KACjD,kBAAC,IAAD,CAAOgE,OAAK,EAAC7U,KAAK,gBAAgB8U,UAAWxF,KAC7C,kBAAC,IAAD,CAAOuF,OAAK,EAAC7U,KAAK,iBAAiB8U,UAAW3E,KAC9C,kBAAC,IAAD,CAAO0E,OAAK,EAAC7U,KAAK,UAAU8U,UAAW7D,KACvC,kBAAC,IAAD,CAAO4D,OAAK,EAAC7U,KAAK,iBAAiB8U,UAAWxC,KAC9C,kBAAC,IAAD,CAAOuC,OAAK,EAAC7U,KAAK,cAAc8U,UAAW/D,KAC3C,kBAAC,IAAD,CAAO8D,OAAK,EAAC7U,KAAK,WAAW8U,UAAW9D,KACxC,kBAAC,IAAD,CAAO6D,OAAK,EAAC7U,KAAK,WAAW8U,UAAWlD,KACxC,kBAAC,IAAD,CAAOiD,OAAK,EAAC7U,KAAK,WAAW8U,UAAW/C,KACxC,kBAAC,IAAD,CAAO8C,OAAK,EAAC7U,KAAK,eAAe8U,UAAW5C,KAC5C,kBAAC,IAAD,CAAO2C,OAAK,EAAC7U,KAAK,YAAY8U,UAAW1C,KACzC,kBAAC,IAAD,CAAOyC,OAAK,EAAC7U,KAAK,IAAI+U,OAAQ,SAAAtW,GAAK,OAAK,kBAAC,EAAD,CAAMgB,KAAMA,OACpD,kBAAC,IAAD,CAAOoV,OAAK,EAAC7U,KAAK,SAAS+U,OAAQ,SAAAtW,GAAK,OAAK,kBAAC,GAAD,CAAOkW,QAASjB,GAAeX,YAAatT,EAAKsT,YAAa6B,eAAoC,IAApBnV,EAAKsU,gBAChI,kBAAC,IAAD,CAAOc,OAAK,EAAC7U,KAAK,UAAU+U,OAAQ,SAAAtW,GAAK,OAAK,kBAAC,GAAD,CAAQkW,QAASjB,GAAeX,YAAatT,EAAKsT,YAAa6B,eAAoC,IAApBnV,EAAKsU,mB,qCAMtI,OAAO,yBAAKrU,UAAU,WACpB,kBAAC,EAAD,MACA,2F,+BAOF,OAFAhB,QAAQC,IAAI,YAAawH,KAAK1H,OAC9BC,QAAQC,IAAI,gBAAiBN,OAAO2D,SAASwS,UACV,IAA/BrO,KAAK1H,MAAMgB,KAAKsU,YAAiD,WAA7B1V,OAAO2D,SAASwS,UACtDd,GAAc7S,KAAK,KACZ,kBAAC,IAAD,CAAUH,GAAG,OAGgB,IAA/ByF,KAAK1H,MAAMgB,KAAKsU,WAAmB5N,KAAKlI,KAAKkI,KAAK1H,MAAMgB,MAC9B,IAA/B0G,KAAK1H,MAAMgB,KAAKsU,WAAmB5N,KAAK6O,eACpB,WAApB7O,KAAK1H,MAAMuV,MAAqB7N,KAAK8O,WAAW9O,KAAK1H,MAAMgB,MAC3D0G,KAAK+O,UAAU/O,KAAK1H,MAAMgB,U,GAnEdiH,IAAMC,WAuExB+N,GAAIS,YAAcvB,GAEHc,aAEf,SAASU,GAAM3W,GAGb,OAFAC,QAAQC,IAAI,YAAaF,GAGvB,kBAAC,IAAD,CAAekW,QAASjB,IACtB,kBAAC,IAAD,KACE,kBAAC,GAAD,KACE,kBAACE,GAAQyB,SAAT,MACC,SAAAC,GAEC,OADA5W,QAAQC,IAAI,WAAY2W,GAEtB,oCACE,kBAAC,IAAD,CAAOT,OAAK,EAAC7U,KAAK,QAAQ8U,UAAWrB,KACrC,kBAAC,IAAD,CAAOzT,KAAK,IAAI+U,OAAQ,SAAAtW,GAAK,OAAI,kBAAC,GAAD,CAAKgB,KAAM6V,EAAO7V,KAAMuU,MAAOsB,EAAOtB,kBAcvFe,iBACE,kBAACK,GAAD,MACArX,SAASwX,cAAc,Y","file":"static/js/main.3389204d.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport { throttle } from 'lodash';\n\nfunction useDocumentScrollThrottled(callback) {\n  const [, setScrollPosition] = useState(0);\n  let previousScrollTop = 0;\n\n  const handleDocumentScrollThrottled = throttle(handleDocumentScroll, 250);\n\n  function handleDocumentScroll() {\n    const { scrollTop: currentScrollTop } = document.documentElement || document.body;\n\n    setScrollPosition(previousPosition => {\n      previousScrollTop = previousPosition;\n      return currentScrollTop;\n    });\n\n    callback({ previousScrollTop, currentScrollTop });\n  }\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleDocumentScrollThrottled);\n\n    return () =>\n      window.removeEventListener('scroll', handleDocumentScrollThrottled);\n  }, []);\n}\n\nexport default useDocumentScrollThrottled;","import React, { useState } from 'react';\nimport { Route, Link} from 'react-router-dom';\n\nimport useDocumentScrollThrottled from './useDocumentScrollThrottled.js';\n\nfunction Header(props) {\n  console.log(\"header props - \", props);\n  const [shouldHideHeader, setShouldHideHeader] = useState(false);\n  const [shouldShowShadow, setShouldShowShadow] = useState(false);\n  const [shoundShowAllSections, setShoundShowAllSections] = useState(false);\n\n  const MINIMUM_SCROLL = 80;\n  const TIMEOUT_DELAY = 400;\n\n  useDocumentScrollThrottled(callbackData => {\n    const { previousScrollTop, currentScrollTop } = callbackData;\n    const isScrolledDown = previousScrollTop < currentScrollTop;\n    const isMinimumScrolled = currentScrollTop > MINIMUM_SCROLL;\n\n    setShouldShowShadow(currentScrollTop > 2);\n\n    setTimeout(() => {\n      setShouldHideHeader(isScrolledDown && isMinimumScrolled);\n    }, TIMEOUT_DELAY);\n  });\n\n  const shadowStyle = shouldShowShadow ? 'shadow' : '';\n  const hiddenStyle = shouldHideHeader ? 'hidden' : '';\n  const allSectionsStyle = shoundShowAllSections && !shouldHideHeader ? 'header-all-sections' : 'header-all-sections-hidden';\n  console.log('hover?', allSectionsStyle);\n  if (!props.auth) {\n    return <div></div>;\n  }\n  return (\n    <header className={`header ${shadowStyle} ${hiddenStyle}`} onMouseLeave={() => {setShoundShowAllSections(false)}}>\n      <div className=\"logo\"><a href=\"/\">LMS</a></div>\n      <div className=\"flexbox\">\n        <div className=\"search\">\n          <div>\n            <input type=\"text\" placeholder=\"       Search . . .\" required></input>\n          </div>\n        </div>\n      </div>\n      <ul className=\"links\">\n        <Route path=\"/courses\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"my-courses\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/courses\" style={{color: '#000'}}>Мои курсы</a></li> :\n            <li className=\"link-item\" id=\"my-courses\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/courses\">Мои курсы</a></li>\n        )}/>\n        <Route path=\"/student-book\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"student-book\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/student-book\" style={{color: '#000'}}>Зачетка</a></li> :\n            <li className=\"link-item\" id=\"student-book\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/student-book\">Зачетка</a></li>\n        )}/>\n        <Route path=\"/schedule\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"schedule\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"https://ruz.hse.ru/ruz/main\" style={{color: '#000'}}>Расписание</a></li> :\n            <li className=\"link-item\" id=\"schedule\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"https://ruz.hse.ru/ruz/main\">Расписание</a></li>\n        )}/>\n        <Route path=\"/all-sections\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"all-sections\" onMouseEnter={() => {setShoundShowAllSections(true)}}><a href=\"/all-sections\" style={{color: '#000'}}>Все разделы</a></li> :\n            <li className=\"link-item\" id=\"all-sections\" onMouseEnter={() => {setShoundShowAllSections(true)}}><a href=\"/all-sections\">Все разделы</a></li>\n        )}/>\n        <Route path=\"/chat\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"chat\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/email\" style={{color: '#000'}}><img src=\"chat.png\"></img></a></li> :\n            <li className=\"link-item\" id=\"chat\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/email\"><img src=\"chat.png\"></img></a></li>\n        )}/>\n        <Route path=\"/profile\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"profile\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/profile\" style={{color: '#000'}}><img src=\"profile.png\"></img></a></li> :\n            <li className=\"link-item\" id=\"profile\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/profile\"><img src=\"profile.png\"></img></a></li>\n        )}/>\n        <Route path=\"/exit\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"exit\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/exit\" style={{color: '#000'}}>Выйти</a></li> :\n            <li className=\"link-item\" id=\"exit\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/exit\">Выйти</a></li>\n        )}/>\n      </ul>\n      <div className={`${allSectionsStyle}`} onMouseEnter={() => {setShoundShowAllSections(true)}} onMouseLeave={() => {setShoundShowAllSections(false)}}>\n        <div className=\"header-all-sections-container\">\n          <div className=\"header-all-sections-column\">\n            {pointColumn(props.auth.user.course_id)}\n          </div>\n          <div className=\"header-all-sections-column\">\n            {chooseColumn(props.auth.user.course_id)}\n          </div>\n          <div className=\"header-all-sections-column\">\n            {requestColumn(props.auth.user.course_id)}\n          </div>\n          <div className=\"header-all-sections-column\">\n            {helpColumn()}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n\nfunction pointColumn(courseNumber) {\n  return (<><div className=\"header-all-sections-card\">НЕ ЗАБУДЬ ОЦЕНИТЬ</div>\n  <Link to=\"/point-your-courses\">\n    <div className=\"header-all-sections-card\">\n      <div className=\"header-all-sections-icon\"><img src=\"/point-your-courses.png\"/></div>\n      <div className=\"header-all-sections-title\"><p>Оцени свои курсы</p></div>\n    </div>\n  </Link>\n  <Link to=\"/point-colleagues\">\n    <div className=\"header-all-sections-card\">\n      <div className=\"header-all-sections-icon\"><img src=\"/point-colleagues.png\"/></div>\n      <div className=\"header-all-sections-title\"><p>Оценка сотрудников</p></div>\n    </div>\n  </Link></>);\n}\n\nfunction chooseColumn(courseNumber) {\n  let result = [];\n  let courseNumberBetweenOneFour = courseNumber > 1 && courseNumber < 4;\n\n  if (courseNumberBetweenOneFour) {\n    result.push(<Link to=\"/choose-minor\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/choose-minor.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Выбор майнора</p></div>\n      </div>\n    </Link>);\n  }\n  if (courseNumber > 0) {\n    result.push(<Link to=\"/choose-course\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/choose-course.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Курсы по выбору</p></div>\n      </div>\n    </Link>);\n  }\n  if (courseNumber > 1) {\n    result.push(<Link to=\"/themes-KP-BKP\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/themes-KP-BKP.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Темы KP/BKP</p></div>\n      </div>\n    </Link>);\n  }\n  if (courseNumber > 1) {\n    result.push(<Link to=\"/KP-BKP\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/KP-BKP.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>KP/BKP</p></div>\n      </div>\n    </Link>);\n  }\n  console.log(\"choose courseNumber\", courseNumber);\n  return (<><div className=\"header-all-sections-card\">ВЫБОР ДИСЦИПЛИН И ТЕМ</div>\n  {result}\n  </>);\n}\n\nfunction requestColumn(courseNumber) {\n  let result = [];\n\n  if (courseNumber > 0) {\n    result.push(<Link to=\"/req-pgas\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/req-pgas.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Заявка на ПГАС</p></div>\n      </div>\n    </Link>);\n    result.push(<a href=\"https://lms.hse.ru/yii_index.php?r=pt/request/index-hse\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/transfer.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Перевод</p></div>\n      </div>\n    </a>);\n  }\n  if (courseNumber > 2) {\n    result.push(<Link to=\"/relocation\">\n        <div className=\"header-all-sections-card\">\n          <div className=\"header-all-sections-icon\"><img src=\"/relocation.png\"/></div>\n          <div className=\"header-all-sections-title\"><p>Переезд из общежития</p></div>\n        </div>\n      </Link>);\n  }\n  if (courseNumber > 3) {\n    result.push(<Link to=\"/practic-req\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/practic-req.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Заявка на практику</p></div>\n      </div>\n    </Link>);\n  }\n  if (courseNumber > 1) {\n    result.push(<Link to=\"/vbm-req\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/vbm-req.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Заявка на ВБМ</p></div>\n      </div>\n    </Link>);\n  }\n  return (<><div className=\"header-all-sections-card\">ЗАЯВКИ</div>\n    {result}\n  </>);\n}\n\nfunction helpColumn() {\n  return (<><div className=\"header-all-sections-card\">ПОМОЩЬ</div>\n  <Link to=\"/support\">\n    <div className=\"header-all-sections-card\">\n      <div className=\"header-all-sections-icon\"><img src=\"/support.png\"/></div>\n      <div className=\"header-all-sections-title\"><p>Служба поддержки</p></div>\n    </div>\n  </Link></>);\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction NewsPiece(props) {\n  return (\n  \t<div className=\"card-box\">\n      <div className=\"news-piece-card-header\">\n        <div className=\"news-piece-card-title\">\n          <h2>{props.title}</h2>\n        </div>\n        <div className=\"news-piece-card-time\"><p>{props.time}</p></div>\n      </div>\n      <div className=\"news-piece-card-content\">\n      <p dangerouslySetInnerHTML={{__html: props.content}}></p>\n      </div>\n    </div>\n  );\n}\n\nexport default NewsPiece;\n","import React from 'react';\n\nfunction Event(props) {\n  let typeValue = null;\n  let typeColor = null;\n  switch (props.type) {\n    case 'EVENT':\n      typeValue = 'МЕРОПРИЯТИЕ';\n      typeColor = '#0579FF';\n      break;\n    case 'DEADLINE':\n      typeValue = 'ДЕДЛАЙН';\n      typeColor = '#FF4701';\n      break;\n  }\n  return (\n  \t<div className=\"card-box\">\n      <div className=\"events-card-img\">\n        <img src={props.image}></img>\n      </div>\n      <div className=\"events-card-header\">\n        <h3>{props.header}</h3>\n      </div>\n      <div className=\"events-card-content\">\n        <p>{props.content}</p>\n      </div>\n      <div className=\"events-card-type\" style={{background: typeColor}}>\n        <p>{typeValue}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Event;","import React from 'react';\n\nfunction Email(props) {\n  return (\n  \t<div className=\"email-card-box\">\n      <div className=\"email-card-header\">\n        <div className=\"email-card-author\"><p>{props.author}</p></div>\n        <div className=\"email-card-status-time\">\n          {props.status == 'NEW' && <div className=\"email-card-status\"></div>}\n          <div className=\"email-card-time\"><p>{props.time}</p></div>\n        </div>\n      </div>\n      <div className=\"email-card-title\">\n        <h3>{props.title}</h3>\n      </div>\n      <div className=\"email-card-content\">\n        <p>{props.content}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Email;\n","import React from 'react';\nimport axios from 'axios'\n\nexport function getHost() {\n  console.log(\"window loc port - \", window.location.port);\n  if (window.location.port == 3001) {\n    console.log(\"window loc port s - \", window.location.port);\n    return 'http://localhost:3000';\n  }\n  return window.location.origin;\n}\n\nexport function loadMessages(currentUser, handleResult) {\n  let foldersMap = new Map([]);\n  foldersMap.set('income', {\n    name: 'Входящие',\n    messagesMap: new Map([])\n  });\n  foldersMap.set('outcome', {\n    name: 'Исходящие',\n    messagesMap: new Map([])\n  });\n  return axios.get(getHost() + \"/railsapp/emails.json\", {withCredentials: true})\n    .then(response => {\n      response.data.forEach(msg => {\n        if (msg.supplier_id === currentUser.id) {\n          foldersMap.get('outcome').messagesMap.set(msg.id, msg);\n        }\n        if (msg.consumer_id === currentUser.id) {\n          foldersMap.get('income').messagesMap.set(msg.id, msg);\n        }\n      });\n\n      handleResult(foldersMap);\n    })\n}\n\nexport function loadAllDisciplines(handleResult) {\n  let coursesMap = new Map([]);\n  return axios.get(getHost() + \"/railsapp/courses.json\", {withCredentials: true})\n    .then(response => {\n      console.log('resp courses - ', response);\n      response.data.map(it => coursesMap.set(it.id, {\n        courseId: it.id,\n        courseName: it.name,\n        modsMap: new Map([])\n      }));\n      return axios.get(getHost() + \"/railsapp/mods.json\", {withCredentials: true})\n    })\n    .then(response => {\n      console.log('resp mods - ', response);\n      response.data.map(it => {\n        let course = coursesMap.get(it.course_id);\n        console.log('course in mods processor - ', course);\n\n        if (course) {\n          course.modsMap.set(it.id, {\n            modId: it.id,\n            modName: it.name,\n            disciplinesMap: new Map([])\n          })\n        }\n      })\n      return axios.get(getHost() + \"/railsapp/disciplines.json\", {withCredentials: true})\n    })\n    .then(response => {\n      let r = response.data;\n      Array.from(coursesMap.values()).map(val => {\n        r.map(d => {\n          let mod = val.modsMap.get(d.mod_id);\n          if (mod) {\n            mod.disciplinesMap.set(d.id, {\n              disciplineId: d.id,\n              disciplineName: d.name,\n              marks: []\n            })\n          }\n        })\n      })\n      console.log('resp disceps - ', response);\n      handleResult(coursesMap);\n    })\n}\n\nexport function handleError(promise) {\n  return promise.catch(error => console.log('api errors:', error));\n}\n\nexport function loadUsersById(userIds, handleResult) {\n  let usersMap = new Map([]);\n  let r = [];\n  for (let id of userIds) {\n    r.push(axios.get(getHost() + \"/railsapp/users/\" + id + \".json\", {withCredentials: true}));\n  }\n  return axios.all(r)\n    .then(axios.spread((...responses) => {\n      responses.forEach(r => {\n        usersMap.set(r.data.id, r.data);\n      })\n      handleResult(usersMap);\n    }));\n}\n\nexport function loadUsers(handleResult) {\n  let usersMap = new Map([]);\n  return axios.get(getHost() + \"/railsapp/users.json\", {withCredentials: true})\n    .then(response => {\n      response.data.forEach(user => {\n        usersMap.set(user.id, user);\n      })\n      handleResult(usersMap);\n    });\n}\n\nexport function sendMessage(message, handleResult) {\n  return axios.post(getHost() + \"/railsapp/emails.json\", {email: message}, {withCredentials: true})\n    .then(response => {\n      handleResult(response);\n    })\n}\n\nexport function loadEvents(handleResult) {\n  return axios.get(getHost() + \"/railsapp/events.json\", {withCredentials: true})\n    .then(response => {\n      handleResult(response.data);\n    })\n}\n","import React from 'react';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport { loadEvents, handleError, getHost } from './data-loader.js'\n\nclass Body extends React.Component {\n  state = {\n    news: null,\n    eventsMap: null\n  };\n\n  componentDidMount () {\n    fetchNews().then(result => {\n      console.log('result - ', result);\n      this.setState({news: result});\n    });\n    handleError(\n      loadEvents((events) => {\n        let eventsMap = new Map([]);\n        console.log('events - ', events);\n        events.forEach(item => {\n          if (eventsMap.has(item.course_id)) {\n            eventsMap.get(item.course_id).push(item);\n          } else {\n            let items = [];\n            items.push(item);\n            eventsMap.set(item.course_id, items);\n          }\n        });\n        this.setState({\n          eventsMap: eventsMap\n        });\n\n      })\n    )\n  }\n\n  render() {\n    console.log(\"body props - \", this.props);\n    if (!this.state.eventsMap) {\n      return <div></div>;\n    }\n    return (\n      <section className=\"section\">\n        <div className=\"content\">\n          <h1 className=\"page-title\">Главная</h1>\n          <div>\n            <div className=\"cards-header\"><h2>Новости</h2></div>\n            <div className=\"cards-link-see-all\"><a href=\"\" style={{display: 'none'}}>Смотреть все</a></div>\n            <div className=\"cards\">\n              {this.state.news && this.state.news.slice(0, 3)}\n            </div>\n          </div>\n          <div>\n            <div className=\"cards-header\"><h2>События</h2></div>\n            <div className=\"cards-link-see-all\"><a href=\"\" style={{display: 'none'}}>Смотреть все</a></div>\n            <div className=\"cards\">\n              {events(this.state.eventsMap, this.props.auth.user.course_id)}\n            </div>\n          </div>\n          <div>\n            <div className=\"cards-header\"><h2>Сообщения</h2></div>\n            <div className=\"cards-link-see-all\"><a href=\"/email\">Смотреть все</a></div>\n            <div className=\"cards\">\n              <Email\n                  author=\"Михайлова А.В.\"\n                  status=\"NEW\"\n                  time=\"19 июн 2019, 10:49:44\"\n                  title=\"О критериях оценки питча\"\n                  content=\"В ЛМС, в папке &quot;Материалы&quot; доступна презентация семинара №9 с критериями оценки питча. С Уважением, Алёшина Т.А. менеджер кафедры менеджмента инноваций НИУ ВШЭ\"\n              ></Email>\n              <Email\n                  author=\"Алёшина Т.А.\"\n                  status=\"OLD\"\n                  time=\"28 май 2019, 13:08:28\"\n                  title=\"Изменения в расписании 30 мая\"\n                  content=\"Обращаем внимание, в связи с командировкой преподавателей Лодышкина и Коновалюк и конференцией у Ярцева, внесены изменения в расписание майнора - 30 мая. Обновленное расписание можно найти на сайте Областной Думы Сахалина. С Уважением, Алёшина Т.А. менеджер кафедры менеджмента инноваций НИУ ВШЭ\"\n              ></Email>\n              <Email\n                  author=\"Алёшина Т.А.\"\n                  status=\"OLD\"\n                  time=\"20 май 2019, 15:16:07\"\n                  title=\"Данные по посещению лекций в весеннем семестре\"\n                  content=\"Как и договаривались, во вложении высылаем файл с баллами за посещаемость лекций в текущем семестре (3 и 4 модули). Полный свод данных по посещению лекций будет готов осле 6 июня - последняя лекция у Данте Владимира Владимировича. Просьба написать объяснительную в деканат по пропускам. С Уважением, Алёшина Т.А. менеджер кафедры менеджмента инноваций НИУ ВШЭ\"\n              ></Email>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nfunction events(eventsMap, courseNumber) {\n  let events = eventsMap.get(courseNumber);\n  return events.map(event => <Event\n        header={event.title}\n        content={event.description}\n        type={event.tag.toUpperCase()}\n        image={event.imageUrl}\n    />);\n}\n\nasync function fetchNews() {\n  return fetch(getHost() + '/railsapp/news_pieces.json')\n    .then(response => response.json())\n    .then(data => {\n      console.log('data - ', data);\n      return data.map(it => <NewsPiece\n            title={it.title}\n            time={timeSince(new Date(it.time))}\n            content={it.description}\n          ></NewsPiece>);\n    });\n}\n\nfunction timeSince(date) {\n\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" лет\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" месяцев\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" дней\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" часов\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" минут\";\n  }\n  return Math.floor(seconds) + \" секунд\";\n}\n\nexport default Body;\n","import React from 'react';\n\nexport function coursesMapProcessor(coursesMap, handleArguments) {\n  Array.from(coursesMap.values()).map(course => {\n    Array.from(course.modsMap.values()).map(mod => {\n      Array.from(mod.disciplinesMap.values()).map(discipline => {\n        handleArguments(course, mod, discipline);\n      })\n    })\n  })\n}\n","import React from 'react';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport Select from 'react-select';\nimport axios from 'axios'\nimport { loadAllDisciplines, handleError, getHost } from './data-loader.js'\nimport { coursesMapProcessor } from './data-utils.js'\n\nconst dataMap = new Map([\n  ['course-one', new Map([])],\n  ['course-two', new Map([])],\n  ['course-three', new Map([])],\n  ['course-four', new Map([\n    ['Дизайн, Бакалавриат, 4 курс', 'https://drive.google.com/file/d/1sBtDeEN_2jwG8WdcfMmWD81RQvC2C6mv/preview'],\n    ['Contemporary Design 2019 уч. год 4 курс (код 11345)', 'https://drive.google.com/file/d/1JuJ4vcLPheMCbHqR-YWTJ6DOatD2Y26B/preview'],\n    ['Академическое письмо на английском языке 2019 уч. год Б 4 курс (код 113453)', 'https://drive.google.com/file/d/1Zvi1l0hvCynYJhPXt8nRcW6FTKTT7X7k/preview']\n  ])],\n  ['course-five', new Map([])]\n]);\n\nclass CoursesBody extends React.Component {\n\n  componentWillMount() {\n    let coursesMapTmp;\n    handleError(\n      loadAllDisciplines((coursesMap) => {\n        coursesMapTmp = coursesMap;\n      }).then(response => axios.get(getHost() + '/railsapp/materials.json', {withCredentials: true}))\n        .then(response => {\n          console.log('materials response - ', response);\n          coursesMapProcessor(coursesMapTmp, (course, mod, discipline) => {\n            for (let material of response.data) {\n              if (!discipline.materials) {\n                discipline.materials = [];\n              }\n              console.log('material pushing into - ', discipline);\n              console.log('material pushing - ', material);\n              if (material.discipline_id && discipline.disciplineId === material.discipline_id) {\n                console.log('materials pushed - ', material);\n                discipline.materials.push(material);\n              }\n            }\n          })\n\n          let options = Array.from(coursesMapTmp.entries()).map(pair => {\n            return {\n              value: pair[1].courseId,\n              label: pair[1].courseName\n            }\n          });\n\n          this.setState({\n            coursesMap: coursesMapTmp,\n            selectedOption: options[0],\n            options: options\n          })\n        })\n    )\n  }\n\n  state = {\n    coursesMap: null,\n    selectedOption: null,\n    selectedContent: null\n  };\n\n  handleChange = selectedOption => {\n    console.log(`Option selected this state:`, this.state)\n    this.setState(\n      {\n        selectedOption: selectedOption,\n        selectedContent: null\n      },\n      () => console.log(`Option selected:`, this.state.selectedOption)\n    );\n  };\n\n  handleClick = selectedContentKey => {\n    let newSelectedContent = null;\n    if (this.state.selectedOption) {\n      for (let mod of this.state.coursesMap.get(this.state.selectedOption.value).modsMap.values()) {\n        let found = false;\n        for (let discipline of mod.disciplinesMap.values()) {\n          for (let material of discipline.materials) {\n            if (material.id === selectedContentKey) {\n              newSelectedContent = material.url;\n              found = true;\n              break;\n            }\n            if (found) break;\n          }\n          if (found) break;\n        }\n      };\n    }\n    console.log(`content key selected:`, selectedContentKey);\n    this.setState(\n      { selectedContent: newSelectedContent },\n      () => console.log(`content selected:`, this.state.selectedContent)\n    );\n  };\n\n  render(props) {\n    const { selectedOption, coursesMap, options } = this.state;\n\n    if (!selectedOption || !coursesMap) {\n      return <div></div>;\n    }\n\n    let mats = [];\n    console.log('selected option value - ', selectedOption.value);\n    console.log('selected option state - ', coursesMap);\n    let listItemst = Array.from(coursesMap.get(selectedOption.value).modsMap.values())\n      .forEach(mod => {Array.from(mod.disciplinesMap.values()).forEach(discipline => {\n          discipline.materials.forEach(material => {\n            console.log('material drawed - ', material);\n            console.log('material drawed in discipline - ', discipline);\n            mats.push(<div className=\"course-content-item\">\n              <li key={material.id} onClick={()=>this.handleClick(material.id)}>{material.name}</li>\n            </div>);\n          })\n        })\n      });\n\n      console.log('mats - ', mats);\n\n    return (\n    <section className=\"section\">\n\n      <h1 className=\"page-title\">Мои курсы</h1>\n      <div className=\"content\">\n        <div className=\"main\">\n          <div className=\"main-left\">\n            <Select\n              styles={{borderRadius: '14px'}}\n              value={selectedOption}\n              onChange={this.handleChange}\n              options={options}\n              classNamePrefix=\"courses-combo-box\"\n            />\n            <ul className=\"course-content\">{mats}</ul>\n          </div>\n          <div className=\"main-right\">\n            {this.state.selectedContent && <embed src={this.state.selectedContent} height=\"659px\" type=\"application/pdf\" />}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n  }\n}\n\nexport default CoursesBody;\n","import React from 'react';\n\nconst folders = [\n  { value: 'income', label: 'Входящие' },\n  { value: 'outcome', label: 'Исходящие' },\n  { value: 'spam', label: 'Спам' }\n];\n\nconst messages = new Map([\n\t['income', [\n\t\t{\n\t\t\ttitle: 'О критериях оценки питча', \n\t\t\tbody: 'В ЛМС, в папке \"Материалы\" доступна презентация семинара…', \n\t\t\tauthor: 'Михайлова А. В.', \n\t\t\ttime: '19 июн 2019, 10:49:44', \n\t\t\tisNew: true\n\t\t},\n\t\t{\n\t\t\ttitle: 'Изменения в расписании 30 мая', \n\t\t\tbody: 'Это личное сообщение было отправлено всем пользователям дисциплины Выход на рынок и продвижение проекта. Добрый день, студенты 3 курса! Обращаем внимание, в связи с командировкой преподавателей Лодышкина и Коновалюк и конференцией у Ярцева, внесены изменения в расписаниие майнора - 30 мая. Обновленное расписание во вложении. В первой вкладке файла расписание Стартапа, во второй вкладке - Тех Пр.Заключительные занятия на майноре пройдут - 6 июня. С уважением, Алёшина Т.А.', \n\t\t\tauthor: 'Алёшина Т. А.', \n\t\t\ttime: '28 май 2019, 13:08:28', \n\t\t\tisNew: false\n\t\t},\n\t\t{\n\t\t\ttitle: 'Данные по посещению лекций в весеннем семестре', \n\t\t\tbody: 'Как и договаривались, во вложении высылаем файл с балла…', \n\t\t\tauthor: 'Алёшина Т. А.', \n\t\t\ttime: '20 май 2019, 15:16:07', \n\t\t\tisNew: false\n\t\t},\n\t]],\n]);\n\nconst authors = [\n\t{\n\t\tname: 'Алешина Татьяна Анатольевна',\n\t\tlogin: 'AleshinaTA'\n\t},\n\t{\n\t\tname: 'Вавилова Татьяна Сергеевна',\n\t\tlogin: 'VavilovaTS'\n\t},\n\t{\n\t\tname: 'Гордеева Катерина Георгиевна',\n\t\tlogin: 'GordeevaKG'\n\t},\n\t{\n\t\tname: 'Демидова Екатерина Павловна',\n\t\tlogin: 'DemidovaEP'\n\t},\n\t{\n\t\tname: 'Аленина Татьяна Георгиевна',\n\t\tlogin: 'AleninaTG'\n\t},\n\t{\n\t\tname: 'Волкова Альбина Анатольевна',\n\t\tlogin: 'VolkovaAA'\n\t},\n\t{\n\t\tname: 'Георгиева Галина Анатольевна',\n\t\tlogin: 'GeorgievaGA'\n\t},\n\t{\n\t\tname: 'Дубнова Татьяна Алексеевна',\n\t\tlogin: 'DubnovaTA'\n\t},\n\t{\n\t\tname: 'Ежкова Марина Дмитриевна',\n\t\tlogin: 'EjkhovaMD'\n\t},\n\t{\n\t\tname: 'Жагрова Елена Николаевна',\n\t\tlogin: 'JagrovaEN'\n\t}\n];\n\nclass EmailDataMock {\n\tgetFolders() {\n\t\treturn folders;\n\t}\n\n\tgetAuthors() {\n\t\treturn authors;\n\t}\n\n\tgetMessagesByFolderId(folderId) {\n\t\treturn messages.get(folderId);\n\t}\n}\n\nexport default EmailDataMock;","import React from 'react';\n\nclass EmailScroll extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state.message = props.message;\n\t}\n\n\tstate ={\n\t\tselected: false,\n\t\tmessage: null\n\t}\n\n\thandleClick = () => {\n\t\tthis.setState({\n\t\t\tselected: true\n\t\t})\n\t};\n\n\tselectedFalse = () => {\n\t\tthis.setState({\n\t\t\tselected: false\n\t\t});\n\t};\n\n\tgetMessage() {\n\t\treturn this.state.message;\n\t}\n\n\trender() {\n\t\tconst { selected } = this.state;\n\n\t\tlet cardClassName = \"email-scroll-view-card\";\n\t\tif (this.state.selected == true) {\n\t\t\tcardClassName = cardClassName + \" email-card-selected\";\n\t\t}\n\n\t\tlet supplierName = !this.props.message.supplier ? 'Неизвестеный отправитель' :\n\t\t\t!this.props.message.supplier.firstName || !this.props.message.supplier.lastName ?\n\t\t\t'Пользователь с айди ' + this.props.message.supplier.id :\n\t\t\tthis.props.message.supplier.firstName + ' ' + this.props.message.supplier.lastName;\n\n\t\tlet msgDate = new Date(this.props.message.created_at);\n\t\tlet msgDateFormatted = (msgDate.getMonth()+1) + '/' + msgDate.getDate() + '/' +  msgDate.getFullYear();\n\n\t\treturn (\n\t\t\t<div className={cardClassName} onClick={() => {\n\t\t\t\tif (this.props.handleClick) {\n\t\t\t\t\tthis.props.handleClick(this.state.message);\n\t\t\t\t}\n\t\t\t\tthis.handleClick();\n\t\t\t}}>\n\t      <div className=\"email-scroll-view-card-header\">\n\t        <div className=\"email-scroll-view-card-header-author\"><p>{supplierName}</p></div>\n\t        <div className=\"email-scroll-view-card-header-status-time\">\n\n\t          <div className=\"email-scroll-view-card-header-time\"><p>{msgDateFormatted}</p></div>\n\t        </div>\n\t      </div>\n\t      <div className=\"email-scroll-view-card-title\">\n\t        <p>{this.props.message.title}</p>\n\t      </div>\n\t      <div className=\"email-scroll-view-card-content\">\n\t        <p>{this.props.message.body}</p>\n\t      </div>\n\t    </div>\n\t\t);\n\t}\n}\n\nexport default EmailScroll;\n","import React from 'react';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport Select from 'react-select';\nimport EmailDataMock from './data_mock/email-data-mock.js'\nimport EmailScroll from './email/email-scroll.js'\nimport { loadMessages, loadUsersById, handleError } from './data-loader.js'\n\n\nconst mock = new EmailDataMock();\n\nclass EmailBody extends React.Component {\n\n  componentWillMount() {\n    let foldersMapTmp;\n    console.log('user auth - ', this.props);\n    handleError(\n      loadMessages(this.props.auth.user, (foldersMap) => {\n        console.log('foldersMap - ', foldersMap);\n        foldersMapTmp = foldersMap;\n\n      }).then(() => {\n        let users = new Set([]);\n        Array.from(foldersMapTmp.values()).forEach(folder => {\n          Array.from(folder.messagesMap.values()).forEach(msg => {\n            users.add(msg.supplier_id);\n            users.add(msg.consumer_id);\n          });\n        });\n        return loadUsersById(Array.from(users.entries()), (usersMap) => {\n          Array.from(foldersMapTmp.values()).forEach(folder => {\n            Array.from(folder.messagesMap.values()).forEach(msg => {\n              msg.supplier = usersMap.get(msg.supplier_id);\n              msg.consumer = usersMap.get(msg.consumer_id);\n            })\n          })\n\n          let options = Array.from(foldersMapTmp.entries()).map(pair => {\n            return {\n              value: pair[0],\n              label: pair[1].name\n            }\n          });\n          console.log('options - ', options);\n          this.setState({\n            foldersMap: foldersMapTmp,\n            selectedOption: options[0],\n            options: options\n          })\n        });\n      })\n    )\n  }\n\n  state = {\n    selectedOption: mock.getFolders()[0],\n    selectedMessage: null,\n    foldersMap: null,\n    itemsRefs: []\n  };\n\n  handleChange = selectedOption => {\n    this.setState(\n      {\n        selectedOption\n      },\n      () => console.log(`Option selected:`, this.state.selectedOption)\n    );\n  };\n\n  handleClick = (message) => {\n    this.setState({\n      selectedMessage: message\n    });\n  }\n\n  render() {\n    const { selectedOption, foldersMap, options } = this.state;\n\n    if (!selectedOption || !foldersMap) {\n      return <div></div>;\n    }\n\n    let items = Array.from(foldersMap.get(selectedOption.value).messagesMap.values()).map((it) => {\n      console.log('selectedOption: ', selectedOption);\n      let message = { ...it };\n      if (selectedOption.value === 'outcome') {\n        message.new = 0;\n      }\n      let ref = React.createRef();\n      this.state.itemsRefs.push(ref);\n      return <EmailScroll message={message} ref={ref} handleClick={this.handleClick} />;\n    });\n\n    this.state.itemsRefs.forEach(it => {\n      if (it.current && this.state.selectedMessage !== it.current.state.message) {\n        it.current.selectedFalse();\n      }\n    });\n\n    let msgDate = this.state.selectedMessage ? new Date(this.state.selectedMessage.created_at) : new Date();\n\t\tlet msgDateFormatted = (msgDate.getMonth()+1) + '/' + msgDate.getDate() + '/' +  msgDate.getFullYear();\n\n    return (\n      <section className=\"section\">\n\n        <h1 className=\"page-title\">Сообщения</h1>\n        <div className=\"content\">\n          <div className=\"main\">\n            <div className=\"email-main-left\">\n              <div className=\"email-main-left-header\">\n                <div className=\"email-main-left-header-folder\"><p>Папка: </p></div>\n                <div className=\"email-main-left-header-folder-selector\">\n                  <Select\n                    styles={{borderRadius: '14px'}}\n                    value={selectedOption}\n                    onChange={this.handleChange}\n                    options={options}\n                    classNamePrefix=\"email-dir-combo-box\"\n                  />\n                </div>\n              </div>\n              <div className=\"email-scroll-view\">\n                {items}\n              </div>\n            </div>\n            <div className=\"main-right\">\n              <div><a href=\"/email-send\" className=\"square_btn\">Написать письмо</a></div>\n              {this.state.selectedMessage && <>\n                <div className=\"email-selected-message-header\">\n                  <div className=\"email-selected-message-header-author\">{this.state.selectedMessage.author}</div>\n                  <div className=\"email-selected-message-header-time\">{msgDateFormatted}</div>\n                </div>\n                <div className=\"email-selected-message-title\"><h1>{this.state.selectedMessage.title}</h1></div>\n                <div className=\"email-selected-message-body\">{this.state.selectedMessage.body}</div>\n                </>\n              }\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default EmailBody;\n","import React from 'react';\n\nclass EmailSendScroll extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state.author = props.author;\n\t}\n\n\tstate ={\n\t\tselected: false,\n\t\tauthor: null\n\t}\n\n\thandleClick = () => {\n\t\tthis.setState({\n\t\t\tselected: true\n\t\t})\n\t};\n\n\tselectedFalse = () => {\n\t\tthis.setState({\n\t\t\tselected: false\n\t\t});\n\t};\n\n\tgetMessage() {\n\t\treturn this.state.message;\n\t}\n\n\trender() {\n\t\tconst { selected } = this.state;\n\n\t\tlet cardClassName = \"email-send-scroll-view-card\";\n\t\tif (this.state.selected == true) {\n\t\t\tcardClassName = cardClassName + \" email-card-selected\";\n\t\t}\n\t\tconsole.log('email send scrool render author - ', this.props);\n\t\tlet consumerName = !this.props.author ? 'Неизвестен' :\n\t\t\t(!this.props.author.firstName || !this.props.author.lastName) ?\n\t\t\t'Пользователь с айди ' + this.props.author.id :\n\t\t\tthis.props.author.firstName + ' ' + this.props.author.lastName + ' (' + this.props.author.id + ')'\n\t\treturn (\n\t\t\t<div className={cardClassName} onClick={() => {\n\t\t\t\tconsole.log('this.state.author - ', this.state.author);\n\t\t\t\tif (this.props.handleClick) {\n\t\t\t\t\tthis.props.handleClick(this.state.author);\n\t\t\t\t}\n\t\t\t\tthis.handleClick();\n\t\t\t}}>\n\t        \t<p>{consumerName}</p>\n\t    \t</div>\n\t\t);\n\t}\n}\n\nexport default EmailSendScroll;\n","import React from 'react';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport Select from 'react-select';\nimport EmailDataMock from './data_mock/email-data-mock.js'\nimport EmailSendScroll from './email/email-send-scroll.js'\nimport { Redirect } from 'react-router-dom';\nimport { loadUsers, sendMessage, handleError } from './data-loader.js'\n\nconst mock = new EmailDataMock();\n\nclass EmailSendBody extends React.Component {\n\n  componentWillMount() {\n    handleError(\n      loadUsers((usersMap) => {\n        this.setState({\n          usersMap: usersMap\n        })\n      })\n    )\n  }\n\n  state = {\n    sended: false,\n    selectedMessage: null,\n    usersMap: null,\n    itemsRefs: []\n  };\n\n  handleClick = (author) => {\n    console.log('author selected - ', author);\n    this.setState({\n\n      selectedAthor: author\n    });\n  }\n\n  updateTheme = (evt) => {\n    this.setState({\n      themeInputValue: evt.target.value\n    });\n  }\n\n  updateBody = (evt) => {\n    this.setState({\n      bodyInputValue: evt.target.value\n    });\n  }\n\n  render() {\n    console.log('props in email sender body - ', this.props);\n    const { usersMap, sended, author } = this.state;\n\n    if (!usersMap) {\n      return <div></div>;\n    }\n    if (sended) {\n      return <Redirect to=\"/email\"/>;\n    }\n    let items = Array.from(usersMap.values()).map((it) => {\n      let ref = React.createRef();\n      this.state.itemsRefs.push(ref);\n      console.log('user for displaying - ', it);\n      return <EmailSendScroll author={it} ref={ref} handleClick={this.handleClick} />;\n    });\n\n    this.state.itemsRefs.forEach(it => {\n      if (it.current && this.state.selectedAthor !== it.current.state.author) {\n        it.current.selectedFalse();\n      }\n    });\n\n    return (\n      <section className=\"section\">\n\n        <h1 className=\"page-title\">Сообщения</h1>\n        <div className=\"content\">\n          <div className=\"main\">\n            <div className=\"email-send-main-left\">\n              <div className=\"email-send-main-left-header\"><p>Все</p></div>\n              <div className=\"email-scroll-view\">\n                {items}\n              </div>\n            </div>\n            <div className=\"main-right\">\n              <div onClick={() => {\n                if (!this.state.selectedAthor) {\n                  return;\n                }\n                let msgToSend = {\n                  supplier_id: this.props.auth.user.id,\n                  consumer_id: this.state.selectedAthor.id,\n                  title: this.state.themeInputValue,\n                  body: this.state.bodyInputValue\n                }\n                sendMessage(msgToSend, (response) => {\n                  this.setState({\n                    sended: true\n                  });\n                });\n              }}><a href=\"#\" className=\"square_btn\">Отправить</a></div>\n              <input className='email-theme-send-input' type='text' onChange={this.updateTheme} placeholder=\"Тема письма\"/>\n              <textarea className='email-body-send-input' type='text' onChange={this.updateBody} placeholder=\"Введите текст сообщения\"/>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default EmailSendBody;\n","import React from 'react';\n\nconst options = [\n  { value: 'course-one', label: '1 курс' },\n  { value: 'course-two', label: '2 курс' },\n  { value: 'course-three', label: '3 курс' },\n  { value: 'course-four', label: '4 курс' },\n  { value: 'course-five', label: '5 курс' },\n];\n\nconst personData = {\n\tfaculty: 'Факультет коммуникаций, медиа и дизайна : Дизайн',\n\tfirstName: 'Анастасия',\n\tlastName: 'Залесова',\n\tmidName: 'Дмитриевна',\n\troleDescription: 'Студент бакалавриата',\n\tcourse: 4\n};\n\nconst courseStats = {\n\trateCurrent: 18,\n\trateMax: 308,\n\tpercentile: 'P 5.52',\n\tpointAvg: 9.29\n};\n\nconst mapCourseModules = new Map([\n\t['course-one', ['one-module-one', 'one-module-two', 'one-module-three', 'one-module-four']],\n\t['course-two', ['two-module-one', 'two-module-two', 'two-module-three', 'two-module-four']],\n\t['course-three', ['three-module-one', 'three-module-two', 'three-module-three', 'three-module-four']],\n\t['course-four', ['four-module-one', 'four-module-two', 'four-module-three', 'four-module-four']],\n\t['course-five', ['five-module-one', 'five-module-two', 'five-module-three', 'five-module-four']]\n]);\n\nconst mapModuleDisciplines = new Map([\n\t['four-module-one', ['one-art-practic', 'one-art-theory', 'one-sub-atom-practic', 'one-sub-atom-theory']],\n\t['four-module-two', ['two-art-practic', 'two-art-theory', 'two-sub-atom-practic', 'two-sub-atom-theory']],\n\t['four-module-three', ['three-art-practic', 'three-art-theory', 'three-sub-atom-practic', 'three-sub-atom-theory']],\n\t['four-module-four', ['four-art-practic', 'four-art-theory', 'four-sub-atom-practic', 'four-sub-atom-theory']],\n]);\n\nconst mapModuleNames = new Map([\n\t['one-module-one', '1 модуль'],\n\t['one-module-two', '2 модуль'],\n\t['one-module-three', '3 модуль'],\n\t['one-module-four', '4 модуль'],\n\t['two-module-one', '1 модуль'],\n\t['two-module-two', '2 модуль'],\n\t['two-module-three', '3 модуль'],\n\t['two-module-four', '4 модуль'],\n\t['three-module-one', '1 модуль'],\n\t['three-module-two', '2 модуль'],\n\t['three-module-three', '3 модуль'],\n\t['three-module-four', '4 модуль'],\n\t['four-module-one', '1 модуль'],\n\t['four-module-two', '2 модуль'],\n\t['four-module-three', '3 модуль'],\n\t['four-module-four', '4 модуль'],\n\t['five-module-one', '1 модуль'],\n\t['five-module-two', '2 модуль'],\n\t['five-module-three', '3 модуль'],\n\t['five-module-four', '4 модуль']\n]);\n\nconst mapDisciplineData = new Map([\n\t['one-art-practic', {name: 'Арт-практика', tenPointSystem: 10, fivePointSystem: 5, retries: 0, lastTry: '29-10-2019', teacher: 'Харитонов З.Н.'}],\n\t['one-art-theory', {name: 'Арт-теория', tenPointSystem: 9, fivePointSystem: 5, retries: 1, lastTry: '29-09-2019', teacher: 'Харитонова З.Н.'}],\n\t['one-sub-atom-practic', {name: 'Субатом-практика', tenPointSystem: 8, fivePointSystem: 4, retries: 2, lastTry: '29-08-2019', teacher: 'Харитонов З.Н.'}],\n\t['one-sub-atom-theory', {name: 'Субатом-теория', tenPointSystem: 7, fivePointSystem: 4, retries: 3, lastTry: '29-07-2019', teacher: 'Харитоновав З.Н.'}],\n\t['two-art-practic', {name: 'Арт-практика', tenPointSystem: 10, fivePointSystem: 5, retries: 0, lastTry: '29-10-2019', teacher: 'Харитонов З.Н.'}],\n\t['two-art-theory', {name: 'Арт-теория', tenPointSystem: 9, fivePointSystem: 5, retries: 1, lastTry: '29-09-2019', teacher: 'Харитонова З.Н.'}],\n\t['two-sub-atom-practic', {name: 'Субатом-практика', tenPointSystem: 8, fivePointSystem: 4, retries: 2, lastTry: '29-08-2019', teacher: 'Харитонов З.Н.'}],\n\t['two-sub-atom-theory', {name: 'Субатом-теория', tenPointSystem: 7, fivePointSystem: 4, retries: 3, lastTry: '29-07-2019', teacher: 'Харитоновав З.Н.'}],\n\t['three-art-practic', {name: 'Арт-практика', tenPointSystem: 10, fivePointSystem: 5, retries: 0, lastTry: '29-10-2019', teacher: 'Харитонов З.Н.'}],\n\t['three-art-theory', {name: 'Арт-теория', tenPointSystem: 9, fivePointSystem: 5, retries: 1, lastTry: '29-09-2019', teacher: 'Харитонова З.Н.'}],\n\t['three-sub-atom-practic', {name: 'Субатом-практика', tenPointSystem: 8, fivePointSystem: 4, retries: 2, lastTry: '29-08-2019', teacher: 'Харитонов З.Н.'}],\n\t['three-sub-atom-theory', {name: 'Субатом-теория', tenPointSystem: 7, fivePointSystem: 4, retries: 3, lastTry: '29-07-2019', teacher: 'Харитоновав З.Н.'}],\n\t['four-art-practic', {name: 'Арт-практика', tenPointSystem: 10, fivePointSystem: 5, retries: 0, lastTry: '29-10-2019', teacher: 'Харитонов З.Н.'}],\n\t['four-art-theory', {name: 'Арт-теория', tenPointSystem: 9, fivePointSystem: 5, retries: 1, lastTry: '29-09-2019', teacher: 'Харитонова З.Н.'}],\n\t['four-sub-atom-practic', {name: 'Субатом-практика', tenPointSystem: 8, fivePointSystem: 4, retries: 2, lastTry: '29-08-2019', teacher: 'Харитонов З.Н.'}],\n\t['four-sub-atom-theory', {name: 'Субатом-теория', tenPointSystem: 7, fivePointSystem: 4, retries: 3, lastTry: '29-07-2019', teacher: 'Харитоновав З.Н.'}],\n]);\n\nclass StudentBookMock {\n\n\tgetPersonData() {\n\t\treturn personData;\n\t}\n\n\tgetCourseStats() {\n\t\treturn courseStats;\n\t}\n\n\toptions() {\n\t\treturn options;\n\t}\n\n\tgetModulesByCourseId(courseId) {\n\t\treturn mapCourseModules.get(courseId);\n\t}\n\n\tgetDisciplinesByModuleId(moduleId) {\n\t\treturn mapModuleDisciplines.get(moduleId);\n\t}\n\n\tgetDisciplineDataByDisciplineId(disciplineId) {\n\t\treturn mapDisciplineData.get(disciplineId);\n\t}\n\n\tgetModuleNamebyModuleId(moduleId) {\n\t\treturn mapModuleNames.get(moduleId);\n\t}\n}\n\nexport default StudentBookMock;","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport Select from 'react-select';\nimport StudentBookMock from './data_mock/student-book-data-mock.js';\nimport axios from 'axios'\nimport { loadAllDisciplines, loadUsersById, handleError, getHost } from './data-loader.js'\nimport { coursesMapProcessor } from './data-utils.js'\n\n\nconst mock = new StudentBookMock();\n\nclass StudentBookBody extends React.Component {\n\n  state = {\n    coursesMap: null,\n    selectedOption: null,\n    options: null\n  };\n\n  componentWillMount() {\n    handleError(\n      loadAllDisciplines((coursesMap) => {\n        this.setState({\n          coursesMap: coursesMap\n        });\n      }).then(response => axios.get(getHost() + \"/railsapp/marks.json\", {withCredentials: true}))\n        .then(response => {\n          let r = response.data;\n          console.log('marks - ', r);\n          let marks = new Set();\n          Array.from(this.state.coursesMap.values()).map(course => {\n            Array.from(course.modsMap.values()).map(modsVal => {\n              r.map(mark => {\n                let discipline = modsVal.disciplinesMap.get(mark.discipline_id);\n                if (discipline && !discipline.marks.includes(mark)) {\n                  marks.add(mark);\n                  discipline.marks.push(mark);\n                }\n              })\n            })\n            return course;\n          })\n          let rs = [];\n\n          for (let m of marks) {\n            if (!m.teacher_id) continue;\n            rs.push(m.teacher_id);\n          }\n          return loadUsersById(rs, (usersMap) => {\n            coursesMapProcessor(this.state.coursesMap, (course, mod, discipline) => {\n              for (let mark of discipline.marks) {\n                if (mark.teacher_id) {\n                  let user = usersMap.get(mark.teacher_id);\n                  if (user) {\n                    mark.teacherName = user.firstName + \" \" + user.lastName\n                  }\n                }\n              }\n            });\n\n            let options = Array.from(this.state.coursesMap.entries()).map(pair => {\n              return {\n                value: pair[1].courseId,\n                label: pair[1].courseName\n              }\n            });\n            console.log('options - ', options);\n            this.setState({\n              selectedOption: options[0],\n              options: options\n            })\n          });\n        })\n    )\n  }\n\n  handleChange = selectedOption => {\n    this.setState(\n      {\n        selectedOption\n      }\n    );\n  };\n\n  printTable() {\n    console.log('print table');\n    const input = document.getElementById('capture');\n    html2canvas(input).then((canvas) => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF();\n      pdf.addImage(imgData, 'PNG', 0, 0);\n      pdf.save(\"download.pdf\");\n    });\n  }\n\n  render(props) {\n    const { selectedOption, coursesMap } = this.state;\n    if (!selectedOption) {\n      return <div></div>;\n    }\n\n    let course = coursesMap.get(selectedOption.value);\n    let rows = [];\n    if (course) {\n      Array.from(course.modsMap.values()).map(mod => {\n        rows.push(tableRowTitle(mod.modName));\n        Array.from(mod.disciplinesMap.values()).map(discipline =>\n          rows.push(tableRowData(discipline))\n        )\n      })\n    }\n\n    return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Зачетка</h1></div>\n        <div className=\"student-book-combo-box-container\">\n          <Select\n            styles={{borderRadius: '14px'}}\n            value={selectedOption}\n            onChange={this.handleChange}\n            options={this.state.options}\n            classNamePrefix=\"student-book-combo-box\"\n          />\n        </div>\n      </div>\n      <div className=\"student-book-description-container\">\n        <div className=\"student-book-description-left\">\n          <div>Факультет коммуникаций, медиа и дизайна : Дизайн</div>\n          <div>Залесова Анастасия Дмитриевна</div>\n          <div>Студент бакалавриата, 4 курс</div>\n        </div>\n        <div className=\"student-book-description-right\">\n          <div><div className=\"student-book-description-paragraph\">Рейтинг:</div> {mock.getCourseStats().rateCurrent} из {mock.getCourseStats().rateMax}</div>\n          <div><div className=\"student-book-description-paragraph\">Перцентиль по программе:</div> {mock.getCourseStats().percentile}</div>\n          <div><div className=\"student-book-description-paragraph\">Средний балл:</div> {mock.getCourseStats().pointAvg}</div>\n        </div>\n      </div>\n      <div className=\"content\">\n        <table id=\"capture\" className=\"table-fill\">\n          <thead>\n            <tr>\n            <th className=\"text-left\" style={{width: '45%'}}>Дисциплина</th>\n            <th className=\"text-center\">10-ти бальная</th>\n            <th className=\"text-center\">5-ти бальная</th>\n            <th className=\"text-center\">Пересдачи</th>\n            <th className=\"text-center\">Последняя сдача</th>\n            <th className=\"text-center\">Преподаватель</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-hover\">\n            {rows}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n  }\n}\n\nfunction tableRowTitle(title) {\n  console.log('title - ', title);\n  return <tr><td className=\"text-left\" style={{color: '#007AFF'}} colSpan=\"6\">{title}</td></tr>;\n};\n\nfunction tableRowData(disciplineIn) {\n  let marks = disciplineIn.marks;\n  let marksLength = marks.length;\n  let marksMoreThanZero = marksLength > 0;\n  let tenPointSystemPoint = 0;\n  marks.map(m => tenPointSystemPoint += m.value);\n  tenPointSystemPoint = marksMoreThanZero ? tenPointSystemPoint / marksLength : 0;\n\n  let fivePointSystemPoint = marksMoreThanZero ? tenPointSystemPoint / 2 : 0;\n  for (let m of marks) {\n    if (m.teacherName) {\n      console.log('teacher name - ', m.teacherName);\n    }\n  }\n  let discipline = {\n    name: disciplineIn.disciplineName,\n    retries: marksLength > 0 ? marksLength - 1 : 0,\n    tenPointSystem: tenPointSystemPoint,\n    fivePointSystem: fivePointSystemPoint.toFixed(),\n    lastTry: marksMoreThanZero ? new Date(marks[marksLength - 1].created_at).toLocaleDateString(\"en-US\") : 'нет',\n    teacher: marksMoreThanZero ? marks[marksLength - 1].teacherName : null\n  };\n  return <tr>\n      <td className=\"text-left\">{discipline.name}</td>\n      <td className=\"text-center\">{discipline.tenPointSystem}</td>\n      <td className=\"text-center\">{discipline.fivePointSystem}</td>\n      <td className=\"text-center\">{discipline.retries}</td>\n      <td className=\"text-center\">{discipline.lastTry}</td>\n      <td className=\"text-center\">{discipline.teacher}</td>\n    </tr>;\n};\n\nexport default StudentBookBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction ChooseMinorBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Выбор майнора</h1></div>\n      </div>\n      <div className=\"content\">\n        <div style={{backgroundColor: '#FFFFFF', borderRadius: '8px'}}>\n          <p style={{\n            color: '#0579FF',\n            fontSize: '16px',\n            lineHeight: '19px',\n            letterSpacing: '-0.385882px',\n            textAlign: 'left',\n            marginLeft: '21px'\n          }}>Вы обучаетесь на майноре: 2016 Стартап: дизайн нового бизнеса</p>\n        </div>\n        <div style={{backgroundColor: '#FFFFFF', borderRadius: '8px', marginTop: '32px', display: 'flex', justifyItems: 'left'}}>\n          <img style={{\n            width: '20px',\n            height: '20px',\n            verticalAlign: 'middle',\n            display: 'inline-block',\n            paddingLeft: '10px',\n            marginTop: '15px',\n            marginBottom: '15px'\n          }} src='/warning.png'/>\n          <p style={{\n            textAlign: 'left',\n            display: 'inline-block',\n            color: '#E02020',\n            left: '25px',\n            fontSize: '16px',\n            lineHeight: '19px',\n            letterSpacing: '-0.385882px',\n            textAlign: 'left',\n            marginLeft: '10px',\n            verticalAlign: 'middle'\n          }}>Выбор майноров не доступен, по всем вопросам просьба обращаться в учебный офис.</p>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default ChooseMinorBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction ChooseCourseBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\" style={{\n          width: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          marginBottom: '40px'\n        }}>\n          <h1 style={{\n            position: 'relative',\n            width: '85%',\n            marginBottom: '0px'\n          }}>Курсы по выбору</h1>\n          <a href=\"#\" className=\"square_btn\" style={{\n            maxHeight: '20px',\n            width: '15%'\n          }}>Выбрать курс</a>\n        </div>\n      </div>\n      <div className=\"content\">\n        <div style={{\n          color: 'rgba(0, 0, 0, 0.5)', width: '100%',\n          textAlign: 'left', paddingLeft: '10px', paddingBottom: '10px'\n        }}>\n          Всего кредитов: <div style={{display: 'inline-block', color: '#000'}}>60</div>\n        </div>\n        <div style={{\n          color: 'rgba(0, 0, 0, 0.5)', width: '100%',\n          textAlign: 'left', paddingLeft: '10px', paddingBottom: '10px'\n        }}>\n          Выбрано кредитов: <div style={{display: 'inline-block', color: '#000'}}>0</div>\n        </div>\n        <div style={{color: 'rgba(0, 0, 0, 0.5)', width: '100%', textAlign: 'left', paddingLeft: '10px'}}>\n          Необходимо кредитов: <div style={{display: 'inline-block', color: '#000'}}>60</div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default ChooseCourseBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction PointYourCoursesBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Оцени свои курсы</h1></div>\n      </div>\n      <div className=\"content\">\n        <p style={{textAlign: 'left', color: 'rgba(0, 0, 0, 0.501967)'}}>\n          Уважаемый студент!<br/>\n          Вам предстоит принять участие в студенческой оценке качества преподавания.\n          Оценка проводится, чтобы студенты могли выразить свое мнение об организации\n          учебного процесса на своей образовательной программе, высказать предложения\n          по конкретным учебным дисциплинам и оставить комментарии касательно проведения\n          занятий преподавателями.\n          Результаты оценки учитываются руководством факультетов, департаментов и\n          кафедр при принятии решений об изменении содержания учебных курсов и\n          организации процесса обучения. Обратите внимание, что в соответствии с\n          Правилами внутреннего распорядка НИУ ВШЭ участие студентов в оценке качества\n          преподавания обязательно. Ваши ответы полностью анонимны, результаты\n          передаются руководству факультетов, департаментов, кафедр только в обобщенном виде.\n        </p>\n        <table id=\"capture\" className=\"table-fill\">\n          <thead>\n            <tr>\n            <th className=\"text-left\">Период</th>\n            <th className=\"text-left\">Дата начала</th>\n            <th className=\"text-left\">Дата окончания</th>\n            <th className=\"text-left\">Статус</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-hover\">\n            {tableRowData({\n              dateRange: '1 модуль 2019/2020 учебного года',\n              dateBegin: '20:00 30.09.2019 г. по московскому времени',\n              dateEnd: '23:59 20.10.2019 г. по московскому времени',\n              status: 'СОП завершен, анкета заполнена'\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n}\n\nfunction tableRowData(courseData) {\n  return <tr>\n      <td className=\"text-left\">{courseData.dateRange}</td>\n      <td className=\"text-left\" style={{color: '#007AFF'}}>{courseData.dateBegin}</td>\n      <td className=\"text-left\" style={{color: '#007AFF'}}>{courseData.dateEnd}</td>\n      <td className=\"text-left\">{courseData.status}</td>\n    </tr>;\n};\n\nexport default PointYourCoursesBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction PointColleaguesBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Оценка сотрудников</h1></div>\n      </div>\n      <div className=\"content\">\n        <p style={{textAlign: 'left', color: 'rgba(0, 0, 0, 0.501967)'}}>\n          Уважаемые коллеги!<br/>\n          В модуле «Оценка сотрудников» доступно оценивание работы сотрудников,\n          занимающихся организацией и сопровождением учебного процесса по\n          Вашей образовательной программе. Ниже представлен список периодов, в\n          рамках которых проводится оценка.Ваши ответы помогут улучшить администрирование\n          Вашей образовательной программы и очень важны для оценки качества работы сотрудников,\n          занимающихся сопровождением учебного процесса.\n        </p>\n        <table id=\"capture\" className=\"table-fill\">\n          <thead>\n            <tr>\n            <th className=\"text-left\">Период</th>\n            <th className=\"text-left\">Дата начала</th>\n            <th className=\"text-left\">Дата окончания</th>\n            <th className=\"text-left\">Статус</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-hover\">\n            {tableRowData({\n              dateRange: '1 модуль 2019/2020 учебного года',\n              dateBegin: '17:00 06.06.2019 г. по московскому времени',\n              dateEnd: '23:59 30.06.2019 г. по московскому времени',\n              status: 'СОП завершен, анкета заполнена'\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n}\n\nfunction tableRowData(pointColleaguesData) {\n  return <tr>\n      <td className=\"text-left\">{pointColleaguesData.dateRange}</td>\n      <td className=\"text-left\" style={{color: '#007AFF'}}>{pointColleaguesData.dateBegin}</td>\n      <td className=\"text-left\" style={{color: '#007AFF'}}>{pointColleaguesData.dateEnd}</td>\n      <td className=\"text-left\">{pointColleaguesData.status}</td>\n    </tr>;\n};\n\nexport default PointColleaguesBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction RelocationBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1 style={{paddingLeft: '0px'}}>Переезд из общежития</h1></div>\n      </div>\n      <div className=\"content\">\n        <p style={{textAlign: 'left', color: 'rgba(0, 0, 0, 0.501967)'}}>\n        Уважаемый студент!<br></br>\n        С 30 мая по 10 июня 2019 комиссия рассматривает заявки и по каждой заявке будет принято решение.\n        Если Вы подали заявку, Вы можете узнать решение по ней перейдя в карточку заявки.\n        </p>\n        <div style={{backgroundColor: '#fff', borderRadius: '8px', color: '#00D434', textAlign: 'left', paddingLeft: '21px'}}>\n          <p>Ваша заявка принята!</p>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default RelocationBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction VBMReqBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1 style={{paddingLeft: '0px'}}>Заявка на ВБМ</h1></div>\n      </div>\n      <div className=\"content\">\n        <p style={{textAlign: 'left', color: 'rgba(0, 0, 0, 0.501967)'}}>\n        Уважаемый студент!<br></br>\n        Не позднее 22 ноября 2019 комиссия рассматрит заявки, и по каждой заявке будет принято решение.\n        Если Вы подали заявку, Вы можете узнать решение по ней перейдя в карточку заявки.\n        </p>\n      </div>\n    </section>\n  );\n}\n\nexport default VBMReqBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction BkpKpBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Мои работы (ВКР/КР/Проект)</h1></div>\n      </div>\n      <div className=\"content\">\n        <table id=\"capture\" className=\"table-fill\">\n          <thead>\n            <tr>\n            <th className=\"text-left\">Календарный период</th>\n            <th className=\"text-left\">Тип работы</th>\n            <th className=\"text-left\">Тема</th>\n            <th className=\"text-left\">Тема на английском</th>\n            <th className=\"text-left\">Загружено</th>\n            <th className=\"text-left\">Процент заимствований</th>\n            <th className=\"text-left\">Статус проверки</th>\n            <th className=\"text-left\">Оценка</th>\n            <th className=\"text-left\">Отзыв</th>\n            <th className=\"text-left\">Рецензия</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-hover\">\n            {tableRowData({\n              dateRange: '2018/2019 учебный год',\n              jobType: 'Проект',\n              theme: '3 курс',\n              themeEng: '',\n              downloaded: 'Нет',\n              percentOrigin: '',\n              checkStatus: '',\n              point: '9',\n              review: '',\n              critique: '',\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n}\n\nfunction tableRowData(bkpKpData) {\n  return <tr>\n      <td className=\"text-left\">{bkpKpData.dateRange}</td>\n      <td className=\"text-left\">{bkpKpData.jobType}</td>\n      <td className=\"text-left\">{bkpKpData.theme}</td>\n      <td className=\"text-left\">{bkpKpData.themeEng}</td>\n      <td className=\"text-left\">{bkpKpData.downloaded}</td>\n      <td className=\"text-left\">{bkpKpData.percentOrigin}</td>\n      <td className=\"text-left\">{bkpKpData.checkStatus}</td>\n      <td className=\"text-left\">{bkpKpData.point}</td>\n      <td className=\"text-left\">{bkpKpData.review}</td>\n      <td className=\"text-left\">{bkpKpData.critique}</td>\n    </tr>;\n};\n\nexport default BkpKpBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction SupportBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1 style={{paddingLeft: '0px'}}>Служба поддержки</h1></div>\n      </div>\n      <div className=\"content\">\n        <p style={{textAlign: 'left', color:'#0579FF', fontWeight: 'bold'}}>Справочная документация</p>\n        <p style={{textAlign: 'left', color:'#0579FF', textDecoration: 'underline'}}><a href=\"#\">Справочные материалы. Оглавление.</a></p>\n        <p style={{textAlign: 'left', color:'#0579FF', textDecoration: 'underline'}}><a href=\"#\">Студентам</a></p>\n        <p style={{textAlign: 'left', color:'#0579FF', textDecoration: 'underline'}}><a href=\"#\">Преподавателям</a></p>\n\n        <p style={{textAlign: 'left', color:'#0579FF', fontWeight: 'bold'}}>Служба поддержки</p>\n        <p style={{textAlign: 'left', color:'#0579FF', textDecoration: 'underline'}}><a href=\"#\">Контакты</a></p>\n        <p style={{textAlign: 'left', color:'#0579FF', textDecoration: 'underline'}}><a href=\"#\">HelpDesk</a></p>\n      </div>\n    </section>\n  );\n}\n\nexport default SupportBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction ProfileBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1 style={{paddingLeft: '0px'}}>Профиль</h1></div>\n      </div>\n      <div className=\"content\">\n        <div style={{display: 'flex', flexDirection: 'row'}}>\n          <div style={{width: '385px', height: '516px', overflow: 'hidden'}}>\n            <img style={{width: '100%'}} src=\"https://images.unsplash.com/photo-1589832486359-f30f7326838b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=934&q=80\"></img>\n          </div>\n          <div>\n            <p style={{textAlign:'left', fontSize: '30px', fontWeight: 'bold', marginLeft: '66px', marginBottom: '42px', marginTop: '0px'}}>Факультет коммуникаций, медиа и дизайна : Дизайн</p>\n            <p style={{textAlign:'left', fontSize: '30px', fontWeight: 'bold', marginLeft: '66px', marginBottom: '42px', marginTop: '0px' }}>Залесова Анастасия Дмитриевна</p>\n            <p style={{textAlign:'left', fontSize: '30px', fontWeight: 'bold', marginLeft: '66px', marginBottom: '70px', marginTop: '0px' }}>Студент бакалавриата, 4 курс</p>\n            <p style={{textAlign:'left', fontSize: '30px', fontWeight: 'bold', marginLeft: '66px', marginBottom: '42px', marginTop: '0px', color: 'rgba(0, 0, 0, 0.5)' }}>Рейтинг: <div style={{color: '#000', display:'inline-block'}}>18 из 308</div></p>\n            <p style={{textAlign:'left', fontSize: '30px', fontWeight: 'bold', marginLeft: '66px', marginBottom: '42px', marginTop: '0px', color: 'rgba(0, 0, 0, 0.5)' }}>Перцентиль по программе:  <div style={{color: '#000', display:'inline-block'}}>P 5.52</div></p>\n            <p style={{textAlign:'left', fontSize: '30px', fontWeight: 'bold', marginLeft: '66px', marginBottom: '42px', marginTop: '0px', color: 'rgba(0, 0, 0, 0.5)' }}>Средний балл:  <div style={{color: '#000', display:'inline-block'}}>9.29</div></p>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default ProfileBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction PracticReqBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1 style={{paddingLeft: '0px'}}>Заявка на практику</h1></div>\n      </div>\n      <div className=\"content\">\n        <div style={{display: 'flex', flexDirection: 'row', backgroundColor: '#fff', borderRadius: '8px'}}>\n          <div style={{\n            width: '90%'\n          }}>\n            <p style={{textAlign:'left', color: 'rgba(0, 0, 0, 0.5)', marginLeft: '30px'}}>Тип практики: <div style={{color: '#000', display:'inline-block'}}>Производственная практика групповая</div></p>\n            <p style={{textAlign:'left', color: 'rgba(0, 0, 0, 0.5)', marginLeft: '30px'}}>Период: <div style={{color: '#000', display:'inline-block'}}>2019/2020 учебный год</div></p>\n          </div>\n          <a href=\"#\" className=\"square_btn\" style={{\n            width: '10%',\n            marginTop: '25px',\n            marginBottom: '25px',\n            marginRight: '30px'\n          }}>Выбрать</a>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default PracticReqBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction PGASReqBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1 style={{paddingLeft: '0px'}}>Заявка на ПГАС</h1></div>\n      </div>\n      <div className=\"content\">\n        <div style={{backgroundColor: '#fff', borderRadius: '8px'}}>\n          <div style={{\n            width: '100%'\n          }}>\n            <p style={{textAlign:'left', color: '#0579FF', marginLeft: '21px'}}>Повышенная Государственная Академическая Стипендия</p>\n          </div>\n        </div>\n        <div style={{display: 'flex', flexDirection: 'column', backgroundColor: '#fff', paddingLeft: '21px', paddingLeft: '21px', borderRadius: '8px', marginTop: '32px'}}>\n          <div style={{borderBottom: '1px solid #BBBBBF'}}>\n            <p style={{textAlign: 'left', marginBottom: '5px', fontSize: '16px'}}>«Научная деятельность»</p>\n            <p style={{textAlign: 'left', marginTop: '0px', fontSize: '16px', color: 'rgba(0, 0, 0, 0.5007)'}}>\n              Список журналов и издательств, публикации в которых не учитываются при назначении академических надбавок и в оценке публикационной активности: <a href='#' style={{color:'#0579FF', textDecoration: 'underline'}}>Blacklist</a>\n            </p>\n            <p style={{textAlign: 'left', marginBottom: '5px', fontSize: '16px'}}>«Спорт, Федерация»</p>\n            <p style={{textAlign: 'left', marginTop: '0px', fontSize: '16px', color: 'rgba(0, 0, 0, 0.5007)'}}>\n              Учитываются только мероприятия из \"Единого календарного плана межрегиональных, всероссийских и международных физкультурных мероприятий и спортивных мероприятий\": <a href='#' style={{color:'#0579FF', textDecoration: 'underline'}}>Calendar</a>\n            </p>\n          </div>\n          <div>\n            <p style={{textAlign: 'left', marginBottom: '5px', fontSize: '16px', color: 'rgba(0, 0, 0, 0.5007)'}}>\n            Список особо значимых для НИУ ВШЭ мероприятий (учитываются с коэффициентом 2): <a href='#' style={{color:'#0579FF', textDecoration: 'underline'}}>файл</a>\n            </p>\n            <p style={{textAlign: 'left', marginTop: '0px', fontSize: '16px', color: 'rgba(0, 0, 0, 0.5007)'}}>\n              Подтверждение мероприятий сотрудниками ЦПСИ: <a href='#' style={{color:'#0579FF', textDecoration: 'underline'}}>ссылка</a>\n            </p>\n            <p style={{textAlign: 'left', marginBottom: '5px', fontSize: '16px', color: 'rgba(0, 0, 0, 0.5007)'}}>\n            Подтверждение участия волонтеров в мероприятиях Дирекции по профессиональной ориентации и работе с одаренными учащимися:\n            </p>\n            <p style={{textAlign: 'left', marginTop: '0px', marginBottom: '5px', fontSize: '16px', color: 'rgba(0, 0, 0, 0.5007)'}}>\n            1) <a href='#' style={{color:'#0579FF', textDecoration: 'underline'}}>\"Список волонтеров\"</a>\n            </p>\n            <p style={{textAlign: 'left', marginTop: '0px', fontSize: '16px', color: 'rgba(0, 0, 0, 0.5007)'}}>\n            2) <a href='#' style={{color:'#0579FF', textDecoration: 'underline'}}>\"Сибириада\"</a>\n            </p>\n          </div>\n        </div>\n\n      </div>\n    </section>\n  );\n}\n\nexport default PGASReqBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nclass ThemesKPDKPBody extends React.Component {\n  state = {\n    position: 0\n  }\n  handleClick(state) {\n    this.setState({\n      position: state\n    })\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  render() {\n    console.log('kp-bkp themes', this.state);\n    if (this.state.position == 0) {\n      return (\n        <section className=\"section\">\n          <div className=\"student-book-header-container\">\n            <div className=\"student-book-page-title\"><h1 style={{paddingLeft: '0px'}}>Темы КР/ВКР</h1></div>\n          </div>\n          <div className=\"content\">\n            <div style={{display: 'flex', flexDirection: 'row', backgroundColor: '#fff', borderRadius: '8px'}}>\n              <div style={{\n                width: '90%'\n              }}>\n                <p style={{textAlign:'left', color: 'rgba(0, 0, 0, 0.5)', marginLeft: '30px'}}>Календарный период: <div style={{color: '#000', display:'inline-block'}}>2019/2020 учебный год 4 модуль</div></p>\n                <p style={{textAlign:'left', color: 'rgba(0, 0, 0, 0.5)', marginLeft: '30px'}}>Тип работы: <div style={{color: '#000', display:'inline-block'}}>ВКР</div></p>\n              </div>\n              <div onClick={() => this.handleClick(1)} className=\"square_btn\" style={{\n                width: '10%',\n                marginTop: '25px',\n                marginBottom: '25px',\n                marginRight: '30px'\n              }}>Выбрать</div>\n            </div>\n          </div>\n        </section>\n      );\n    } else if (this.state.position == 1) {\n      return (\n        <section className=\"section\">\n          <div className=\"student-book-header-container\">\n            <div className=\"student-book-page-title\" style={{display: 'flex', flexDirection: 'row', width: '100%'}}>\n              <h1 style={{paddingLeft: '0px', width: '90%'}}>Темы КР/ВКР</h1>\n              <div onClick={() => this.handleClick(2)} className=\"square_btn\" style={{\n                width: '10%',\n                margin: 'auto'\n              }}>Готово</div>\n            </div>\n          </div>\n          <div className=\"content\">\n            <p style={{textAlign: 'left', color: '#8E8E93', fontSize: '16px'}}>Тема</p>\n            <input\n              type=\"text\"\n              name=\"theme\"\n              onChange={this.handleChange}\n              style={{\n                backgroundColor: 'transparent',\n                border: '1px solid #0579FF',\n                height: '40px',\n                width: '100%',\n                borderRadius: '8px',\n                fontSize: '12px',\n                textIndent: '20px'\n              }}\n            />\n          </div>\n        </section>\n      );\n    } else if (this.state.position == 2) {\n      return (\n        <section className=\"section\">\n          <div className=\"student-book-header-container\">\n            <div className=\"student-book-page-title\" style={{display: 'flex', flexDirection: 'row', width: '100%'}}>\n              <h1 style={{paddingLeft: '0px'}}>Темы КР/ВКР</h1>\n            </div>\n          </div>\n          <div className=\"content\">\n            <div style={{backgroundColor: '#fff', borderRadius: '8px', color: '#0579FF', textAlign: 'left', paddingLeft: '21px'}}>\n              <p>Вы выбрали тему: {this.state.theme}</p>\n            </div>\n          </div>\n        </section>\n      );\n    }\n    return <div></div>;\n  }\n}\n\nexport default ThemesKPDKPBody;\n","import React, { Component } from 'react';\nimport axios from 'axios'\nimport {Link, Redirect} from 'react-router-dom'\nimport { getHost } from './data-loader.js'\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: '',\n      password: '',\n      errors: '',\n      loggedIn: false,\n      handleLogin: props.handleLogin,\n      handleLogout: props.handleLogout\n     };\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {login, password} = this.state\n    let user = {\n      login: login,\n      password: password\n    }\n\n    axios.post(getHost() + \"/railsapp/log_in\", {user}, {withCredentials: true})\n        .then(response => {\n          if (response.data.logged_in) {\n            this.state.handleLogin(response);\n            this.redirect()\n          } else {\n            this.setState({\n              errors: response.data.errors\n            })\n          }\n        })\n        .catch(error => console.log('api errors:', error))\n  };\n\n  redirect = () => {\n    this.setState({\n      loggedIn: true\n    });\n  }\n\n  handleErrors = () => {\n    return (\n      <div>\n        <ul>\n        {this.state.errors.map(error => {\n        return <li key={error}>{error}</li>\n          })}\n        </ul>\n      </div>\n    )\n  }\n\n  render() {\n    const {login, password, loggedIn} = this.state\n    if (loggedIn) {\n      console.log('logged in from login form');\n      return <Redirect to=\"/\"/>;\n    }\n    return (\n      <section className=\"section\">\n        <div className=\"content\">\n          <form onSubmit={this.handleSubmit} style={{\n            display: 'flex',\n            flexDirection: 'column',\n            width: '360px',\n            alignItems: 'center',\n            margin: 'auto'\n          }}>\n            <h1 className=\"page-title\" style={{marginLeft: 'inherit', paddingLeft: '0px', whiteSpace: 'nowrap'}}>Добро пожаловать <br></br>в LMS</h1>\n\n            <div style={{\n              width: '100%'\n            }}>\n              <p style={{\n                textAlign: 'left',\n                fontSize: '20px',\n                lineHeight: '16px',\n                color: '#000',\n                marginBottom: '12px',\n                fontWeight: 'bold'\n              }}>Войти</p>\n            </div>\n            <div style={{\n              width: '100%'\n            }}>\n              <p style={{\n                textAlign: 'left',\n                fontSize: '16px',\n                lineHeight: '16px',\n                color: '#8E8E93',\n                marginBottom: '12px'\n              }}>Логин</p>\n            </div>\n            <input\n              type=\"text\"\n              name=\"login\"\n              value={login}\n              onChange={this.handleChange}\n              style={{\n                backgroundColor: 'transparent',\n                border: '1px solid #8E8E93',\n                height: '40px',\n                width: '100%',\n                borderRadius: '8px',\n                fontSize: '12px',\n                textIndent: '20px'\n              }}\n            />\n            <div style={{\n              width: '100%'\n            }}>\n              <p style={{\n                textAlign: 'left',\n                fontSize: '16px',\n                lineHeight: '16px',\n                color: '#8E8E93',\n                marginBottom: '12px'\n              }}>Пароль</p>\n            </div>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n              style={{\n                backgroundColor: 'transparent',\n                border: '1px solid #8E8E93',\n                height: '40px',\n                width: '100%',\n                borderRadius: '8px',\n                fontSize: '12px',\n                textIndent: '20px'\n              }}\n            />\n           <button placeholder=\"submit\" type=\"submit\" className=\"square_btn\" style={{\n             width: '101%',\n             marginTop: '27px',\n             fontSize: '12px',\n             border: 'none'\n           }}>\n              Войти\n            </button>\n            <p>или</p>\n            <a href=\"/signup\" className=\"square_btn\" style={{\n              width: 'calc(100% - 58px)'\n            }}>создать аккаунт</a>\n\n          </form>\n          <div>\n            {this.state.errors ? this.handleErrors() : null}\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\nexport default Login;\n","import React, { Component } from 'react';\nimport axios from 'axios'\nimport {Link, Redirect} from 'react-router-dom'\nimport { getHost } from './data-loader.js'\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: '',\n      password: '',\n      password_confirmation: '',\n      errors: '',\n      loggedIn: false\n     };\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {login, password, password_confirmation} = this.state\n    let user = {\n      login: login,\n      password: password,\n      password_confirmation: password_confirmation\n    }\n    axios.post(getHost() + \"/railsapp/users\", {user}, {withCredentials: true})\n        .then(response => {\n          if (response.data.status === 'created') {\n            this.redirect()\n          } else {\n            this.setState({\n              errors: response.data.errors\n            })\n          }\n        })\n        .catch(error => console.log('api errors:', error))\n  };\n\n  redirect = () => {\n    this.setState({\n      loggedIn: true\n    });\n  }\n\n  handleErrors = () => {\n    return (\n      <div>\n        <ul>{this.state.errors.map((error) => {\n          return <li>key={error}>{error}</li>\n        })}\n        </ul>\n      </div>\n    )\n  }\n\n  render() {\n    const {login, password, password_confirmation, loggedIn} = this.state\n    if (loggedIn) {\n      console.log('logged in from login form');\n      return <Redirect to=\"/\"/>;\n    }\n    return (\n      <section className=\"section\">\n        <div className=\"content\">\n          <h1 className=\"page-title\">Добро пожаловать в LMS</h1>\n            <form onSubmit={this.handleSubmit} style={{\n              display: 'flex',\n              flexDirection: 'column',\n              width: '360px',\n              alignItems: 'center',\n              margin: 'auto'\n            }}>\n              <div style={{\n                width: '100%'\n              }}>\n                <p style={{\n                  textAlign: 'left',\n                  fontSize: '20px',\n                  lineHeight: '16px',\n                  color: '#000',\n                  marginBottom: '12px',\n                  fontWeight: 'bold'\n                }}>Зарегистрироваться</p>\n              </div>\n              <div style={{\n                width: '100%'\n              }}>\n                <p style={{\n                  textAlign: 'left',\n                  fontSize: '16px',\n                  lineHeight: '16px',\n                  color: '#8E8E93',\n                  marginBottom: '12px'\n                }}>Логин</p>\n              </div>\n              <input\n                type=\"text\"\n                name=\"login\"\n                value={login}\n                onChange={this.handleChange}\n                style={{\n                  backgroundColor: 'transparent',\n                  border: '1px solid #8E8E93',\n                  height: '40px',\n                  width: '100%',\n                  borderRadius: '8px',\n                  fontSize: '12px',\n                  textIndent: '20px'\n                }}\n              />\n              <div style={{\n                width: '100%'\n              }}>\n                <p style={{\n                  textAlign: 'left',\n                  fontSize: '16px',\n                  lineHeight: '16px',\n                  color: '#8E8E93',\n                  marginBottom: '12px'\n                }}>Пароль</p>\n              </div>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={this.handleChange}\n                style={{\n                  backgroundColor: 'transparent',\n                  border: '1px solid #8E8E93',\n                  height: '40px',\n                  width: '100%',\n                  borderRadius: '8px',\n                  fontSize: '12px',\n                  textIndent: '20px'\n                }}\n              />\n              <div style={{\n                width: '100%'\n              }}>\n                <p style={{\n                  textAlign: 'left',\n                  fontSize: '16px',\n                  lineHeight: '16px',\n                  color: '#8E8E93',\n                  marginBottom: '12px'\n                }}>Подтверждение</p>\n              </div>\n              <input\n                type=\"password\"\n                name=\"password_confirmation\"\n                value={password_confirmation}\n                onChange={this.handleChange}\n                style={{\n                  backgroundColor: 'transparent',\n                  border: '1px solid #8E8E93',\n                  height: '40px',\n                  width: '100%',\n                  borderRadius: '8px',\n                  fontSize: '12px',\n                  textIndent: '20px'\n                }}\n              />\n\n              <button placeholder=\"submit\" type=\"submit\" className=\"square_btn\" style={{\n                width: '101%',\n                marginTop: '27px',\n                fontSize: '12px',\n                border: 'none'\n              }}>\n                Создать\n              </button>\n\n            </form>\n          </div>\n        </section>\n    );\n  }\n}\nexport default Signup;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom'\n\nfunction Exit(props) {\n  return (\n    <Redirect to=\"/\"/>\n  );\n}\n\nexport default Exit;","import React from 'react';\nimport { render } from 'react-dom';\nimport { Route, Switch, BrowserRouter, useLocation, Redirect } from 'react-router-dom';\nimport Header from './js/header.js';\nimport Body from './js/body.js';\nimport CoursesBody from './js/courses-body.js';\nimport EmailBody from './js/email-body.js';\nimport EmailSendBody from './js/email-send-body.js';\nimport StudentBookBody from './js/student-book-body.js';\nimport ChooseMinorBody from './js/choose-minor.js'\nimport ChooseCourseBody from './js/choose-course.js'\nimport PointYourCoursesBody from './js/point-your-courses.js'\nimport PointColleaguesBody from './js/point-colleagues.js'\nimport RelocationBody from './js/relocation.js'\nimport VBMReqBody from './js/vbm-req.js'\nimport BkpKpBody from './js/bkp-kp.js'\nimport SupportBody from './js/support.js'\nimport ProfileBody from './js/profile.js'\nimport PracticReqBody from './js/practic-req.js'\nimport PGASReqBody from './js/pgas-req.js'\nimport ThemesKPDKPBody from './js/themes-KP-BKP.js'\nimport Login from './js/login.js'\nimport Signup from './js/signup.js'\nimport Exit from './js/exit.js';\nimport './css/index.css';\nimport ReactDOM from 'react-dom';\nimport Select from 'react-select';\nimport axios from 'axios'\nimport { getHost } from './js/data-loader.js'\nimport { createBrowserHistory } from \"history\";\n\nconst customHistory = createBrowserHistory();\nconst Context = React.createContext();\n\nconst initialState = {\n  auth: {\n    isLoggedIn: 0,\n    user: null\n  },\n  route: '/'\n}\n\nfunction reducer(state, action) {\n  console.log('update value', action);\n  switch(action.type) {\n    case 'updateValue':\n      return {\n        state,\n        auth: action.auth,\n        route: action.route\n      }\n    default:\n      return state\n  }\n}\n\nconst UserContextProvider = props => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  let location = useLocation();\n  // dispatch({type: 'updateValue', auth: state.auth, route: location.pathname});\n  console.log('context provider rendered', location);\n\n  const handleLogin = (response) => {\n    dispatch({type: 'updateValue', auth: {isLoggedIn: 1, user: response.data.user}, route: location.pathname});\n    // customHistory.push(\"/\");\n    console.log('user logged in - ', response.data);\n  };\n  const handleLogout = () => {\n    dispatch({type: 'updateValue', auth : {isLoggedIn: -1, user: null}, route: location.pathname});\n    console.log('user logged out', location.pathname);\n  };\n  console.log('state.auth - ', state.auth);\n  if (state.auth.isLoggedIn === 0) {\n    console.log('pathname - ', location.pathname);\n    let userResponse;\n    axios.get(getHost() + \"/railsapp/logged_in\", {withCredentials: true})\n      .then(response => {\n        userResponse = response;\n        if (userResponse.data.logged_in) {\n          return axios.get(getHost() + \"/railsapp/courses/\" + userResponse.data.user.course_id + \".json\", {withCredentials: true})\n        } else {\n          handleLogout();\n        }\n      })\n      .then(response => {\n        console.log(\"course response\", response);\n        userResponse.data.user.course = response.data;\n        handleLogin(userResponse);\n      })\n      .catch(error => {\n        console.log('api errors:', error);\n        handleLogout();\n      });\n  }\n  return (\n    <Context.Provider\n      value={{\n        auth: {\n          isLoggedIn: state.auth.isLoggedIn,\n          user: state.auth.user,\n          handleLogin: handleLogin,\n          handleLogout: handleLogout\n        },\n        route: state.route === '/login' ? '/' : location.pathname\n      }}\n    >\n      {props.children}\n    </Context.Provider>\n  );\n};\n\n\nclass App extends React.Component {\n\n  componentDidMount(){\n    document.title = \"LMS\"\n  }\n\n  loginForm(auth) {\n    console.log('login rendered');\n    customHistory.push(\"/login\");\n    return <div className=\"wrapper\">\n      <Login history={customHistory} handleLogin={auth.handleLogin} loggedInStatus={auth.isLoggedIn === 1}/>\n    </div>;\n  }\n\n  signupForm(auth) {\n    console.log('signup rendered');\n    customHistory.push(\"/signup\");\n    return <div className=\"wrapper\">\n      <Signup history={customHistory} handleLogin={auth.handleLogin} loggedInStatus={auth.isLoggedIn === 1}/>\n    </div>;\n  }\n\n  body(auth) {\n    return (\n      <div className=\"wrapper\">\n        <Header auth={auth} />\n        <Route exact path=\"/courses\" component={CoursesBody}/>\n        <Route exact path=\"/student-book\" component={StudentBookBody}/>\n        <Route exact path=\"/email\" render={props => (<EmailBody auth={auth}/>)}/>\n        <Route exact path=\"/email-send\" render={props => (<EmailSendBody auth={auth}/>)}/>\n        <Route exact path=\"/point-your-courses\" component={PointYourCoursesBody}/>\n        <Route exact path=\"/point-colleagues\" component={PointColleaguesBody}/>\n        <Route exact path=\"/choose-minor\" component={ChooseMinorBody}/>\n        <Route exact path=\"/choose-course\" component={ChooseCourseBody}/>\n        <Route exact path=\"/KP-BKP\" component={BkpKpBody}/>\n        <Route exact path=\"/themes-KP-BKP\" component={ThemesKPDKPBody}/>\n        <Route exact path=\"/relocation\" component={RelocationBody}/>\n        <Route exact path=\"/vbm-req\" component={VBMReqBody}/>\n        <Route exact path=\"/support\" component={SupportBody}/>\n        <Route exact path=\"/profile\" component={ProfileBody}/>\n        <Route exact path=\"/practic-req\" component={PracticReqBody}/>\n        <Route exact path=\"/req-pgas\" component={PGASReqBody}/>\n        <Route exact path=\"/\" render={props => (<Body auth={auth}/>)}/>\n        <Route exact path='/login' render={props => (<Login history={customHistory} handleLogin={auth.handleLogin} loggedInStatus={auth.isLoggedIn === 1}/>)}/>\n        <Route exact path='/signup' render={props => (<Signup history={customHistory} handleLogin={auth.handleLogin} loggedInStatus={auth.isLoggedIn === 1}/>)}/>\n      </div>\n    );\n  }\n\n  waitForLogin() {\n    return <div className=\"wrapper\">\n      <Header />\n      <p>Подождите...</p>\n    </div>\n  }\n\n  render() {\n    console.log('logged in', this.props);\n    console.log('logged in wlp', window.location.pathname);\n    if (this.props.auth.isLoggedIn === 1 && window.location.pathname === '/login') {\n      customHistory.push(\"/\");\n      return <Redirect to='/'/>\n    }\n\n    return this.props.auth.isLoggedIn === 1 ? this.body(this.props.auth) :\n      this.props.auth.isLoggedIn === 0 ? this.waitForLogin() :\n      this.props.route == '/signup' ? this.signupForm(this.props.auth) :\n      this.loginForm(this.props.auth);\n  }\n}\n\nApp.contextType = Context;\n\nexport default App;\n\nfunction Index(props) {\n  console.log('logged in', props);\n\n  return (\n    <BrowserRouter history={customHistory}>\n      <Switch>\n        <UserContextProvider>\n          <Context.Consumer>\n          {global => {\n            console.log('props - ', global);\n            return (\n              <>\n                <Route exact path=\"/exit\" component={Exit}/>\n                <Route path=\"/\" render={props => <App auth={global.auth} route={global.route}/>}/>\n              </>\n            );\n          }}\n          </Context.Consumer>\n        </UserContextProvider>\n      </Switch>\n    </BrowserRouter>\n  );\n\n}\n\n// ========================================\n\nrender(\n  <Index />,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}