{"version":3,"sources":["js/useDocumentScrollThrottled.js","js/header.js","js/news/news_piece.js","js/events/event.js","js/email/email.js","js/data-loader.js","js/body.js","js/data-utils.js","js/courses-body.js","js/data_mock/email-data-mock.js","js/email/email-scroll.js","js/email-body.js","js/email/email-send-scroll.js","js/email-send-body.js","js/data_mock/student-book-data-mock.js","js/student-book-body.js","js/choose-minor.js","js/choose-course.js","js/point-your-courses.js","js/point-colleagues.js","js/bkp-kp.js","js/login.js","js/signup.js","js/exit.js","index.js"],"names":["useDocumentScrollThrottled","callback","useState","setScrollPosition","previousScrollTop","handleDocumentScrollThrottled","throttle","currentScrollTop","document","documentElement","body","scrollTop","previousPosition","useEffect","window","addEventListener","removeEventListener","Header","props","console","log","shouldHideHeader","setShouldHideHeader","shouldShowShadow","setShouldShowShadow","shoundShowAllSections","setShoundShowAllSections","callbackData","isScrolledDown","isMinimumScrolled","setTimeout","shadowStyle","hiddenStyle","allSectionsStyle","auth","className","onMouseLeave","href","type","placeholder","required","path","children","match","id","onMouseEnter","style","color","src","user","course_id","to","courseNumber","result","push","chooseColumn","requestColumn","NewsPiece","title","time","dangerouslySetInnerHTML","__html","content","Event","typeValue","typeColor","image","header","background","Email","author","status","loadAllDisciplines","handleResult","coursesMap","Map","axios","get","withCredentials","then","response","data","map","it","set","courseId","courseName","name","modsMap","course","modId","modName","disciplinesMap","r","Array","from","values","val","d","mod","mod_id","disciplineId","disciplineName","marks","handleError","promise","catch","error","loadUsersById","userIds","usersMap","all","spread","responses","forEach","a","fetch","json","timeSince","Date","description","date","seconds","Math","floor","interval","Body","state","news","eventsMap","fetchNews","setState","events","item","has","items","this","slice","event","tag","toUpperCase","imageUrl","React","Component","coursesMapProcessor","handleArguments","discipline","CoursesBody","selectedOption","selectedContent","handleChange","handleClick","selectedContentKey","newSelectedContent","value","found","materials","material","url","coursesMapTmp","discipline_id","options","entries","pair","label","mats","key","onClick","styles","borderRadius","onChange","classNamePrefix","height","folders","messages","isNew","authors","login","EmailDataMock","folderId","EmailScroll","selected","message","selectedFalse","cardClassName","supplierName","supplier","firstName","lastName","new","created_at","mock","EmailBody","getFolders","selectedMessage","foldersMap","itemsRefs","foldersMapTmp","currentUser","messagesMap","msg","supplier_id","consumer_id","loadMessages","users","Set","folder","add","consumer","ref","createRef","current","EmailSendScroll","consumerName","EmailSendBody","sended","selectedAthor","updateTheme","evt","themeInputValue","target","updateBody","bodyInputValue","loadUsers","msgToSend","post","email","personData","faculty","midName","roleDescription","courseStats","rateCurrent","rateMax","percentile","pointAvg","mapCourseModules","mapModuleDisciplines","mapModuleNames","mapDisciplineData","tenPointSystem","fivePointSystem","retries","lastTry","teacher","moduleId","StudentBookBody","modsVal","mark","includes","rs","m","teacher_id","teacherName","input","getElementById","html2canvas","canvas","imgData","toDataURL","pdf","jsPDF","addImage","save","rows","colSpan","disciplineIn","marksLength","length","marksMoreThanZero","tenPointSystemPoint","fivePointSystemPoint","toFixed","toLocaleDateString","tableRowData","getCourseStats","width","ChooseMinorBody","backgroundColor","fontSize","lineHeight","letterSpacing","textAlign","marginLeft","marginTop","display","justifyItems","verticalAlign","paddingLeft","marginBottom","left","ChooseCourseBody","alignItems","position","maxHeight","paddingBottom","PointYourCoursesBody","courseData","dateRange","dateBegin","dateEnd","PointColleaguesBody","pointColleaguesData","BkpKpBody","bkpKpData","jobType","theme","themeEng","downloaded","percentOrigin","checkStatus","point","review","critique","Login","handleSubmit","preventDefault","password","logged_in","handleLogin","redirect","errors","loggedIn","handleErrors","handleLogout","onSubmit","flexDirection","margin","fontWeight","border","textIndent","Signup","password_confirmation","Exit","customHistory","createBrowserHistory","Context","createContext","initialState","isLoggedIn","route","reducer","action","UserContextProvider","useReducer","dispatch","location","useLocation","userResponse","pathname","Provider","App","history","loggedInStatus","exact","component","render","waitForLogin","signupForm","loginForm","contextType","Index","Consumer","global","querySelector"],"mappings":"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","file":"static/js/main.c546b579.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport { throttle } from 'lodash';\n\nfunction useDocumentScrollThrottled(callback) {\n  const [, setScrollPosition] = useState(0);\n  let previousScrollTop = 0;\n\n  const handleDocumentScrollThrottled = throttle(handleDocumentScroll, 250);\n\n  function handleDocumentScroll() {\n    const { scrollTop: currentScrollTop } = document.documentElement || document.body;\n\n    setScrollPosition(previousPosition => {\n      previousScrollTop = previousPosition;\n      return currentScrollTop;\n    });\n\n    callback({ previousScrollTop, currentScrollTop });\n  }\n\n  useEffect(() => {\n    window.addEventListener('scroll', handleDocumentScrollThrottled);\n\n    return () =>\n      window.removeEventListener('scroll', handleDocumentScrollThrottled);\n  }, []);\n}\n\nexport default useDocumentScrollThrottled;","import React, { useState } from 'react';\nimport { Route, Link} from 'react-router-dom';\n\nimport useDocumentScrollThrottled from './useDocumentScrollThrottled.js';\n\nfunction Header(props) {\n  console.log(\"header props - \", props);\n  const [shouldHideHeader, setShouldHideHeader] = useState(false);\n  const [shouldShowShadow, setShouldShowShadow] = useState(false);\n  const [shoundShowAllSections, setShoundShowAllSections] = useState(false);\n\n  const MINIMUM_SCROLL = 80;\n  const TIMEOUT_DELAY = 400;\n\n  useDocumentScrollThrottled(callbackData => {\n    const { previousScrollTop, currentScrollTop } = callbackData;\n    const isScrolledDown = previousScrollTop < currentScrollTop;\n    const isMinimumScrolled = currentScrollTop > MINIMUM_SCROLL;\n\n    setShouldShowShadow(currentScrollTop > 2);\n\n    setTimeout(() => {\n      setShouldHideHeader(isScrolledDown && isMinimumScrolled);\n    }, TIMEOUT_DELAY);\n  });\n\n  const shadowStyle = shouldShowShadow ? 'shadow' : '';\n  const hiddenStyle = shouldHideHeader ? 'hidden' : '';\n  const allSectionsStyle = shoundShowAllSections && !shouldHideHeader ? 'header-all-sections' : 'header-all-sections-hidden';\n  console.log('hover?', allSectionsStyle);\n  if (!props.auth) {\n    return <div></div>;\n  }\n  return (\n    <header className={`header ${shadowStyle} ${hiddenStyle}`} onMouseLeave={() => {setShoundShowAllSections(false)}}>\n      <div className=\"logo\"><a href=\"/\">LMS</a></div>\n      <div className=\"flexbox\">\n        <div className=\"search\">\n          <div>\n            <input type=\"text\" placeholder=\"       Search . . .\" required></input>\n          </div>\n        </div>\n      </div>\n      <ul className=\"links\">\n        <Route path=\"/courses\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"my-courses\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/courses\" style={{color: '#000'}}>Мои курсы</a></li> :\n            <li className=\"link-item\" id=\"my-courses\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/courses\">Мои курсы</a></li>\n        )}/>\n        <Route path=\"/student-book\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"student-book\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/student-book\" style={{color: '#000'}}>Зачетка</a></li> :\n            <li className=\"link-item\" id=\"student-book\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/student-book\">Зачетка</a></li>\n        )}/>\n        <Route path=\"/schedule\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"schedule\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/schedule\" style={{color: '#000'}}>Расписание</a></li> :\n            <li className=\"link-item\" id=\"schedule\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/schedule\">Расписание</a></li>\n        )}/>\n        <Route path=\"/all-sections\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"all-sections\" onMouseEnter={() => {setShoundShowAllSections(true)}}><a href=\"/all-sections\" style={{color: '#000'}}>Все разделы</a></li> :\n            <li className=\"link-item\" id=\"all-sections\" onMouseEnter={() => {setShoundShowAllSections(true)}}><a href=\"/all-sections\">Все разделы</a></li>\n        )}/>\n        <Route path=\"/chat\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"chat\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/email\" style={{color: '#000'}}><img src=\"chat.png\"></img></a></li> :\n            <li className=\"link-item\" id=\"chat\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/email\"><img src=\"chat.png\"></img></a></li>\n        )}/>\n        <Route path=\"/profile\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"profile\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/profile\" style={{color: '#000'}}><img src=\"profile.png\"></img></a></li> :\n            <li className=\"link-item\" id=\"profile\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/profile\"><img src=\"profile.png\"></img></a></li>\n        )}/>\n        <Route path=\"/exit\" children={(props) => (\n          props.match ?\n            <li className=\"link-item\" id=\"exit\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/exit\" style={{color: '#000'}}>Выйти</a></li> :\n            <li className=\"link-item\" id=\"exit\" onMouseEnter={() => {setShoundShowAllSections(false)}}><a href=\"/exit\">Выйти</a></li>\n        )}/>\n      </ul>\n      <div className={`${allSectionsStyle}`} onMouseEnter={() => {setShoundShowAllSections(true)}} onMouseLeave={() => {setShoundShowAllSections(false)}}>\n        <div className=\"header-all-sections-container\">\n          <div className=\"header-all-sections-column\">\n            {pointColumn(props.auth.user.course_id)}\n          </div>\n          <div className=\"header-all-sections-column\">\n            {chooseColumn(props.auth.user.course_id)}\n          </div>\n          <div className=\"header-all-sections-column\">\n            {requestColumn(props.auth.user.course_id)}\n          </div>\n          <div className=\"header-all-sections-column\">\n            {helpColumn()}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}\n\nfunction pointColumn(courseNumber) {\n  return (<><div className=\"header-all-sections-card\">НЕ ЗАБУДЬ ОЦЕНИТЬ</div>\n  <Link to=\"/point-your-courses\">\n    <div className=\"header-all-sections-card\">\n      <div className=\"header-all-sections-icon\"><img src=\"/point-your-courses.png\"/></div>\n      <div className=\"header-all-sections-title\"><p>Оцени свои курсы</p></div>\n    </div>\n  </Link>\n  <Link to=\"/point-colleagues\">\n    <div className=\"header-all-sections-card\">\n      <div className=\"header-all-sections-icon\"><img src=\"/point-colleagues.png\"/></div>\n      <div className=\"header-all-sections-title\"><p>Оценка сотрудников</p></div>\n    </div>\n  </Link></>);\n}\n\nfunction chooseColumn(courseNumber) {\n  let result = [];\n  let courseNumberBetweenOneFour = courseNumber > 1 && courseNumber < 4;\n\n  if (courseNumberBetweenOneFour) {\n    result.push(<Link to=\"/choose-minor\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/choose-minor.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Выбор майнора</p></div>\n      </div>\n    </Link>);\n  }\n  if (courseNumber > 0) {\n    result.push(<Link to=\"/choose-course\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/choose-course.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Курсы по выбору</p></div>\n      </div>\n    </Link>);\n  }\n  if (courseNumber > 1) {\n    result.push(<Link to=\"/themes-KP-BKP\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/themes-KP-BKP.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Темы KP/BKP</p></div>\n      </div>\n    </Link>);\n  }\n  if (courseNumber > 1) {\n    result.push(<Link to=\"/KP-BKP\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/KP-BKP.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>KP/BKP</p></div>\n      </div>\n    </Link>);\n  }\n  console.log(\"choose courseNumber\", courseNumber);\n  return (<><div className=\"header-all-sections-card\">ВЫБОР ДИСЦИПЛИН И ТЕМ</div>\n  {result}\n  </>);\n}\n\nfunction requestColumn(courseNumber) {\n  let result = [];\n\n  if (courseNumber > 0) {\n    result.push(<Link to=\"/req-pgas\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/req-pgas.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Заявка на ПГАС</p></div>\n      </div>\n    </Link>);\n    result.push(<Link to=\"/transfer\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/transfer.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Перевод</p></div>\n      </div>\n    </Link>);\n  }\n  if (courseNumber > 2) {\n    result.push(<Link to=\"/relocation\">\n        <div className=\"header-all-sections-card\">\n          <div className=\"header-all-sections-icon\"><img src=\"/relocation.png\"/></div>\n          <div className=\"header-all-sections-title\"><p>Переезд из общежития</p></div>\n        </div>\n      </Link>);\n  }\n  if (courseNumber > 3) {\n    result.push(<Link to=\"/practic-req\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/practic-req.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Заявка на практику</p></div>\n      </div>\n    </Link>);\n  }\n  if (courseNumber > 1) {\n    result.push(<Link to=\"/vbm-req\">\n      <div className=\"header-all-sections-card\">\n        <div className=\"header-all-sections-icon\"><img src=\"/vbm-req.png\"/></div>\n        <div className=\"header-all-sections-title\"><p>Заявка на ВБМ</p></div>\n      </div>\n    </Link>);\n  }\n  return (<><div className=\"header-all-sections-card\">ЗАЯВКИ</div>\n    {result}\n  </>);\n}\n\nfunction helpColumn() {\n  return (<><div className=\"header-all-sections-card\">ПОМОЩЬ</div>\n  <Link to=\"/support\">\n    <div className=\"header-all-sections-card\">\n      <div className=\"header-all-sections-icon\"><img src=\"/support.png\"/></div>\n      <div className=\"header-all-sections-title\"><p>Служба поддержки</p></div>\n    </div>\n  </Link></>);\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction NewsPiece(props) {\n  return (\n  \t<div className=\"card-box\">\n      <div className=\"news-piece-card-header\">\n        <div className=\"news-piece-card-title\">\n          <h2>{props.title}</h2>\n        </div>\n        <div className=\"news-piece-card-time\"><p>{props.time}</p></div>\n      </div>\n      <div className=\"news-piece-card-content\">\n      <p dangerouslySetInnerHTML={{__html: props.content}}></p>\n      </div>\n    </div>\n  );\n}\n\nexport default NewsPiece;\n","import React from 'react';\n\nfunction Event(props) {\n  let typeValue = null;\n  let typeColor = null;\n  switch (props.type) {\n    case 'EVENT':\n      typeValue = 'МЕРОПРИЯТИЕ';\n      typeColor = '#0579FF';\n      break;\n    case 'DEADLINE':\n      typeValue = 'ДЕДЛАЙН';\n      typeColor = '#FF4701';\n      break;\n  }\n  return (\n  \t<div className=\"card-box\">\n      <div className=\"events-card-img\">\n        <img src={props.image}></img>\n      </div>\n      <div className=\"events-card-header\">\n        <h3>{props.header}</h3>\n      </div>\n      <div className=\"events-card-content\">\n        <p>{props.content}</p>\n      </div>\n      <div className=\"events-card-type\" style={{background: typeColor}}>\n        <p>{typeValue}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Event;","import React from 'react';\n\nfunction Email(props) {\n  return (\n  \t<div className=\"email-card-box\">\n      <div className=\"email-card-header\">\n        <div className=\"email-card-author\"><p>{props.author}</p></div>\n        <div className=\"email-card-status-time\">\n          {props.status == 'NEW' && <div className=\"email-card-status\"></div>}\n          <div className=\"email-card-time\"><p>{props.time}</p></div>\n        </div>\n      </div>\n      <div className=\"email-card-title\">\n        <h3>{props.title}</h3>\n      </div>\n      <div className=\"email-card-content\">\n        <p>{props.content}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default Email;","import React from 'react';\nimport axios from 'axios'\n\nexport function loadMessages(currentUser, handleResult) {\n  let foldersMap = new Map([]);\n  foldersMap.set('income', {\n    name: 'Входящие',\n    messagesMap: new Map([])\n  });\n  foldersMap.set('outcome', {\n    name: 'Исходящие',\n    messagesMap: new Map([])\n  });\n  return axios.get('http://localhost:3000/railsapp/emails.json', {withCredentials: true})\n    .then(response => {\n      response.data.forEach(msg => {\n        if (msg.supplier_id === currentUser.id) {\n          foldersMap.get('outcome').messagesMap.set(msg.id, msg);\n        }\n        if (msg.consumer_id === currentUser.id) {\n          foldersMap.get('income').messagesMap.set(msg.id, msg);\n        }\n      });\n\n      handleResult(foldersMap);\n    })\n}\n\nexport function loadAllDisciplines(handleResult) {\n  let coursesMap = new Map([]);\n  return axios.get('http://localhost:3000/railsapp/courses.json', {withCredentials: true})\n    .then(response => {\n      console.log('resp courses - ', response);\n      response.data.map(it => coursesMap.set(it.id, {\n        courseId: it.id,\n        courseName: it.name,\n        modsMap: new Map([])\n      }));\n      return axios.get('http://localhost:3000/railsapp/mods.json', {withCredentials: true})\n    })\n    .then(response => {\n      console.log('resp mods - ', response);\n      response.data.map(it => {\n        let course = coursesMap.get(it.course_id);\n        console.log('course in mods processor - ', course);\n\n        if (course) {\n          course.modsMap.set(it.id, {\n            modId: it.id,\n            modName: it.name,\n            disciplinesMap: new Map([])\n          })\n        }\n      })\n      return axios.get('http://localhost:3000/railsapp/disciplines.json', {withCredentials: true})\n    })\n    .then(response => {\n      let r = response.data;\n      Array.from(coursesMap.values()).map(val => {\n        r.map(d => {\n          let mod = val.modsMap.get(d.mod_id);\n          if (mod) {\n            mod.disciplinesMap.set(d.id, {\n              disciplineId: d.id,\n              disciplineName: d.name,\n              marks: []\n            })\n          }\n        })\n      })\n      console.log('resp disceps - ', response);\n      handleResult(coursesMap);\n    })\n}\n\nexport function handleError(promise) {\n  return promise.catch(error => console.log('api errors:', error));\n}\n\nexport function loadUsersById(userIds, handleResult) {\n  let usersMap = new Map([]);\n  let r = [];\n  for (let id of userIds) {\n    r.push(axios.get(\"http://localhost:3000/railsapp/users/\" + id + \".json\", {withCredentials: true}));\n  }\n  return axios.all(r)\n    .then(axios.spread((...responses) => {\n      responses.forEach(r => {\n        usersMap.set(r.data.id, r.data);\n      })\n      handleResult(usersMap);\n    }));\n}\n\nexport function loadUsers(handleResult) {\n  let usersMap = new Map([]);\n  return axios.get(\"http://localhost:3000/railsapp/users.json\", {withCredentials: true})\n    .then(response => {\n      response.data.forEach(user => {\n        usersMap.set(user.id, user);\n      })\n      handleResult(usersMap);\n    });\n}\n\nexport function sendMessage(message, handleResult) {\n  return axios.post(\"http://localhost:3000/railsapp/emails.json\", {email: message}, {withCredentials: true})\n    .then(response => {\n      handleResult(response);\n    })\n}\n\nexport function loadEvents(handleResult) {\n  return axios.get(\"http://localhost:3000/railsapp/events.json\", {withCredentials: true})\n    .then(response => {\n      handleResult(response.data);\n    })\n}\n","import React from 'react';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport { loadEvents, handleError } from './data-loader.js'\n\nclass Body extends React.Component {\n  state = {\n    news: null,\n    eventsMap: null\n  };\n\n  componentDidMount () {\n    fetchNews().then(result => {\n      console.log('result - ', result);\n      this.setState({news: result});\n    });\n    handleError(\n      loadEvents((events) => {\n        let eventsMap = new Map([]);\n        console.log('events - ', events);\n        events.forEach(item => {\n          if (eventsMap.has(item.course_id)) {\n            eventsMap.get(item.course_id).push(item);\n          } else {\n            let items = [];\n            items.push(item);\n            eventsMap.set(item.course_id, items);\n          }\n        });\n        this.setState({\n          eventsMap: eventsMap\n        });\n\n      })\n    )\n  }\n\n  render() {\n    console.log(\"body props - \", this.props);\n    if (!this.state.eventsMap) {\n      return <div></div>;\n    }\n    return (\n      <section className=\"section\">\n        <div className=\"content\">\n          <h1 className=\"page-title\">Главная</h1>\n          <div>\n            <div className=\"cards-header\"><h2>Новости</h2></div>\n            <div className=\"cards-link-see-all\"><a href=\"\">Смотреть все</a></div>\n            <div className=\"cards\">\n              {this.state.news && this.state.news.slice(0, 3)}\n            </div>\n          </div>\n          <div>\n            <div className=\"cards-header\"><h2>События</h2></div>\n            <div className=\"cards-link-see-all\"><a href=\"\">Смотреть все</a></div>\n            <div className=\"cards\">\n              {events(this.state.eventsMap, this.props.auth.user.course_id)}\n            </div>\n          </div>\n          <div>\n            <div className=\"cards-header\"><h2>Сообщения</h2></div>\n            <div className=\"cards-link-see-all\"><a href=\"\">Смотреть все</a></div>\n            <div className=\"cards\">\n              <Email\n                  author=\"Михайлова А.В.\"\n                  status=\"NEW\"\n                  time=\"19 июн 2019, 10:49:44\"\n                  title=\"О критериях оценки питча\"\n                  content=\"В ЛМС, в папке &quot;Материалы&quot; доступна презентация семинара №9 с критериями оценки питча. С Уважением, Алёшина Т.А. менеджер кафедры менеджмента инноваций НИУ ВШЭ\"\n              ></Email>\n              <Email\n                  author=\"Алёшина Т.А.\"\n                  status=\"OLD\"\n                  time=\"28 май 2019, 13:08:28\"\n                  title=\"Изменения в расписании 30 мая\"\n                  content=\"Обращаем внимание, в связи с командировкой преподавателей Лодышкина и Коновалюк и конференцией у Ярцева, внесены изменения в расписание майнора - 30 мая. Обновленное расписание можно найти на сайте Областной Думы Сахалина. С Уважением, Алёшина Т.А. менеджер кафедры менеджмента инноваций НИУ ВШЭ\"\n              ></Email>\n              <Email\n                  author=\"Алёшина Т.А.\"\n                  status=\"OLD\"\n                  time=\"20 май 2019, 15:16:07\"\n                  title=\"Данные по посещению лекций в весеннем семестре\"\n                  content=\"Как и договаривались, во вложении высылаем файл с баллами за посещаемость лекций в текущем семестре (3 и 4 модули). Полный свод данных по посещению лекций будет готов осле 6 июня - последняя лекция у Данте Владимира Владимировича. Просьба написать объяснительную в деканат по пропускам. С Уважением, Алёшина Т.А. менеджер кафедры менеджмента инноваций НИУ ВШЭ\"\n              ></Email>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nfunction events(eventsMap, courseNumber) {\n  let events = eventsMap.get(courseNumber);\n  return events.map(event => <Event\n        header={event.title}\n        content={event.description}\n        type={event.tag.toUpperCase()}\n        image={event.imageUrl}\n    />);\n}\n\nasync function fetchNews() {\n  return fetch('http://localhost:3000/railsapp/news_pieces.json')\n    .then(response => response.json())\n    .then(data => {\n      console.log('data - ', data);\n      return data.map(it => <NewsPiece\n            title={it.title}\n            time={timeSince(new Date(it.time))}\n            content={it.description}\n          ></NewsPiece>);\n    });\n}\n\nfunction timeSince(date) {\n\n  var seconds = Math.floor((new Date() - date) / 1000);\n\n  var interval = Math.floor(seconds / 31536000);\n\n  if (interval > 1) {\n    return interval + \" лет\";\n  }\n  interval = Math.floor(seconds / 2592000);\n  if (interval > 1) {\n    return interval + \" месяцев\";\n  }\n  interval = Math.floor(seconds / 86400);\n  if (interval > 1) {\n    return interval + \" дней\";\n  }\n  interval = Math.floor(seconds / 3600);\n  if (interval > 1) {\n    return interval + \" часов\";\n  }\n  interval = Math.floor(seconds / 60);\n  if (interval > 1) {\n    return interval + \" минут\";\n  }\n  return Math.floor(seconds) + \" секунд\";\n}\n\nexport default Body;\n","import React from 'react';\n\nexport function coursesMapProcessor(coursesMap, handleArguments) {\n  Array.from(coursesMap.values()).map(course => {\n    Array.from(course.modsMap.values()).map(mod => {\n      Array.from(mod.disciplinesMap.values()).map(discipline => {\n        handleArguments(course, mod, discipline);\n      })\n    })\n  })\n}\n","import React from 'react';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport Select from 'react-select';\nimport axios from 'axios'\nimport { loadAllDisciplines, handleError } from './data-loader.js'\nimport { coursesMapProcessor } from './data-utils.js'\n\nconst dataMap = new Map([\n  ['course-one', new Map([])],\n  ['course-two', new Map([])],\n  ['course-three', new Map([])],\n  ['course-four', new Map([\n    ['Дизайн, Бакалавриат, 4 курс', 'https://drive.google.com/file/d/1sBtDeEN_2jwG8WdcfMmWD81RQvC2C6mv/preview'],\n    ['Contemporary Design 2019 уч. год 4 курс (код 11345)', 'https://drive.google.com/file/d/1JuJ4vcLPheMCbHqR-YWTJ6DOatD2Y26B/preview'],\n    ['Академическое письмо на английском языке 2019 уч. год Б 4 курс (код 113453)', 'https://drive.google.com/file/d/1Zvi1l0hvCynYJhPXt8nRcW6FTKTT7X7k/preview']\n  ])],\n  ['course-five', new Map([])]\n]);\n\nclass CoursesBody extends React.Component {\n\n  componentWillMount() {\n    let coursesMapTmp;\n    handleError(\n      loadAllDisciplines((coursesMap) => {\n        coursesMapTmp = coursesMap;\n      }).then(response => axios.get('http://localhost:3000/railsapp/materials.json', {withCredentials: true}))\n        .then(response => {\n          console.log('materials response - ', response);\n          coursesMapProcessor(coursesMapTmp, (course, mod, discipline) => {\n            for (let material of response.data) {\n              if (!discipline.materials) {\n                discipline.materials = [];\n              }\n              console.log('material pushing into - ', discipline);\n              console.log('material pushing - ', material);\n              if (material.discipline_id && discipline.disciplineId === material.discipline_id) {\n                console.log('materials pushed - ', material);\n                discipline.materials.push(material);\n              }\n            }\n          })\n\n          let options = Array.from(coursesMapTmp.entries()).map(pair => {\n            return {\n              value: pair[1].courseId,\n              label: pair[1].courseName\n            }\n          });\n\n          this.setState({\n            coursesMap: coursesMapTmp,\n            selectedOption: options[0],\n            options: options\n          })\n        })\n    )\n  }\n\n  state = {\n    coursesMap: null,\n    selectedOption: null,\n    selectedContent: null\n  };\n\n  handleChange = selectedOption => {\n    console.log(`Option selected this state:`, this.state)\n    this.setState(\n      {\n        selectedOption: selectedOption,\n        selectedContent: null\n      },\n      () => console.log(`Option selected:`, this.state.selectedOption)\n    );\n  };\n\n  handleClick = selectedContentKey => {\n    let newSelectedContent = null;\n    if (this.state.selectedOption) {\n      for (let mod of this.state.coursesMap.get(this.state.selectedOption.value).modsMap.values()) {\n        let found = false;\n        for (let discipline of mod.disciplinesMap.values()) {\n          for (let material of discipline.materials) {\n            if (material.id === selectedContentKey) {\n              newSelectedContent = material.url;\n              found = true;\n              break;\n            }\n            if (found) break;\n          }\n          if (found) break;\n        }\n      };\n    }\n    console.log(`content key selected:`, selectedContentKey);\n    this.setState(\n      { selectedContent: newSelectedContent },\n      () => console.log(`content selected:`, this.state.selectedContent)\n    );\n  };\n\n  render(props) {\n    const { selectedOption, coursesMap, options } = this.state;\n\n    if (!selectedOption || !coursesMap) {\n      return <div></div>;\n    }\n\n    let mats = [];\n    console.log('selected option value - ', selectedOption.value);\n    console.log('selected option state - ', coursesMap);\n    let listItemst = Array.from(coursesMap.get(selectedOption.value).modsMap.values())\n      .forEach(mod => {Array.from(mod.disciplinesMap.values()).forEach(discipline => {\n          discipline.materials.forEach(material => {\n            console.log('material drawed - ', material);\n            console.log('material drawed in discipline - ', discipline);\n            mats.push(<div className=\"course-content-item\">\n              <li key={material.id} onClick={()=>this.handleClick(material.id)}>{material.name}</li>\n            </div>);\n          })\n        })\n      });\n\n      console.log('mats - ', mats);\n\n    return (\n    <section className=\"section\">\n\n      <h1 className=\"page-title\">Мои курсы</h1>\n      <div className=\"content\">\n        <div className=\"main\">\n          <div className=\"main-left\">\n            <Select\n              styles={{borderRadius: '14px'}}\n              value={selectedOption}\n              onChange={this.handleChange}\n              options={options}\n              classNamePrefix=\"courses-combo-box\"\n            />\n            <ul className=\"course-content\">{mats}</ul>\n          </div>\n          <div className=\"main-right\">\n            {this.state.selectedContent && <embed src={this.state.selectedContent} height=\"659px\" type=\"application/pdf\" />}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n  }\n}\n\nexport default CoursesBody;\n","import React from 'react';\n\nconst folders = [\n  { value: 'income', label: 'Входящие' },\n  { value: 'outcome', label: 'Исходящие' },\n  { value: 'spam', label: 'Спам' }\n];\n\nconst messages = new Map([\n\t['income', [\n\t\t{\n\t\t\ttitle: 'О критериях оценки питча', \n\t\t\tbody: 'В ЛМС, в папке \"Материалы\" доступна презентация семинара…', \n\t\t\tauthor: 'Михайлова А. В.', \n\t\t\ttime: '19 июн 2019, 10:49:44', \n\t\t\tisNew: true\n\t\t},\n\t\t{\n\t\t\ttitle: 'Изменения в расписании 30 мая', \n\t\t\tbody: 'Это личное сообщение было отправлено всем пользователям дисциплины Выход на рынок и продвижение проекта. Добрый день, студенты 3 курса! Обращаем внимание, в связи с командировкой преподавателей Лодышкина и Коновалюк и конференцией у Ярцева, внесены изменения в расписаниие майнора - 30 мая. Обновленное расписание во вложении. В первой вкладке файла расписание Стартапа, во второй вкладке - Тех Пр.Заключительные занятия на майноре пройдут - 6 июня. С уважением, Алёшина Т.А.', \n\t\t\tauthor: 'Алёшина Т. А.', \n\t\t\ttime: '28 май 2019, 13:08:28', \n\t\t\tisNew: false\n\t\t},\n\t\t{\n\t\t\ttitle: 'Данные по посещению лекций в весеннем семестре', \n\t\t\tbody: 'Как и договаривались, во вложении высылаем файл с балла…', \n\t\t\tauthor: 'Алёшина Т. А.', \n\t\t\ttime: '20 май 2019, 15:16:07', \n\t\t\tisNew: false\n\t\t},\n\t]],\n]);\n\nconst authors = [\n\t{\n\t\tname: 'Алешина Татьяна Анатольевна',\n\t\tlogin: 'AleshinaTA'\n\t},\n\t{\n\t\tname: 'Вавилова Татьяна Сергеевна',\n\t\tlogin: 'VavilovaTS'\n\t},\n\t{\n\t\tname: 'Гордеева Катерина Георгиевна',\n\t\tlogin: 'GordeevaKG'\n\t},\n\t{\n\t\tname: 'Демидова Екатерина Павловна',\n\t\tlogin: 'DemidovaEP'\n\t},\n\t{\n\t\tname: 'Аленина Татьяна Георгиевна',\n\t\tlogin: 'AleninaTG'\n\t},\n\t{\n\t\tname: 'Волкова Альбина Анатольевна',\n\t\tlogin: 'VolkovaAA'\n\t},\n\t{\n\t\tname: 'Георгиева Галина Анатольевна',\n\t\tlogin: 'GeorgievaGA'\n\t},\n\t{\n\t\tname: 'Дубнова Татьяна Алексеевна',\n\t\tlogin: 'DubnovaTA'\n\t},\n\t{\n\t\tname: 'Ежкова Марина Дмитриевна',\n\t\tlogin: 'EjkhovaMD'\n\t},\n\t{\n\t\tname: 'Жагрова Елена Николаевна',\n\t\tlogin: 'JagrovaEN'\n\t}\n];\n\nclass EmailDataMock {\n\tgetFolders() {\n\t\treturn folders;\n\t}\n\n\tgetAuthors() {\n\t\treturn authors;\n\t}\n\n\tgetMessagesByFolderId(folderId) {\n\t\treturn messages.get(folderId);\n\t}\n}\n\nexport default EmailDataMock;","import React from 'react';\n\nclass EmailScroll extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state.message = props.message;\n\t}\n\n\tstate ={\n\t\tselected: false,\n\t\tmessage: null\n\t}\n\n\thandleClick = () => {\n\t\tthis.setState({\n\t\t\tselected: true\n\t\t})\n\t};\n\n\tselectedFalse = () => {\n\t\tthis.setState({\n\t\t\tselected: false\n\t\t});\n\t};\n\n\tgetMessage() {\n\t\treturn this.state.message;\n\t}\n\n\trender() {\n\t\tconst { selected } = this.state;\n\n\t\tlet cardClassName = \"email-scroll-view-card\";\n\t\tif (this.state.selected == true) {\n\t\t\tcardClassName = cardClassName + \" email-card-selected\";\n\t\t}\n\n\t\tlet supplierName = !this.props.message.supplier ? 'Неизвестеный отправитель' :\n\t\t\t!this.props.message.supplier.firstName || !this.props.message.supplier.lastName ?\n\t\t\t'Пользователь с айди ' + this.props.message.supplier.id :\n\t\t\tthis.props.message.supplier.firstName + ' ' + this.props.message.supplier.lastName;\n\n\t\treturn (\n\t\t\t<div className={cardClassName} onClick={() => {\n\t\t\t\tif (this.props.handleClick) {\n\t\t\t\t\tthis.props.handleClick(this.state.message);\n\t\t\t\t}\n\t\t\t\tthis.handleClick();\n\t\t\t}}>\n\t      <div className=\"email-scroll-view-card-header\">\n\t        <div className=\"email-scroll-view-card-header-author\"><p>{supplierName}</p></div>\n\t        <div className=\"email-scroll-view-card-header-status-time\">\n\t          {this.props.message.new == 1 && <div className=\"email-scroll-view-card-header-status\"></div>}\n\t          <div className=\"email-scroll-view-card-header-time\"><p>{this.props.message.created_at}</p></div>\n\t        </div>\n\t      </div>\n\t      <div className=\"email-scroll-view-card-title\">\n\t        <p>{this.props.message.title}</p>\n\t      </div>\n\t      <div className=\"email-scroll-view-card-content\">\n\t        <p>{this.props.message.body}</p>\n\t      </div>\n\t    </div>\n\t\t);\n\t}\n}\n\nexport default EmailScroll;\n","import React from 'react';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport Select from 'react-select';\nimport EmailDataMock from './data_mock/email-data-mock.js'\nimport EmailScroll from './email/email-scroll.js'\nimport { loadMessages, loadUsersById, handleError } from './data-loader.js'\n\n\nconst mock = new EmailDataMock();\n\nclass EmailBody extends React.Component {\n\n  componentWillMount() {\n    let foldersMapTmp;\n    console.log('user auth - ', this.props);\n    handleError(\n      loadMessages(this.props.auth.user, (foldersMap) => {\n        console.log('foldersMap - ', foldersMap);\n        foldersMapTmp = foldersMap;\n\n      }).then(() => {\n        let users = new Set([]);\n        Array.from(foldersMapTmp.values()).forEach(folder => {\n          Array.from(folder.messagesMap.values()).forEach(msg => {\n            users.add(msg.supplier_id);\n            users.add(msg.consumer_id);\n          });\n        });\n        return loadUsersById(Array.from(users.entries()), (usersMap) => {\n          Array.from(foldersMapTmp.values()).forEach(folder => {\n            Array.from(folder.messagesMap.values()).forEach(msg => {\n              msg.supplier = usersMap.get(msg.supplier_id);\n              msg.consumer = usersMap.get(msg.consumer_id);\n            })\n          })\n\n          let options = Array.from(foldersMapTmp.entries()).map(pair => {\n            return {\n              value: pair[0],\n              label: pair[1].name\n            }\n          });\n          console.log('options - ', options);\n          this.setState({\n            foldersMap: foldersMapTmp,\n            selectedOption: options[0],\n            options: options\n          })\n        });\n      })\n    )\n  }\n\n  state = {\n    selectedOption: mock.getFolders()[0],\n    selectedMessage: null,\n    foldersMap: null,\n    itemsRefs: []\n  };\n\n  handleChange = selectedOption => {\n    this.setState(\n      {\n        selectedOption\n      },\n      () => console.log(`Option selected:`, this.state.selectedOption)\n    );\n  };\n\n  handleClick = (message) => {\n    this.setState({\n      selectedMessage: message\n    });\n  }\n\n  render() {\n    const { selectedOption, foldersMap, options } = this.state;\n\n    if (!selectedOption || !foldersMap) {\n      return <div></div>;\n    }\n\n    let items = Array.from(foldersMap.get(selectedOption.value).messagesMap.values()).map((it) => {\n      console.log('selectedOption: ', selectedOption);\n      let message = { ...it };\n      if (selectedOption.value === 'outcome') {\n        message.new = 0;\n      }\n      let ref = React.createRef();\n      this.state.itemsRefs.push(ref);\n      return <EmailScroll message={message} ref={ref} handleClick={this.handleClick} />;\n    });\n\n    this.state.itemsRefs.forEach(it => {\n      if (it.current && this.state.selectedMessage !== it.current.state.message) {\n        it.current.selectedFalse();\n      }\n    });\n\n    return (\n      <section className=\"section\">\n\n        <h1 className=\"page-title\">Сообщения</h1>\n        <div className=\"content\">\n          <div className=\"main\">\n            <div className=\"email-main-left\">\n              <div className=\"email-main-left-header\">\n                <div className=\"email-main-left-header-folder\"><p>Папка: </p></div>\n                <div className=\"email-main-left-header-folder-selector\">\n                  <Select\n                    styles={{borderRadius: '14px'}}\n                    value={selectedOption}\n                    onChange={this.handleChange}\n                    options={options}\n                    classNamePrefix=\"email-dir-combo-box\"\n                  />\n                </div>\n              </div>\n              <div className=\"email-scroll-view\">\n                {items}\n              </div>\n            </div>\n            <div className=\"main-right\">\n              <div><a href=\"/email-send\" className=\"square_btn\">Написать письмо</a></div>\n              {this.state.selectedMessage && <>\n                <div className=\"email-selected-message-header\">\n                  <div className=\"email-selected-message-header-author\">{this.state.selectedMessage.author}</div>\n                  <div className=\"email-selected-message-header-time\">{this.state.selectedMessage.created_at}</div>\n                </div>\n                <div className=\"email-selected-message-title\"><h1>{this.state.selectedMessage.title}</h1></div>\n                <div className=\"email-selected-message-body\">{this.state.selectedMessage.body}</div>\n                </>\n              }\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default EmailBody;\n","import React from 'react';\n\nclass EmailSendScroll extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state.author = props.author;\n\t}\n\n\tstate ={\n\t\tselected: false,\n\t\tauthor: null\n\t}\n\n\thandleClick = () => {\n\t\tthis.setState({\n\t\t\tselected: true\n\t\t})\n\t};\n\n\tselectedFalse = () => {\n\t\tthis.setState({\n\t\t\tselected: false\n\t\t});\n\t};\n\n\tgetMessage() {\n\t\treturn this.state.message;\n\t}\n\n\trender() {\n\t\tconst { selected } = this.state;\n\n\t\tlet cardClassName = \"email-send-scroll-view-card\";\n\t\tif (this.state.selected == true) {\n\t\t\tcardClassName = cardClassName + \" email-card-selected\";\n\t\t}\n\t\tconsole.log('email send scrool render author - ', this.props);\n\t\tlet consumerName = !this.props.author ? 'Неизвестен' :\n\t\t\t(!this.props.author.firstName || !this.props.author.lastName) ?\n\t\t\t'Пользователь с айди ' + this.props.author.id :\n\t\t\tthis.props.author.firstName + ' ' + this.props.author.lastName + ' (' + this.props.author.id + ')'\n\t\treturn (\n\t\t\t<div className={cardClassName} onClick={() => {\n\t\t\t\tconsole.log('this.state.author - ', this.state.author);\n\t\t\t\tif (this.props.handleClick) {\n\t\t\t\t\tthis.props.handleClick(this.state.author);\n\t\t\t\t}\n\t\t\t\tthis.handleClick();\n\t\t\t}}>\n\t        \t<p>{consumerName}</p>\n\t    \t</div>\n\t\t);\n\t}\n}\n\nexport default EmailSendScroll;\n","import React from 'react';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport Select from 'react-select';\nimport EmailDataMock from './data_mock/email-data-mock.js'\nimport EmailSendScroll from './email/email-send-scroll.js'\nimport { Redirect } from 'react-router-dom';\nimport { loadUsers, sendMessage, handleError } from './data-loader.js'\n\nconst mock = new EmailDataMock();\n\nclass EmailSendBody extends React.Component {\n\n  componentWillMount() {\n    handleError(\n      loadUsers((usersMap) => {\n        this.setState({\n          usersMap: usersMap\n        })\n      })\n    )\n  }\n\n  state = {\n    sended: false,\n    selectedMessage: null,\n    usersMap: null,\n    itemsRefs: []\n  };\n\n  handleClick = (author) => {\n    console.log('author selected - ', author);\n    this.setState({\n\n      selectedAthor: author\n    });\n  }\n\n  updateTheme = (evt) => {\n    this.setState({\n      themeInputValue: evt.target.value\n    });\n  }\n\n  updateBody = (evt) => {\n    this.setState({\n      bodyInputValue: evt.target.value\n    });\n  }\n\n  render() {\n    console.log('props in email sender body - ', this.props);\n    const { usersMap, sended, author } = this.state;\n\n    if (!usersMap) {\n      return <div></div>;\n    }\n    if (sended) {\n      return <Redirect to=\"/email\"/>;\n    }\n    let items = Array.from(usersMap.values()).map((it) => {\n      let ref = React.createRef();\n      this.state.itemsRefs.push(ref);\n      console.log('user for displaying - ', it);\n      return <EmailSendScroll author={it} ref={ref} handleClick={this.handleClick} />;\n    });\n\n    this.state.itemsRefs.forEach(it => {\n      if (it.current && this.state.selectedAthor !== it.current.state.author) {\n        it.current.selectedFalse();\n      }\n    });\n\n    return (\n      <section className=\"section\">\n\n        <h1 className=\"page-title\">Сообщения</h1>\n        <div className=\"content\">\n          <div className=\"main\">\n            <div className=\"email-send-main-left\">\n              <div className=\"email-send-main-left-header\"><p>Все</p></div>\n              <div className=\"email-scroll-view\">\n                {items}\n              </div>\n            </div>\n            <div className=\"main-right\">\n              <div onClick={() => {\n                if (!this.state.selectedAthor) {\n                  return;\n                }\n                let msgToSend = {\n                  supplier_id: this.props.auth.user.id,\n                  consumer_id: this.state.selectedAthor.id,\n                  title: this.state.themeInputValue,\n                  body: this.state.bodyInputValue\n                }\n                sendMessage(msgToSend, (response) => {\n                  this.setState({\n                    sended: true\n                  });\n                });\n              }}><a href=\"#\" className=\"square_btn\">Отправить</a></div>\n              <input className='email-theme-send-input' type='text' onChange={this.updateTheme} placeholder=\"Тема письма\"/>\n              <textarea className='email-body-send-input' type='text' onChange={this.updateBody} placeholder=\"Введите текст сообщения\"/>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n\nexport default EmailSendBody;\n","import React from 'react';\n\nconst options = [\n  { value: 'course-one', label: '1 курс' },\n  { value: 'course-two', label: '2 курс' },\n  { value: 'course-three', label: '3 курс' },\n  { value: 'course-four', label: '4 курс' },\n  { value: 'course-five', label: '5 курс' },\n];\n\nconst personData = {\n\tfaculty: 'Факультет коммуникаций, медиа и дизайна : Дизайн',\n\tfirstName: 'Анастасия',\n\tlastName: 'Залесова',\n\tmidName: 'Дмитриевна',\n\troleDescription: 'Студент бакалавриата',\n\tcourse: 4\n};\n\nconst courseStats = {\n\trateCurrent: 18,\n\trateMax: 308,\n\tpercentile: 'P 5.52',\n\tpointAvg: 9.29\n};\n\nconst mapCourseModules = new Map([\n\t['course-one', ['one-module-one', 'one-module-two', 'one-module-three', 'one-module-four']],\n\t['course-two', ['two-module-one', 'two-module-two', 'two-module-three', 'two-module-four']],\n\t['course-three', ['three-module-one', 'three-module-two', 'three-module-three', 'three-module-four']],\n\t['course-four', ['four-module-one', 'four-module-two', 'four-module-three', 'four-module-four']],\n\t['course-five', ['five-module-one', 'five-module-two', 'five-module-three', 'five-module-four']]\n]);\n\nconst mapModuleDisciplines = new Map([\n\t['four-module-one', ['one-art-practic', 'one-art-theory', 'one-sub-atom-practic', 'one-sub-atom-theory']],\n\t['four-module-two', ['two-art-practic', 'two-art-theory', 'two-sub-atom-practic', 'two-sub-atom-theory']],\n\t['four-module-three', ['three-art-practic', 'three-art-theory', 'three-sub-atom-practic', 'three-sub-atom-theory']],\n\t['four-module-four', ['four-art-practic', 'four-art-theory', 'four-sub-atom-practic', 'four-sub-atom-theory']],\n]);\n\nconst mapModuleNames = new Map([\n\t['one-module-one', '1 модуль'],\n\t['one-module-two', '2 модуль'],\n\t['one-module-three', '3 модуль'],\n\t['one-module-four', '4 модуль'],\n\t['two-module-one', '1 модуль'],\n\t['two-module-two', '2 модуль'],\n\t['two-module-three', '3 модуль'],\n\t['two-module-four', '4 модуль'],\n\t['three-module-one', '1 модуль'],\n\t['three-module-two', '2 модуль'],\n\t['three-module-three', '3 модуль'],\n\t['three-module-four', '4 модуль'],\n\t['four-module-one', '1 модуль'],\n\t['four-module-two', '2 модуль'],\n\t['four-module-three', '3 модуль'],\n\t['four-module-four', '4 модуль'],\n\t['five-module-one', '1 модуль'],\n\t['five-module-two', '2 модуль'],\n\t['five-module-three', '3 модуль'],\n\t['five-module-four', '4 модуль']\n]);\n\nconst mapDisciplineData = new Map([\n\t['one-art-practic', {name: 'Арт-практика', tenPointSystem: 10, fivePointSystem: 5, retries: 0, lastTry: '29-10-2019', teacher: 'Харитонов З.Н.'}],\n\t['one-art-theory', {name: 'Арт-теория', tenPointSystem: 9, fivePointSystem: 5, retries: 1, lastTry: '29-09-2019', teacher: 'Харитонова З.Н.'}],\n\t['one-sub-atom-practic', {name: 'Субатом-практика', tenPointSystem: 8, fivePointSystem: 4, retries: 2, lastTry: '29-08-2019', teacher: 'Харитонов З.Н.'}],\n\t['one-sub-atom-theory', {name: 'Субатом-теория', tenPointSystem: 7, fivePointSystem: 4, retries: 3, lastTry: '29-07-2019', teacher: 'Харитоновав З.Н.'}],\n\t['two-art-practic', {name: 'Арт-практика', tenPointSystem: 10, fivePointSystem: 5, retries: 0, lastTry: '29-10-2019', teacher: 'Харитонов З.Н.'}],\n\t['two-art-theory', {name: 'Арт-теория', tenPointSystem: 9, fivePointSystem: 5, retries: 1, lastTry: '29-09-2019', teacher: 'Харитонова З.Н.'}],\n\t['two-sub-atom-practic', {name: 'Субатом-практика', tenPointSystem: 8, fivePointSystem: 4, retries: 2, lastTry: '29-08-2019', teacher: 'Харитонов З.Н.'}],\n\t['two-sub-atom-theory', {name: 'Субатом-теория', tenPointSystem: 7, fivePointSystem: 4, retries: 3, lastTry: '29-07-2019', teacher: 'Харитоновав З.Н.'}],\n\t['three-art-practic', {name: 'Арт-практика', tenPointSystem: 10, fivePointSystem: 5, retries: 0, lastTry: '29-10-2019', teacher: 'Харитонов З.Н.'}],\n\t['three-art-theory', {name: 'Арт-теория', tenPointSystem: 9, fivePointSystem: 5, retries: 1, lastTry: '29-09-2019', teacher: 'Харитонова З.Н.'}],\n\t['three-sub-atom-practic', {name: 'Субатом-практика', tenPointSystem: 8, fivePointSystem: 4, retries: 2, lastTry: '29-08-2019', teacher: 'Харитонов З.Н.'}],\n\t['three-sub-atom-theory', {name: 'Субатом-теория', tenPointSystem: 7, fivePointSystem: 4, retries: 3, lastTry: '29-07-2019', teacher: 'Харитоновав З.Н.'}],\n\t['four-art-practic', {name: 'Арт-практика', tenPointSystem: 10, fivePointSystem: 5, retries: 0, lastTry: '29-10-2019', teacher: 'Харитонов З.Н.'}],\n\t['four-art-theory', {name: 'Арт-теория', tenPointSystem: 9, fivePointSystem: 5, retries: 1, lastTry: '29-09-2019', teacher: 'Харитонова З.Н.'}],\n\t['four-sub-atom-practic', {name: 'Субатом-практика', tenPointSystem: 8, fivePointSystem: 4, retries: 2, lastTry: '29-08-2019', teacher: 'Харитонов З.Н.'}],\n\t['four-sub-atom-theory', {name: 'Субатом-теория', tenPointSystem: 7, fivePointSystem: 4, retries: 3, lastTry: '29-07-2019', teacher: 'Харитоновав З.Н.'}],\n]);\n\nclass StudentBookMock {\n\n\tgetPersonData() {\n\t\treturn personData;\n\t}\n\n\tgetCourseStats() {\n\t\treturn courseStats;\n\t}\n\n\toptions() {\n\t\treturn options;\n\t}\n\n\tgetModulesByCourseId(courseId) {\n\t\treturn mapCourseModules.get(courseId);\n\t}\n\n\tgetDisciplinesByModuleId(moduleId) {\n\t\treturn mapModuleDisciplines.get(moduleId);\n\t}\n\n\tgetDisciplineDataByDisciplineId(disciplineId) {\n\t\treturn mapDisciplineData.get(disciplineId);\n\t}\n\n\tgetModuleNamebyModuleId(moduleId) {\n\t\treturn mapModuleNames.get(moduleId);\n\t}\n}\n\nexport default StudentBookMock;","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport NewsPiece from './news/news_piece.js';\nimport Event from './events/event.js';\nimport Email from './email/email.js';\nimport Select from 'react-select';\nimport StudentBookMock from './data_mock/student-book-data-mock.js';\nimport axios from 'axios'\nimport { loadAllDisciplines, loadUsersById, handleError } from './data-loader.js'\nimport { coursesMapProcessor } from './data-utils.js'\n\n\nconst mock = new StudentBookMock();\n\nclass StudentBookBody extends React.Component {\n\n  state = {\n    coursesMap: null,\n    selectedOption: null,\n    options: null\n  };\n\n  componentWillMount() {\n    handleError(\n      loadAllDisciplines((coursesMap) => {\n        this.setState({\n          coursesMap: coursesMap\n        });\n      }).then(response => axios.get('http://localhost:3000/railsapp/marks.json', {withCredentials: true}))\n        .then(response => {\n          let r = response.data;\n          console.log('marks - ', r);\n          let marks = new Set();\n          Array.from(this.state.coursesMap.values()).map(course => {\n            Array.from(course.modsMap.values()).map(modsVal => {\n              r.map(mark => {\n                let discipline = modsVal.disciplinesMap.get(mark.discipline_id);\n                if (discipline && !discipline.marks.includes(mark)) {\n                  marks.add(mark);\n                  discipline.marks.push(mark);\n                }\n              })\n            })\n            return course;\n          })\n          let rs = [];\n\n          for (let m of marks) {\n            if (!m.teacher_id) continue;\n            rs.push(m.teacher_id);\n          }\n          return loadUsersById(rs, (usersMap) => {\n            coursesMapProcessor(this.state.coursesMap, (course, mod, discipline) => {\n              for (let mark of discipline.marks) {\n                if (mark.teacher_id) {\n                  let user = usersMap.get(mark.teacher_id);\n                  if (user) {\n                    mark.teacherName = user.firstName + \" \" + user.lastName\n                  }\n                }\n              }\n            });\n\n            let options = Array.from(this.state.coursesMap.entries()).map(pair => {\n              return {\n                value: pair[1].courseId,\n                label: pair[1].courseName\n              }\n            });\n            console.log('options - ', options);\n            this.setState({\n              selectedOption: options[0],\n              options: options\n            })\n          });\n        })\n    )\n  }\n\n  handleChange = selectedOption => {\n    this.setState(\n      {\n        selectedOption\n      }\n    );\n  };\n\n  printTable() {\n    console.log('print table');\n    const input = document.getElementById('capture');\n    html2canvas(input).then((canvas) => {\n      const imgData = canvas.toDataURL('image/png');\n      const pdf = new jsPDF();\n      pdf.addImage(imgData, 'PNG', 0, 0);\n      pdf.save(\"download.pdf\");\n    });\n  }\n\n  render(props) {\n    const { selectedOption, coursesMap } = this.state;\n    if (!selectedOption) {\n      return <div></div>;\n    }\n\n    let course = coursesMap.get(selectedOption.value);\n    let rows = [];\n    if (course) {\n      Array.from(course.modsMap.values()).map(mod => {\n        rows.push(tableRowTitle(mod.modName));\n        Array.from(mod.disciplinesMap.values()).map(discipline =>\n          rows.push(tableRowData(discipline))\n        )\n      })\n    }\n\n    return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Зачетка</h1></div>\n        <div className=\"student-book-combo-box-container\">\n          <Select\n            styles={{borderRadius: '14px'}}\n            value={selectedOption}\n            onChange={this.handleChange}\n            options={this.state.options}\n            classNamePrefix=\"student-book-combo-box\"\n          />\n        </div>\n      </div>\n      <div className=\"student-book-description-container\">\n        <div className=\"student-book-description-left\">\n          <div>Факультет коммуникаций, медиа и дизайна : Дизайн</div>\n          <div>Залесова Анастасия Дмитриевна</div>\n          <div>Студент бакалавриата, 4 курс</div>\n        </div>\n        <div className=\"student-book-description-right\">\n          <div><div className=\"student-book-description-paragraph\">Рейтинг:</div> {mock.getCourseStats().rateCurrent} из {mock.getCourseStats().rateMax}</div>\n          <div><div className=\"student-book-description-paragraph\">Перцентиль по программе:</div> {mock.getCourseStats().percentile}</div>\n          <div><div className=\"student-book-description-paragraph\">Средний балл:</div> {mock.getCourseStats().pointAvg}</div>\n        </div>\n      </div>\n      <div className=\"content\">\n        <table id=\"capture\" className=\"table-fill\">\n          <thead>\n            <tr>\n            <th className=\"text-left\" style={{width: '45%'}}>Дисциплина</th>\n            <th className=\"text-center\">10-ти бальная</th>\n            <th className=\"text-center\">5-ти бальная</th>\n            <th className=\"text-center\">Пересдачи</th>\n            <th className=\"text-center\">Последняя сдача</th>\n            <th className=\"text-center\">Преподаватель</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-hover\">\n            {rows}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n  }\n}\n\nfunction tableRowTitle(title) {\n  console.log('title - ', title);\n  return <tr><td className=\"text-left\" style={{color: '#007AFF'}} colSpan=\"6\">{title}</td></tr>;\n};\n\nfunction tableRowData(disciplineIn) {\n  let marks = disciplineIn.marks;\n  let marksLength = marks.length;\n  let marksMoreThanZero = marksLength > 0;\n  let tenPointSystemPoint = 0;\n  marks.map(m => tenPointSystemPoint += m.value);\n  tenPointSystemPoint = marksMoreThanZero ? tenPointSystemPoint / marksLength : 0;\n\n  let fivePointSystemPoint = marksMoreThanZero ? tenPointSystemPoint / 2 : 0;\n  for (let m of marks) {\n    if (m.teacherName) {\n      console.log('teacher name - ', m.teacherName);\n    }\n  }\n  let discipline = {\n    name: disciplineIn.disciplineName,\n    retries: marksLength > 0 ? marksLength - 1 : 0,\n    tenPointSystem: tenPointSystemPoint,\n    fivePointSystem: fivePointSystemPoint.toFixed(),\n    lastTry: marksMoreThanZero ? new Date(marks[marksLength - 1].created_at).toLocaleDateString(\"en-US\") : 'нет',\n    teacher: marksMoreThanZero ? marks[marksLength - 1].teacherName : null\n  };\n  return <tr>\n      <td className=\"text-left\">{discipline.name}</td>\n      <td className=\"text-center\">{discipline.tenPointSystem}</td>\n      <td className=\"text-center\">{discipline.fivePointSystem}</td>\n      <td className=\"text-center\">{discipline.retries}</td>\n      <td className=\"text-center\">{discipline.lastTry}</td>\n      <td className=\"text-center\">{discipline.teacher}</td>\n    </tr>;\n};\n\nexport default StudentBookBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction ChooseMinorBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Выбор майнора</h1></div>\n      </div>\n      <div className=\"content\">\n        <div style={{backgroundColor: '#FFFFFF', borderRadius: '8px'}}>\n          <p style={{\n            color: '#0579FF',\n            fontSize: '16px',\n            lineHeight: '19px',\n            letterSpacing: '-0.385882px',\n            textAlign: 'left',\n            marginLeft: '21px'\n          }}>Вы обучаетесь на майноре: 2016 Стартап: дизайн нового бизнеса</p>\n        </div>\n        <div style={{backgroundColor: '#FFFFFF', borderRadius: '8px', marginTop: '32px', display: 'flex', justifyItems: 'left'}}>\n          <img style={{\n            width: '20px',\n            height: '20px',\n            verticalAlign: 'middle',\n            display: 'inline-block',\n            paddingLeft: '10px',\n            marginTop: '15px',\n            marginBottom: '15px'\n          }} src='/warning.png'/>\n          <p style={{\n            textAlign: 'left',\n            display: 'inline-block',\n            color: '#E02020',\n            left: '25px',\n            fontSize: '16px',\n            lineHeight: '19px',\n            letterSpacing: '-0.385882px',\n            textAlign: 'left',\n            marginLeft: '10px',\n            verticalAlign: 'middle'\n          }}>Выбор майноров не доступен, по всем вопросам просьба обращаться в учебный офис.</p>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default ChooseMinorBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction ChooseCourseBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\" style={{\n          width: '100%',\n          display: 'flex',\n          alignItems: 'center',\n          marginBottom: '40px'\n        }}>\n          <h1 style={{\n            position: 'relative',\n            width: '85%',\n            marginBottom: '0px'\n          }}>Курсы по выбору</h1>\n          <a href=\"#\" className=\"square_btn\" style={{\n            maxHeight: '20px',\n            width: '15%'\n          }}>Выбрать курс</a>\n        </div>\n      </div>\n      <div className=\"content\">\n        <div style={{\n          color: 'rgba(0, 0, 0, 0.5)', width: '100%',\n          textAlign: 'left', paddingLeft: '10px', paddingBottom: '10px'\n        }}>\n          Всего кредитов: <div style={{display: 'inline-block', color: '#000'}}>60</div>\n        </div>\n        <div style={{\n          color: 'rgba(0, 0, 0, 0.5)', width: '100%',\n          textAlign: 'left', paddingLeft: '10px', paddingBottom: '10px'\n        }}>\n          Выбрано кредитов: <div style={{display: 'inline-block', color: '#000'}}>0</div>\n        </div>\n        <div style={{color: 'rgba(0, 0, 0, 0.5)', width: '100%', textAlign: 'left', paddingLeft: '10px'}}>\n          Необходимо кредитов: <div style={{display: 'inline-block', color: '#000'}}>60</div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\nexport default ChooseCourseBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction PointYourCoursesBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Оцени свои курсы</h1></div>\n      </div>\n      <div className=\"content\">\n        <p style={{textAlign: 'left', color: 'rgba(0, 0, 0, 0.501967)'}}>\n          Уважаемый студент!<br/>\n          Вам предстоит принять участие в студенческой оценке качества преподавания.\n          Оценка проводится, чтобы студенты могли выразить свое мнение об организации\n          учебного процесса на своей образовательной программе, высказать предложения\n          по конкретным учебным дисциплинам и оставить комментарии касательно проведения\n          занятий преподавателями.\n          Результаты оценки учитываются руководством факультетов, департаментов и\n          кафедр при принятии решений об изменении содержания учебных курсов и\n          организации процесса обучения. Обратите внимание, что в соответствии с\n          Правилами внутреннего распорядка НИУ ВШЭ участие студентов в оценке качества\n          преподавания обязательно. Ваши ответы полностью анонимны, результаты\n          передаются руководству факультетов, департаментов, кафедр только в обобщенном виде.\n        </p>\n        <table id=\"capture\" className=\"table-fill\">\n          <thead>\n            <tr>\n            <th className=\"text-left\">Период</th>\n            <th className=\"text-left\">Дата начала</th>\n            <th className=\"text-left\">Дата окончания</th>\n            <th className=\"text-left\">Статус</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-hover\">\n            {tableRowData({\n              dateRange: '1 модуль 2019/2020 учебного года',\n              dateBegin: '20:00 30.09.2019 г. по московскому времени',\n              dateEnd: '23:59 20.10.2019 г. по московскому времени',\n              status: 'СОП завершен, анкета заполнена'\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n}\n\nfunction tableRowData(courseData) {\n  return <tr>\n      <td className=\"text-left\">{courseData.dateRange}</td>\n      <td className=\"text-left\" style={{color: '#007AFF'}}>{courseData.dateBegin}</td>\n      <td className=\"text-left\" style={{color: '#007AFF'}}>{courseData.dateEnd}</td>\n      <td className=\"text-left\">{courseData.status}</td>\n    </tr>;\n};\n\nexport default PointYourCoursesBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction PointColleaguesBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Оценка сотрудников</h1></div>\n      </div>\n      <div className=\"content\">\n        <p style={{textAlign: 'left', color: 'rgba(0, 0, 0, 0.501967)'}}>\n          Уважаемые коллеги!<br/>\n          В модуле «Оценка сотрудников» доступно оценивание работы сотрудников,\n          занимающихся организацией и сопровождением учебного процесса по\n          Вашей образовательной программе. Ниже представлен список периодов, в\n          рамках которых проводится оценка.Ваши ответы помогут улучшить администрирование\n          Вашей образовательной программы и очень важны для оценки качества работы сотрудников,\n          занимающихся сопровождением учебного процесса.\n        </p>\n        <table id=\"capture\" className=\"table-fill\">\n          <thead>\n            <tr>\n            <th className=\"text-left\">Период</th>\n            <th className=\"text-left\">Дата начала</th>\n            <th className=\"text-left\">Дата окончания</th>\n            <th className=\"text-left\">Статус</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-hover\">\n            {tableRowData({\n              dateRange: '1 модуль 2019/2020 учебного года',\n              dateBegin: '17:00 06.06.2019 г. по московскому времени',\n              dateEnd: '23:59 30.06.2019 г. по московскому времени',\n              status: 'СОП завершен, анкета заполнена'\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n}\n\nfunction tableRowData(pointColleaguesData) {\n  return <tr>\n      <td className=\"text-left\">{pointColleaguesData.dateRange}</td>\n      <td className=\"text-left\" style={{color: '#007AFF'}}>{pointColleaguesData.dateBegin}</td>\n      <td className=\"text-left\" style={{color: '#007AFF'}}>{pointColleaguesData.dateEnd}</td>\n      <td className=\"text-left\">{pointColleaguesData.status}</td>\n    </tr>;\n};\n\nexport default PointColleaguesBody;\n","import React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\n\nfunction BkpKpBody() {\n  return (\n    <section className=\"section\">\n      <div className=\"student-book-header-container\">\n        <div className=\"student-book-page-title\"><h1>Мои работы (ВКР/КР/Проект)</h1></div>\n      </div>\n      <div className=\"content\">\n        <table id=\"capture\" className=\"table-fill\">\n          <thead>\n            <tr>\n            <th className=\"text-left\">Календарный период</th>\n            <th className=\"text-left\">Тип работы</th>\n            <th className=\"text-left\">Тема</th>\n            <th className=\"text-left\">Тема на английском</th>\n            <th className=\"text-left\">Загружено</th>\n            <th className=\"text-left\">Процент заимствований</th>\n            <th className=\"text-left\">Статус проверки</th>\n            <th className=\"text-left\">Оценка</th>\n            <th className=\"text-left\">Отзыв</th>\n            <th className=\"text-left\">Рецензия</th>\n            </tr>\n          </thead>\n          <tbody className=\"table-hover\">\n            {tableRowData({\n              dateRange: '2018/2019 учебный год',\n              jobType: 'Проект',\n              theme: '3 курс',\n              themeEng: '',\n              downloaded: 'Нет',\n              percentOrigin: '',\n              checkStatus: '',\n              point: '9',\n              review: '',\n              critique: '',\n            })}\n          </tbody>\n        </table>\n      </div>\n    </section>\n  );\n}\n\nfunction tableRowData(bkpKpData) {\n  return <tr>\n      <td className=\"text-left\">{bkpKpData.dateRange}</td>\n      <td className=\"text-left\">{bkpKpData.jobType}</td>\n      <td className=\"text-left\">{bkpKpData.theme}</td>\n      <td className=\"text-left\">{bkpKpData.themeEng}</td>\n      <td className=\"text-left\">{bkpKpData.downloaded}</td>\n      <td className=\"text-left\">{bkpKpData.percentOrigin}</td>\n      <td className=\"text-left\">{bkpKpData.checkStatus}</td>\n      <td className=\"text-left\">{bkpKpData.point}</td>\n      <td className=\"text-left\">{bkpKpData.review}</td>\n      <td className=\"text-left\">{bkpKpData.critique}</td>\n    </tr>;\n};\n\nexport default BkpKpBody;\n","import React, { Component } from 'react';\nimport axios from 'axios'\nimport {Link, Redirect} from 'react-router-dom'\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: '',\n      password: '',\n      errors: '',\n      loggedIn: false,\n      handleLogin: props.handleLogin,\n      handleLogout: props.handleLogout\n     };\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {login, password} = this.state\n    let user = {\n      login: login,\n      password: password\n    }\n\n    axios.post('http://localhost:3000/railsapp/log_in', {user}, {withCredentials: true})\n        .then(response => {\n          if (response.data.logged_in) {\n            this.state.handleLogin(response);\n            this.redirect()\n          } else {\n            this.setState({\n              errors: response.data.errors\n            })\n          }\n        })\n        .catch(error => console.log('api errors:', error))\n  };\n\n  redirect = () => {\n    this.setState({\n      loggedIn: true\n    });\n  }\n\n  handleErrors = () => {\n    return (\n      <div>\n        <ul>\n        {this.state.errors.map(error => {\n        return <li key={error}>{error}</li>\n          })}\n        </ul>\n      </div>\n    )\n  }\n\n  render() {\n    const {login, password, loggedIn} = this.state\n    if (loggedIn) {\n      console.log('logged in from login form');\n      return <Redirect to=\"/\"/>;\n    }\n    return (\n      <section className=\"section\">\n        <div className=\"content\">\n          <h1 className=\"page-title\">Добро пожаловать в LMS</h1>\n          <form onSubmit={this.handleSubmit} style={{\n            display: 'flex',\n            flexDirection: 'column',\n            width: '360px',\n            alignItems: 'center',\n            margin: 'auto'\n          }}>\n            <div style={{\n              width: '100%'\n            }}>\n              <p style={{\n                textAlign: 'left',\n                fontSize: '20px',\n                lineHeight: '16px',\n                color: '#000',\n                marginBottom: '12px',\n                fontWeight: 'bold'\n              }}>Войти</p>\n            </div>\n            <div style={{\n              width: '100%'\n            }}>\n              <p style={{\n                textAlign: 'left',\n                fontSize: '16px',\n                lineHeight: '16px',\n                color: '#8E8E93',\n                marginBottom: '12px'\n              }}>Логин</p>\n            </div>\n            <input\n              type=\"text\"\n              name=\"login\"\n              value={login}\n              onChange={this.handleChange}\n              style={{\n                backgroundColor: 'transparent',\n                border: '1px solid #8E8E93',\n                height: '40px',\n                width: '100%',\n                borderRadius: '8px',\n                fontSize: '12px',\n                textIndent: '20px'\n              }}\n            />\n            <div style={{\n              width: '100%'\n            }}>\n              <p style={{\n                textAlign: 'left',\n                fontSize: '16px',\n                lineHeight: '16px',\n                color: '#8E8E93',\n                marginBottom: '12px'\n              }}>Пароль</p>\n            </div>\n            <input\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={this.handleChange}\n              style={{\n                backgroundColor: 'transparent',\n                border: '1px solid #8E8E93',\n                height: '40px',\n                width: '100%',\n                borderRadius: '8px',\n                fontSize: '12px',\n                textIndent: '20px'\n              }}\n            />\n           <button placeholder=\"submit\" type=\"submit\" className=\"square_btn\" style={{\n             width: '101%',\n             marginTop: '27px',\n             fontSize: '12px',\n             border: 'none'\n           }}>\n              Войти\n            </button>\n            <p>или</p>\n            <a href=\"/signup\" className=\"square_btn\" style={{\n              width: 'calc(100% - 58px)'\n            }}>создать аккаунт</a>\n\n          </form>\n          <div>\n            {this.state.errors ? this.handleErrors() : null}\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\nexport default Login;\n","import React, { Component } from 'react';\nimport axios from 'axios'\nimport {Link, Redirect} from 'react-router-dom'\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: '',\n      password: '',\n      password_confirmation: '',\n      errors: '',\n      loggedIn: false\n     };\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target\n    this.setState({\n      [name]: value\n    })\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault()\n    const {login, password, password_confirmation} = this.state\n    let user = {\n      login: login,\n      password: password,\n      password_confirmation: password_confirmation\n    }\n    axios.post('http://localhost:3000/railsapp/users', {user}, {withCredentials: true})\n        .then(response => {\n          if (response.data.status === 'created') {\n            this.redirect()\n          } else {\n            this.setState({\n              errors: response.data.errors\n            })\n          }\n        })\n        .catch(error => console.log('api errors:', error))\n  };\n\n  redirect = () => {\n    this.setState({\n      loggedIn: true\n    });\n  }\n\n  handleErrors = () => {\n    return (\n      <div>\n        <ul>{this.state.errors.map((error) => {\n          return <li>key={error}>{error}</li>\n        })}\n        </ul>\n      </div>\n    )\n  }\n\n  render() {\n    const {login, password, password_confirmation, loggedIn} = this.state\n    if (loggedIn) {\n      console.log('logged in from login form');\n      return <Redirect to=\"/\"/>;\n    }\n    return (\n      <section className=\"section\">\n        <div className=\"content\">\n          <h1 className=\"page-title\">Добро пожаловать в LMS</h1>\n            <form onSubmit={this.handleSubmit} style={{\n              display: 'flex',\n              flexDirection: 'column',\n              width: '360px',\n              alignItems: 'center',\n              margin: 'auto'\n            }}>\n              <div style={{\n                width: '100%'\n              }}>\n                <p style={{\n                  textAlign: 'left',\n                  fontSize: '20px',\n                  lineHeight: '16px',\n                  color: '#000',\n                  marginBottom: '12px',\n                  fontWeight: 'bold'\n                }}>Зарегистрироваться</p>\n              </div>\n              <div style={{\n                width: '100%'\n              }}>\n                <p style={{\n                  textAlign: 'left',\n                  fontSize: '16px',\n                  lineHeight: '16px',\n                  color: '#8E8E93',\n                  marginBottom: '12px'\n                }}>Логин</p>\n              </div>\n              <input\n                type=\"text\"\n                name=\"login\"\n                value={login}\n                onChange={this.handleChange}\n                style={{\n                  backgroundColor: 'transparent',\n                  border: '1px solid #8E8E93',\n                  height: '40px',\n                  width: '100%',\n                  borderRadius: '8px',\n                  fontSize: '12px',\n                  textIndent: '20px'\n                }}\n              />\n              <div style={{\n                width: '100%'\n              }}>\n                <p style={{\n                  textAlign: 'left',\n                  fontSize: '16px',\n                  lineHeight: '16px',\n                  color: '#8E8E93',\n                  marginBottom: '12px'\n                }}>Пароль</p>\n              </div>\n              <input\n                type=\"password\"\n                name=\"password\"\n                value={password}\n                onChange={this.handleChange}\n                style={{\n                  backgroundColor: 'transparent',\n                  border: '1px solid #8E8E93',\n                  height: '40px',\n                  width: '100%',\n                  borderRadius: '8px',\n                  fontSize: '12px',\n                  textIndent: '20px'\n                }}\n              />\n              <div style={{\n                width: '100%'\n              }}>\n                <p style={{\n                  textAlign: 'left',\n                  fontSize: '16px',\n                  lineHeight: '16px',\n                  color: '#8E8E93',\n                  marginBottom: '12px'\n                }}>Подтверждение</p>\n              </div>\n              <input\n                type=\"password\"\n                name=\"password_confirmation\"\n                value={password_confirmation}\n                onChange={this.handleChange}\n                style={{\n                  backgroundColor: 'transparent',\n                  border: '1px solid #8E8E93',\n                  height: '40px',\n                  width: '100%',\n                  borderRadius: '8px',\n                  fontSize: '12px',\n                  textIndent: '20px'\n                }}\n              />\n\n              <button placeholder=\"submit\" type=\"submit\" className=\"square_btn\" style={{\n                width: '101%',\n                marginTop: '27px',\n                fontSize: '12px',\n                border: 'none'\n              }}>\n                Создать\n              </button>\n\n            </form>\n          </div>\n        </section>\n    );\n  }\n}\nexport default Signup;\n","import React from 'react';\nimport { Redirect } from 'react-router-dom'\n\nfunction Exit(props) {\n  return (\n    <Redirect to=\"/\"/>\n  );\n}\n\nexport default Exit;","import React from 'react';\nimport { render } from 'react-dom';\nimport { Route, Switch, BrowserRouter, useLocation, Redirect } from 'react-router-dom';\nimport Header from './js/header.js';\nimport Body from './js/body.js';\nimport CoursesBody from './js/courses-body.js';\nimport EmailBody from './js/email-body.js';\nimport EmailSendBody from './js/email-send-body.js';\nimport StudentBookBody from './js/student-book-body.js';\nimport ChooseMinorBody from './js/choose-minor.js'\nimport ChooseCourseBody from './js/choose-course.js'\nimport PointYourCoursesBody from './js/point-your-courses.js'\nimport PointColleaguesBody from './js/point-colleagues.js'\nimport BkpKpBody from './js/bkp-kp.js'\nimport Login from './js/login.js'\nimport Signup from './js/signup.js'\nimport Exit from './js/exit.js';\nimport './css/index.css';\nimport ReactDOM from 'react-dom';\nimport Select from 'react-select';\nimport axios from 'axios'\nimport { createBrowserHistory } from \"history\";\n\nconst customHistory = createBrowserHistory();\nconst Context = React.createContext();\n\nconst initialState = {\n  auth: {\n    isLoggedIn: 0,\n    user: null\n  },\n  route: '/'\n}\n\nfunction reducer(state, action) {\n  console.log('update value', action);\n  switch(action.type) {\n    case 'updateValue':\n      return {\n        state,\n        auth: action.auth,\n        route: action.route\n      }\n    default:\n      return state\n  }\n}\n\nconst UserContextProvider = props => {\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  let location = useLocation();\n  // dispatch({type: 'updateValue', auth: state.auth, route: location.pathname});\n  console.log('context provider rendered', location);\n\n  const handleLogin = (response) => {\n    dispatch({type: 'updateValue', auth: {isLoggedIn: 1, user: response.data.user}, route: location.pathname});\n    // customHistory.push(\"/\");\n    console.log('user logged in - ', response.data);\n  };\n  const handleLogout = () => {\n    dispatch({type: 'updateValue', auth : {isLoggedIn: -1, user: null}, route: location.pathname});\n    console.log('user logged out', location.pathname);\n  };\n  console.log('state.auth - ', state.auth);\n  if (state.auth.isLoggedIn === 0) {\n    console.log('pathname - ', location.pathname);\n    let userResponse;\n    axios.get('http://localhost:3000/railsapp/logged_in', {withCredentials: true})\n      .then(response => {\n        userResponse = response;\n        if (userResponse.data.logged_in) {\n          return axios.get('http://localhost:3000/railsapp/courses/' + userResponse.data.user.course_id + '.json', {withCredentials: true})\n        } else {\n          handleLogout();\n        }\n      })\n      .then(response => {\n        console.log(\"course response\", response);\n        userResponse.data.user.course = response.data;\n        handleLogin(userResponse);\n      })\n      .catch(error => {\n        console.log('api errors:', error);\n        handleLogout();\n      });\n  }\n  return (\n    <Context.Provider\n      value={{\n        auth: {\n          isLoggedIn: state.auth.isLoggedIn,\n          user: state.auth.user,\n          handleLogin: handleLogin,\n          handleLogout: handleLogout\n        },\n        route: state.route === '/login' ? '/' : location.pathname\n      }}\n    >\n      {props.children}\n    </Context.Provider>\n  );\n};\n\n\nclass App extends React.Component {\n\n  loginForm(auth) {\n    console.log('login rendered');\n    customHistory.push(\"/login\");\n    return <div className=\"wrapper\">\n      <Login history={customHistory} handleLogin={auth.handleLogin} loggedInStatus={auth.isLoggedIn === 1}/>\n    </div>;\n  }\n\n  signupForm(auth) {\n    console.log('signup rendered');\n    customHistory.push(\"/signup\");\n    return <div className=\"wrapper\">\n      <Signup history={customHistory} handleLogin={auth.handleLogin} loggedInStatus={auth.isLoggedIn === 1}/>\n    </div>;\n  }\n\n  body(auth) {\n    return (\n      <div className=\"wrapper\">\n        <Header auth={auth} />\n        <Route exact path=\"/courses\" component={CoursesBody}/>\n        <Route exact path=\"/student-book\" component={StudentBookBody}/>\n        <Route exact path=\"/email\" render={props => (<EmailBody auth={auth}/>)}/>\n        <Route exact path=\"/email-send\" render={props => (<EmailSendBody auth={auth}/>)}/>\n        <Route exact path=\"/point-your-courses\" component={PointYourCoursesBody}/>\n        <Route exact path=\"/point-colleagues\" component={PointColleaguesBody}/>\n        <Route exact path=\"/choose-minor\" component={ChooseMinorBody}/>\n        <Route exact path=\"/choose-course\" component={ChooseCourseBody}/>\n        <Route exact path=\"/KP-BKP\" component={BkpKpBody}/>\n        <Route exact path=\"/\" render={props => (<Body auth={auth}/>)}/>\n        <Route exact path='/login' render={props => (<Login history={customHistory} handleLogin={auth.handleLogin} loggedInStatus={auth.isLoggedIn === 1}/>)}/>\n        <Route exact path='/signup' render={props => (<Signup history={customHistory} handleLogin={auth.handleLogin} loggedInStatus={auth.isLoggedIn === 1}/>)}/>\n      </div>\n    );\n  }\n\n  waitForLogin() {\n    return <div className=\"wrapper\">\n      <Header />\n      <p>Подождите...</p>\n    </div>\n  }\n\n  render() {\n    console.log('logged in', this.props);\n    console.log('logged in wlp', window.location.pathname);\n    if (this.props.auth.isLoggedIn === 1 && window.location.pathname === '/login') {\n      customHistory.push(\"/\");\n      return <Redirect to='/'/>\n    }\n\n    return this.props.auth.isLoggedIn === 1 ? this.body(this.props.auth) :\n      this.props.auth.isLoggedIn === 0 ? this.waitForLogin() :\n      this.props.route == '/signup' ? this.signupForm(this.props.auth) :\n      this.loginForm(this.props.auth);\n  }\n}\n\nApp.contextType = Context;\n\nexport default App;\n\nfunction Index(props) {\n  console.log('logged in', props);\n\n  return (\n    <BrowserRouter history={customHistory}>\n      <Switch>\n        <UserContextProvider>\n          <Context.Consumer>\n          {global => {\n            console.log('props - ', global);\n            return (\n              <>\n                <Route exact path=\"/exit\" component={Exit}/>\n                <Route path=\"/\" render={props => <App auth={global.auth} route={global.route}/>}/>\n              </>\n            );\n          }}\n          </Context.Consumer>\n        </UserContextProvider>\n      </Switch>\n    </BrowserRouter>\n  );\n\n}\n\n// ========================================\n\nrender(\n  <Index />,\n  document.querySelector('#root')\n);\n"],"sourceRoot":""}